OpenStack is an open source cloud computing platform for public and private clouds.
A series of interrelated projects deliver a cloud infrastructure solution.
This guide shows OpenStack admin users how to create and manage resources in an OpenStack cloud with the OpenStack dashboard or OpenStack client commands.
Except where otherwise noted, this document is licensed under Creative Commons Attribution 3.0 License.
As an OpenStack cloud administrative user, you can manage tenants, known as projects, users, services, images, flavors, and quotas.
The examples in this guide show you how to complete these tasks with either:
Use this Web-based graphical interface, code named horizon, to view, create, and manage resources and services.
Each core OpenStack project has a command-line client that lets you run simple commands to view, create, and manage resources and services in a cloud and automate tasks by using scripts.
You can modify these examples for your specific use cases.
In addition to these ways of interacting with a cloud, you can access the OpenStack APIs directly or indirectly through cURL commands or open SDKs.
You can automate access or build tools to manage resources and services by using the native OpenStack APIs or the EC2 compatibility API.
To use the OpenStack APIs, it helps to be familiar with HTTP/1.1, RESTful web services, the OpenStack services, and JSON or XML data serialization formats.
Document change history This version of the guide replaces and obsoletes all previous versions.
As a cloud administrative user, the OpenStack dashboard lets you create and manage projects, users, images, and flavors.
You can also set quotas and create and manage services.
For information about using the dashboard to perform end user tasks, see the OpenStack End User Guide.
Log in to the dashboard The dashboard is available on the node with the nova-dashboard server role.
Ask the cloud operator for the host name or public IP address from which you can access the dashboard, and your user name and password.
In the address bar, type the host name or IP address for the dashboard:
If a certificate warning appears when you try to access the URL for the first time, a self-signed certificate is in use, which is not considered trustworthy by default.
Verify the certificate or add an exception in the browser to bypass the warning.
On the Log In page, enter your user name and password, and click Sign In.
You can also access Settings or sign out of the dashboard.
The visible tabs and functions in the dashboard depend on the access permissions, or roles, of the user you are logged in as.
If you are logged in as an end user, the main screen shows the Project tab.
If you are logged in as an administrator, the main screen shows the Project tab and Admin tab.
OpenStack dashboard—Project tab Select a project from the CURRENT PROJECT drop-down list on the left side to view and manage resources in that project.
The Project tab displays the details of the selected project.
Instances View, launch, create a snapshot from, stop, pause, or reboot instances, or connect to them through VNC.
Images & Snapshots View images, instance snapshots, and volume snapshots created project users, plus any images that are publicly available.
Create, edit, and delete images, and launch instances from images and snapshots.
Access & Security Use the following tabs to complete these tasks:
Stacks Use REST API to orchestrate multiple composite cloud applications.
OpenStack dashboard—Admin tab Enables administrative users to view usage and manage instances, volumes, flavors, images, projects, users, services, and quotas.
Resource Usage Use the following tabs to view the following usages:
Instances View, pause, resume, suspend, migrate, soft or hard reboot, and delete running instances that belong to users of some, but not all, projects.
Also, view the log for an instance or access an instance through VNC.
Volumes View, create, edit, and delete volumes and volume types.
Flavors View, create, edit, view extra specs for, and delete flavors.
Images View, create, edit properties for, and delete custom images.
Quotas are hard-coded in OpenStack Compute and define the maximum allowable size and number of resources.
System Info Use the following tabs to view the service info:
Projects View, create, assign users to, remove users from, and delete projects.
Manage projects and users As a cloud administrator, you manage both projects and users.
Projects are organizational units in the cloud to which you can assign users.
Projects are also known as tenants or accounts.You can manage projects and users independently from each other.
During cloud set up, the operator defines at least one project, user, and role.
The operator links the role to the user and the user to the project.
As an administrator, you can create additional projects and users as needed.
Learn how to add, update, and delete projects and users, assign users to one or more projects, and change or remove the assignment.
To enable or temporarily disable a project or user, update that project or user.
For information, see the section called “View and manage quotas” [20]
When you create a user account, you must assign the account to a primary project.
Before you can delete a user account, you must remove the user account from its primary project.
Consequences of disabling projects and users When you disable a project, it has the following consequences:
In the dashboard, users can no longer access the project from the CURRENT PROJECT drop-down list on the Project tab.
Users who are members of only the disabled project can no longer log in.
Instances that are already running are not automatically terminated though—you must stop them manually.
The data for a disabled project is maintained so that you can enable the project again at any time.
When you disable a user account, the user can no longer log in, but the data for the user is maintained so that you can enable the user again at any time.
On the Project Info tab in the Create Project window, enter a name and description for the project.
See the section called “Consequences of disabling projects and users” [6]
On the Project Members tab, add members to the project.
For information about quotas, see the section called “View and manage quotas” [20]
The Projects category shows the project, including its assigned ID.
Update a project You can update a project to change its name or description, and enable or temporarily disable it.
In the Edit Project window, you can update a project to change its name or description, and enable or temporarily disable it.
To enable a disabled project, select the Enabled check box.
Modify user assignments for a project When you create users, you must assign them to a primary project as described in the section called “Create a user account” [8]
You can assign users to additional projects or update and remove assignments.
The Edit Project window shows the following lists of users:
Users that are available to be assigned to the current project.
To assign a user to the current project, click + for the user.
The user moves from the All Users list to the Project Members list.
To remove a user from the current project, click the - button for the user.
The user moves from the Project Members list to the All Users list.
In the Create User window, enter a user name, email, and preliminary password for the user.
Choose a role for the user from the Role drop-down list.
Respond to the prompt to remember the password for the user.
The dashboard assigns an ID to the user, and the user appears in the Users category.
Select the user that you want to disable or enable.
You can disable or enable only one user at a time.
In the Enabled column, the enabled value updates to either True or False.
Manage project security Security groups are sets of IP filter rules that are applied to all project instances, and which define networking access to the instance.
Group rules are project specific; project members can edit the default rules for their group and add new rule sets.
All projects have a default security group that is applied to any instance that has no other defined security group.
Unless you change the default, this security group denies all incoming traffic and allows only outgoing traffic to your instance.
Note For information about updating global controls on the command line, see the section called “Manage project security” [35]
On the Project tab, select the appropriate project from the CURRENT PROJECT dropdown list, and click the Access & Security category.
By default, the new rule provides outgoing access rules for the group.
On the Project tab, select the appropriate project from the CURRENT PROJECT dropdown list, and click the Access & Security category.
On the Security Groups tab, click Edit rules for the appropriate security group.
TCP.Typically used to exchange data between systems, and for end-user communication.
Typically used to exchange data between systems, particularly at the application level.
Typically used by network devices, such as routers, to send error or monitoring messages.
Choose to open a single port or range of ports.
For a range of ports, enter port values in the From Port and To Port fields.
For a single port, enter the port value in the Port field.
Source group that enables any instance in the group to access any other group instance.
On the Project tab, select the appropriate project from the CURRENT PROJECT dropdown list, and click the Access & Security category.
On the Security Groups tab, click Edit rules for the appropriate security group.
To delete a rule, select the rule and click Delete Rule.
On the Project tab, select the appropriate project from the CURRENT PROJECT dropdown list, and click the Access & Security category.
Manage instances As an administrative user, you can manage instances for users in various projects.
You can view, terminate, edit, perform a soft or hard reboot, create a snapshot from, and migrate instances.
You can also view the logs for instances or launch a VNC console for an instance.
For information about using the dashboard to launch instances as an end user, see the OpenStack End User Guide.
The dashboard shows the instance snapshot in the Images & Snapshots category.
To launch an instance from the snapshot, select the snapshot and click Launch.
Select the instance for which you want to change the state.
In the More drop-down list in the Actions column, select the state.
Depending on the current state of the instance, you can choose to pause, un-pause, suspend, resume, soft or hard reboot, or terminate an instance (items in red are disabled)
Track usage Use the Overview category to track usage of instances for each project.
You can track costs per month by showing metrics like number of VCPUs, disks, RAM, and uptime of all your instances.
Log in to the dashboard and choose the admin project from the CURRENT PROJECT drop-down list.
Select a month and click Submit to query the instance usage for that month.
Manage volumes and volume types Volumes are the Block Storage devices that you attach to instances to enable persistent storage.
Users can attach a volume to a running instance or detach a volume and attach it to another instance at any time.
For information about using the dashboard to create and manage volumes as an end user, see the OpenStack End User Guide.
As an administrative user, you can manage volumes and volume types for users in various projects.
You can create and delete volume types, and you can view and delete volumes.
In the Create Volume Type window, enter a name for the volume type.
Delete volume types When you delete a volume type, volumes of that type are not deleted.
Log in to the dashboard and choose the admin project from the CURRENT PROJECT drop-down list.
Select the volume type or types that you want to delete.
Delete volumes When you delete an instance, the data of its attached volumes is not destroyed.
Log in to the dashboard and choose the admin project from the CURRENT PROJECT drop-down list.
Select the volume or volumes that you want to delete.
Create and manage images As an administrative user, you can create and manage images for the projects to which you belong.
You can also create and manage images for users in all projects to which you have access.
To create and manage images in specified projects as an end user, see the OpenStack End User Guide.
To create and manage images as an administrator for other users, use the following procedures.
Choose the admin project from the CURRENT PROJECT drop-down list.
The images that you can administer for cloud users appear on this page.
In the Create An Image window, enter or select the following values:
Image File Alternatively, browse to find the image file on your machine.
Public Select this option to make the image public to all users.
It might take some time before the status changes from queued to active.
Choose the admin project from the CURRENT PROJECT drop-down list.
You cannot change the kernel ID, RAM disk ID, or architecture attributes for an image.
Choose the admin project from the CURRENT PROJECT drop-down list.
Manage flavors In OpenStack, a flavor defines the compute, memory, and storage capacity of a virtual server that users can launch.
As an administrative user, you can create, edit, and delete flavors.
Root Disk Amount of disk space (in gigabytes) to use for the root (/) partition.
Amount of disk space (in gigabytes) to use for the ephemeral partition.
Ephemeral disks offer machine local disk storage linked to the life cycle of a VM instance.
When a VM is terminated, all data on the ephemeral disk is lost.
Swap Disk Amount of swap space (in megabytes) to use.
Choose the admin project from the CURRENT PROJECT drop-down list.
In the Create Flavor window, enter or select the following values:
Root Disk GB Enter the mount of disk space in gigabytes to use for the root (/) partition.
Ephemeral Disk GB Enter the amount of disk space in gigabytes to use for the ephemeral partition.
Ephemeral disks offer machine local disk storage linked to the life cycle of a VM instance.
When a VM is terminated, all data on the ephemeral disk is lost.
Swap Disk GB Enter the amount of swap space (in megabytes) to use.
Choose the admin project from the CURRENT PROJECT drop-down list.
In the Edit Flavor window, you can change the flavor name, VCPUs, RAM, root dish, ephemeral disk, and swap disk values..
Choose the admin project from the CURRENT PROJECT drop-down list.
View and manage quotas To prevent system capacities from being exhausted without notification, you can set up quotas.
For example, the number of gigabytes allowed for each tenant can be controlled so that cloud resources are optimized.
Quotas can be enforced at both the tenant (or project) and the tenant-user level.
Using the Dashboard, you can view default Compute and Block Storage quotas for new tenants, as well as update quotas for existing tenants.
Using the command-line interface, you can manage quotas for the OpenStack Compute Service, the OpenStack Block Storage Service, and the OpenStack Networking Service (see the section called “Manage quotas” [58])
Additionally, you can update Compute service quotas for tenant users.
The following table describes the Compute and Block Storage service quotas:
You can sort the table by clicking on either the Quota Name or Limit column headers.
In the More drop-down list for a project, click Modify Quotas.
On the Quota tab in the Edit Project window, edit the quota values.
To view and update the quotas for a service, use its command-line client.
As an administrative user, you can view information for OpenStack services.
The page displays the internal name and the public OpenStack name for the service, the host where the service runs, and whether the service is or is not enabled.
Compute Services tab to view services specific to the Compute Service.
Both host and zone are listed for each service, as well as its activation status.
The System Info window also offers status information for the following:
View cloud usage statistics The Telemetry service provides user-level usage data for OpenStack-based clouds, which can be used for customer billing, system monitoring, or alerts.
Data can be collected by notifications sent by existing OpenStack components (for example, usage events emitted from Compute) or by polling the infrastructure (for example, libvirt)
You can only view metering statistics on the dashboard (available only to adminstrators)
The Telemetry service must be set up and administered through the ceilometer command-line interface (CLI)
Log in to the OpenStack dashboard as a user with Admin privileges.
Global Disk Usage tab to view disk usage per tenant (project)
Global Network Traffic Usage tab to view ingress or egress usage per tenant (project)
Global Network Usage tab to view duration and creation requests for networks, subnets, routers, ports, and floating IPs, per tenant (project)
Stats tab to view a multi-series line chart with user-defined metrics.
You group by project, define the value type (min, max, avg, or sum), and specify the time period (or even use a calendar to define a date range)
Overview You can use the OpenStack command-line clients to run simple commands that make API calls.
You can run these commands from the command line or in scripts to automate tasks.
As long as you provide OpenStack credentials, you can run these commands on any machine.
Internally, each client command runs cURL commands that embed API requests.
The OpenStack APIs are RESTful APIs that use the HTTP protocol, including methods, URIs, media types, and response codes.
These open-source Python clients run on Linux or Mac OS X systems and are easy to learn and use.
On some client commands, you can specify a debug parameter to show the underlying API request for the command.
This is a good way to become familiar with the OpenStack API calls.
These command-line clients are available for the respective services' APIs:
Client for the Telemetry API that lets you create and collect measurements across OpenStack.
Client for the Block Storage Service API that lets you create and manage volumes.
Client for the Image Service API that lets you create and manage images.
Client for the Orchestration API that lets you launch stacks from templates, view details of running stacks including events and resources, and update and delete stacks.
Client for the Identity Service API that lets you create and manage users, tenants, roles, endpoints, and credentials.
Client for the Networking API that lets you configure networks for guest servers.
Client for the Object Storage API that lets you gather statistics, list items, update metadata, upload, download and delete files stored by the Object Storage service.
Provides access to a swift installation for ad hoc processing.
For client installation instructions, see Install the OpenStack command-line clients.
For information about the OpenStack RC file, see Download and source the OpenStack RC file.
Get the version for a client After you install an OpenStack client, you can get its version number.
Run the following command get the version number for a client:
For example, to see the version of the nova client, run the following command:
To see the version of the keystone client, run the following command:
Get help for client commands To get usage information, including a list of commands with descriptions, for a client, run the following command:
For example, to get help information for the swift client, run the following command:
Positional arguments: <subcommand> delete               Delete a container or objects within a container downlad              Download objects from containers list                 Lists the containers for the account or the objects for a container post                 Updates meta information for the account, container, or object stat                 Displays information for the account, container, or object upload               Uploads files or directories to the given container.
Depending on your credentials, you might not have permission to use every command.
After the help command, you can enter a command name to get help for that command, as follows:
For example, to get help for the glance image-show command, enter the following command:
The command returns a description of the command and its positional and optional arguments:
Positional arguments: <IMAGE>           Name or ID of image to describe.
Optional arguments: --human-readable  Print image size in a human-friendly format.
Manage projects, users, and roles As a cloud administrator, you manage projects, users, and roles.
Projects are organizational units in the cloud to which you can assign users.
For example, define actions for Compute service roles in the /etc/nova/ policy.json file.
You can manage projects, users, and roles independently from each other.
During cloud set up, the operator defines at least one project, user, and role.
Learn how to add, update, and delete projects and users, assign users to one or more projects, and change or remove the assignment.
To enable or temporarily disable a project or user, you update that project or user.
Before you can delete a user account, you must remove the user account from its primary project.
Before you can run keystone client commands, you must download and source an OpenStack RC file.
Services To look at your service catalog, use these keystone client commands.
A tenant is a group of zero or more users.
Each tenant and user pairing can have a role associated with it.
To list all projects with their ID, name, and whether they are enabled or disabled:
Create a project named new-project: $ keystone tenant-create --name new-project --description 'my new project'
Note the ID for the project so you can update it in the next procedure.
Update a project Specify the project ID to update a project.
You can update the name, description, and enabled status of a project.
To verify your changes, show information for the updated project:
The output shows the ID, name, enabled status, and e-mail address for each user:
Optionally, you can specify a tenant ID, password, and email address.
It is recommended that you include the tenant ID and password because the user cannot log in to the dashboard without this information.
You can update the name, email address, and enabled status for a user.
If you disable a user account, the user cannot log in to the dashboard.
However, data for the user account is maintained, so you can enable the user at any time.
To change the name and description for a user account:
To assign users to multiple projects, define a role and assign that role to a user-project pair.
To assign a user to a project, you must assign the role to a user-project pair.
To do this, you need the user, role, and project IDs.
Note the ID of the user to which you want to assign the role.
Note the ID of the role that you want to assign.
Note the ID of the project to which you want to assign the role.
If the role was removed, the command output omits the removed role.
Manage project security Security groups are sets of IP filter rules that are applied to all project instances, and which define networking access to the instance.
Group rules are project specific; project members can edit the default rules for their group and add new rule sets.
All projects have a "default" security group which is applied to any instance that has no other defined security group.
Unless you change the default, this security group denies all incoming traffic and allows only outgoing traffic to your instance.
For information about updating rules using the dashboard, see the section called “Manage project security” [9]
True (default), hosts on the same subnet are not filtered and are allowed to pass all types of traffic between them.
On a flat network, this allows all instances from all projects unfiltered communication.
With VLAN networking, this allows access between instances within the same project.
You can also simulate this setting by configuring the default security group to allow all traffic from the subnet.
From the command line you can get a list of security groups for the project you're acting in using the nova command:
Ensure your system variables are set for the user and tenant for which you are checking security group rules.
These rules are allow type rules as the default is deny.
The first column is the IP protocol (one of icmp, tcp, or udp) the second and third columns specify the affected port range.
The third column specifies the IP range in CIDR format.
This example shows the full port range for all protocols allowed from all IPs.
When adding a new security group, you should pick a descriptive but brief name.
This name shows up in brief descriptions of the instances that use it where the longer description field often does not.
Ensure your system variables are set for the user and tenant for which you are checking security group rules.
The arguments are positional, and the "from-port" and "to-port" arguments specify the local port range connections are allowed to access, not the source and destination ports of the connection.
You can create complex rule sets by creating additional rules.
For example, if you want to pass both http and https traffic, run:
Despite only outputting the newly added rule, this operation is additive (both rules are created and enforced)
View all rules for the new security group, as follows:
Ensure your system variables are set for the user and tenant for which you are deleting a security group.
SourceGroups are a special, dynamic way of defining the CIDR of allowed sources.
The user specifies a SourceGroup (Security Group name), and all the users' other Instances using the specified SourceGroup are selected dynamically.
This alleviates the need for individual rules to allow each new member of the cluster.
Make sure to set the system variables for the user and tenant for which you are deleting a security group.
The cluster rule allows ssh access from any other instance that uses the global_http group.
The Identity Service enables you to define services, as follows:
The Identity Service acts as a service catalog of endpoints for other OpenStack services.
When the Identity Service uses a template file back end, any changes that are made to the endpoints are cached.
These changes do not persist when you restart the service or reboot the machine.
When the Identity Service is online, you must add the services to the catalog.
When you deploy a system for production, use the SQL back end.
The auth_token middleware supports the use of either a shared secret or users for each service.
To authenticate users against the Identity Service, you must create a service user for each OpenStack service.
For example, create a service user for the Compute, Block Storage, and Networking services.
To configure the OpenStack services with service users, create a project for all services and create users for each service.
Assign the admin role to each service user and project pair.
This role enables users to validate tokens and authenticate and authorize other user requests.
The service type, such as identity, compute, network, image, object-store or any other service identifier string.
For example, to create a swift service of type object-store, run this command: $ keystone service-create --name swift --type object-store --description "object store service"
Typically, this project is named service, but choose any name you like:
You need it to create service users and assign roles.
Create service users for the relevant services for your deployment.
Manage Compute services You can enable and disable Compute services.
Note The Havana release introduces the optional --reason parameter that enables you to log a reason for disabling a service.
The operator might restrict image upload and management to only cloud administrators or operators.
You can upload images through the glance client or the Image Service API.
You can also use the nova client to list images, set, and delete image metadata, delete images, and take a snapshot of a running instance to create an image.
You can use grep to filter the list, as follows:
After you restart the Image Service, you can use the following syntax to view the image's location information:
Alternatively, you can pass images to the client through stdin.
For the sake of optimal performance, it will default to using virtio for both disk and VIF (NIC) models.
The downside of this approach is that it is not possible to run operating systems that lack virtio drivers, for example, BSD, Solaris, old Linux, and old Windows.
The valid model values depend on the libvirt_type setting, as shown in the following tables:
Create image (nova) You can use the nova client to list images, set and delete image metadata, delete images, and take a snapshot of a running instance to create an image.
The safest approach is to shut down the instance before you take a snapshot.
You cannot create a snapshot from an instance that has an attached volume.
Detach the volume, create the image, and re-mount the volume.
To create the image, list instances to get the server ID:
The command creates a qemu snapshot and automatically uploads the image to your repository.
Only the tenant that creates the image has access to it.
Only the tenant who creates the image has access to it.
You cannot create a snapshot from an instance that has an attached volume.
Make sure the version of qemu you are using is version 0.14 or greater.
Older versions of qemu result in an "unknown option -s" error message in the nova-compute.log.
Manage volumes A volume is a detachable block storage device, similar to a USB hard drive.
To create and manage volumes, you use a combination of nova and cinder client commands.
Migrate a volume As an administrator, you can migrate a volume with its data from one location to another in a manner that is transparent to users and workloads.
Bring down a physical storage device for maintenance without disrupting workloads.
If the volume is in use or has snapshots, the specified host destination cannot accept the volume.
If the user is not an administrator, the migration fails.
Manage flavors In OpenStack, flavors define the compute, memory, and storage capacity of nova computing instances.
To put it simply, a flavor is an available hardware configuration for a server.
It defines the “size” of a virtual server that can be launched.
Root Disk GB Amount of disk space (in gigabytes) to use for the root (/) partition.
Ephemeral Disk GB Amount of disk space (in gigabytes) to use for the ephemeral partition.
Ephemeral disks offer machine local disk storage linked to the life cycle of a VM instance.
When a VM is terminated, all data on the ephemeral disk is lost.
You can create and manage flavors with the nova flavor-* commands provided by the python-novaclient package.
To create a flavor, specify a name, ID, RAM size, disk size, and the number of VCPUs for the flavor, as follows:
After you create a flavor, assign it to a project by specifying the flavor name or ID and the tenant ID:
Select hosts where instances are launched With the appropriate permissions, you can select which host instances are launched on and which roles can boot instances on this host.
To specify which roles can launch an instance on a specified host, enable the create:forced_host option in the policy.json file.
By default, this option is enabled for only the admin role.
To view the list of valid compute hosts, use the nova hypervisor-list command, as follows:
Beginning in the Grizzly release, you can enable the create:forced_host option in the policy.json file to specify which roles can launch an instance on a specified host.
Evacuate instances If a cloud compute node fails due to a hardware malfunction or another reason, you can evacuate instances to make them available again.
To preserve user data on server disk, you must configure shared storage on the target host.
Also, you must validate that the current VM host is down.
To find a different host for the evacuated instance, run this command to list hosts:
You can pass the instance password to the command by using the --password <pwd> option.
If you do not specify a password, one is generated and printed after the command finishes successfully.
The command evacuates an instance from a down host to a specified host.
The instance is booted from a new disk, but preserves its configuration including its ID, name, uid, IP address, and so on.
To preserve the user disk data on the evacuated server, deploy OpenStack Compute with shared file system.
Manage IP addresses Each instance can have a private, or fixed, IP address and an IP address, often public, that is movable from instance to instance called a floating IP address.
Private IP addresses are used for communication between instances and public ones are used for communication with the outside world.
When you launch an instance, it is automatically assigned a private IP address that stays the same until you explicitly terminate the instance.
Rebooting an instance has no effect on its private IP address.
The cloud operator must configure a pool of floating IP addresses.
Then, you can allocate a certain number of floating IP addresses from this pool to a project.
A project quota defines the maximum number of floating IP addresses for the project.
You can add a floating IP address from this pool to an instance in the project.
You can dynamically associate floating IP addresses with or disassociate floating IP addresses from instances in the same project at any time.
Before you can assign a floating IP address to an instance, you must allocate floating IP addresses to a project.
After you allocate floating IP addresses to the current project, you can assign them to running instances.
You can assign one floating IP address to only one instance at a time.
Use the nova *floating-ip-* commands to manage floating IP addresses.
If this list is empty, the cloud operator must configure a pool of floating IP addresses.
To allocate a floating IP address to the current project:
By default, the floating IP address is allocated from the public pool.
If more than one IP address pool is available, you can specify the pool from which to allocate the address:
To list floating IP addresses that are allocated to the current project:
For each floating IP address that is allocated to the current project, the command shows the floating IP address, the ID for the instance to which the floating IP address is assigned, the associated fixed IP address, and the pool from which the floating IP address was allocated.
To associate a floating IP address with an instance, first allocate that address to the current project:
Then, assign the floating IP address to the instance, as follows:
Notice that the instance is now associated with two floating IP addresses:
To assign a fixed IP address to a floating IP address that you assign to an instance, add the fixed IP address as an optional parameter:
After you assign the floating IP address and configure security group rules for the instance, the instance is publicly available at the floating IP address.
To release a floating IP address from the current project:
The floating IP address is returned to the floating IP address pool that is available to all projects.
If a floating IP address is assigned to a running instance, it is automatically disassociated from that instance.
Manage quotas To prevent system capacities from being exhausted without notification, you can set up quotas.
For example, the number of gigabytes allowed for each tenant can be controlled so that cloud resources are optimized.
Quotas can be enforced at both the tenant (or project) and the tenant-user level.
Manage Compute service quotas As an administrative user, you can use the nova quota-* commands, which are provided by the python-novaclient package, to update the Compute Service quotas for a specific tenant or tenant user, as well as update the quota defaults for a new tenant.
This number must be equal to or greater than the number of allowed instances.
Update a default value for a new tenant, as follows:
Place the tenant ID in a usable variable, as follows:
List the currently set quota values for a tenant, as follows:
To view a list of options for the quota-update command, run:
Place the user ID in a usable variable, as follows:
Place the user's tenant ID in a usable variable, as follows:
List the currently set quota values for a tenant user, as follows:
Place the user ID in a usable variable, as follows:
Place the user's tenant ID in a usable variable, as follows:
To view a list of options for the quota-update command, run:
Manage Block Storage service quotas As an administrative user, you can update the OpenStack Block Storage Service quotas for a project.
You can also update the quota defaults for a new project.
As an administrative user, you can view and update Block Storage Service quotas.
View Block Storage Service quotas for a project, as follows:
To update Block Storage Service quotas, place the tenant ID in a usable variable, as follows:
Manage Networking service quotas A quota limits the number of available resources.
When you try to create more resources than the quota allows, an error occurs:
Per-tenant quota configuration is also supported by the quota extension API.
In the Networking default quota mechanism, all tenants have the same quota values, such as the number of resources that a tenant can create.
The quota value is defined in the OpenStack Networking neutron.conf configuration file.
To disable quotas for a specific resource, such as network, subnet, or port, remove a corresponding item from quota_items.
OpenStack Networking also supports quotas for L3 resources: router and floating IP.
Add these lines to the quotas section in the neutron.conf file.
OpenStack Networking also supports quotas for security group resources: number of security groups and the number of rules for each security group.
Add these lines to the quotas section in the neutron.conf file:
OpenStack Networking also supports per-tenant quota limit by quota extension API.
Only users with the admin role can change a quota value.
By default, the default set of quotas are enforced for all tenants, so no quota-create command exists.
When you set this option, the output for Networking commands shows quotas.
The command shows the quotas extension, which provides per-tenant quota management support:
To show information for the quotas extension, run this command:
Specifically, Open vSwitch, Linux Bridge, and Nicira NVP support them, but new versions of other plugins might bring additional functionality.
The quota-list command lists tenants for which the per-tenant quota is enabled.
The command does not list tenants with default quota support.
You must be an administrative user to run this command:
The quota-show reports the current set of quota limits for the specified tenant.
Nonadministrative users can run this command without the --tenant_id parameter.
If per-tenant quota limits are not enabled for the tenant, the command shows the default set of quotas:
The following command shows the command output for a non-administrative user:
Use the quota-update command to update a quota for a specified tenant:
You can update quotas for multiple resources through one command:
To update the limits for an L3 resource such as, router or floating IP, you must define new values for the quotas after the -- directive.
This example updates the limit of the number of floating IPs for the specified tenant:
After you run this command, you can see that quota values for the tenant are reset to the default values:
Analyze log files Use the swift command-line client to analyze log files.
The swift client is simple to use, scalable, and flexible.
You can use the -o —output option with a single object download to redirect the command output to a specific file or to STDOUT (-)
The ability to redirect the output to STDOUT enables you to pipe (|) data without saving it to disk first.
This example assumes that logtest directory contains the following log files:
Download and analyze an object This example uses the -o —output option and a hyphen (-) to get information about an object.
After awk processes the output, it pipes it to sort and uniq -c to sum up the number of occurrences for each request type and return code combination.
Discover how many PUT requests are in each log file.
Use a bash for loop with awk and swift with the -o —output option and a hyphen (-) to discover how many PUT requests are in each log file.
Run the swift list command to list objects in the logtest container.
Then, for each item in the list, run the swift download -o - command.
Pipe the output into grep to filter the PUT requests.
List the object names that begin with a specified string.
For each item in the list, run the swift download -o - command.
Defaults to env[OS_CACERT] --insecure            Explicitly allow keystoneclient to perform "insecure" TLS (https) requests.
The server's certificate will not be verified against any certificate authorities.
Defaults to env[OS_CACHE] --force-new-token     If the keyring is available and in use, token will always be stored and fetched from the keyring until the token has expired.
Use this option to request a new token and replace the existing one in the keyring.
The server's certificate will not be verified against any certificate authorities.
This file can optionally be prepended with the private key.
This option is not necessary if your key is prepended to your cert file.
Without this option glance looks for the default system CA certificates.
The server's certificate will not be verified against any certificate authorities.
Defaults to env[OS_CACERT] --insecure            Explicitly allow novaclient to perform "insecure" SSL (https) requests.
The server's certificate will not be verified against any certificate authorities.
The server's certificate will not be verified against any certificate authorities.
This file can optionally be prepended with the private key.
This option is not necessary if your key is prepended to your cert file.
Without this option the client looks for the default system CA certificates.
The server's certificate will not be verified against any certificate authorities.
This file can optionally be prepended with the private key.
This option is not necessary if your key is prepended to your cert file.
Without this option ceilometer looks for the default system CA certificates.
Many resources are available to help you run and use OpenStack.
Members of the OpenStack community can answer questions and help with bug suspicions.
We are constantly improving and adding to the main features of OpenStack, but if you have any problems, do not hesitate to ask.
Use the following resources to get OpenStack support and troubleshoot your existing installations.
The following books explain how to install an OpenStack cloud and its associated components:
The following books explain how to configure and run an OpenStack cloud:
The following books explain how to use the OpenStack dashboard and command-line clients:
The following documentation provides reference and guidance information for the OpenStack APIs:
The Training Guides offer software training for cloud administration and management.
Be sure to give a clear, concise summary in the title and provide as much detail as possible in the description.
Paste in your command output or stack traces, links to screen shots, and so on.
OpenStack mailing lists A great way to get answers and insights is to post your question or problematic scenario to the OpenStack mailing list.
You can learn from and help others who might have similar issues.
To subscribe or view the archives, go to http://lists.openstack.org/cgi-bin/mailman/ listinfo/openstack.
You might be interested in the other mailing lists for specific projects or development, which you can find on the wiki.
A description of all mailing lists is available at http://wiki.openstack.org/MailingLists.
The OpenStack wiki The OpenStack wiki contains a broad range of topics but some of the information can be difficult to find or is a few pages deep.
If you search for specific information, such as about networking or nova, you can find lots of relevant material.
More is being added all the time, so be sure to check back often.
You can find the search box in the upper right corner of any OpenStack wiki page.
The Launchpad Bugs area The OpenStack community values your set up and testing efforts and wants your feedback.
You can view existing bugs and report bugs in the Launchpad Bugs area.
Use the search feature to determine whether the bug has already been reported or even better, already fixed.
If it still seems like your bug is unreported, fill out a bug report.
Paste in your command output or stack traces, links to screen shots, and so on.
Any deployment specific information is helpful, such as Ubuntu 12.04 or multi-node install.
The OpenStack IRC channel The OpenStack community lives and breathes in the #openstack IRC channel on the Freenode network.
You can hang out, ask questions, or get immediate feedback for urgent and pressing issues.
You can also use Colloquy (Mac OS X, http://colloquy.info/), mIRC (Windows, http://www.mirc.com/), or XChat (Linux)
When you are in the IRC channel and want to share code or command output, the generally accepted method is to use a Paste Bin.
Just paste your longer amounts of text or logs in the web form and you get a URL you can paste into the channel.
Log in to the dashboard OpenStack dashboard—Project tab OpenStack dashboard—Admin tab.
Manage projects and users Consequences of disabling projects and users Create a project Update a project Modify user assignments for a project Delete projects Create a user account Disable or enable a user Delete users Manage project security Create a security group Add a security group rule Delete a security group rule Delete a security group.
Manage instances Create instance snapshots Control the state of an instance Track usage.
Manage volumes and volume types Create a volume type Delete volume types Delete volumes.
Create and manage images Create images Update images Delete images.
View and manage quotas View default project quotas Update project quotas.
View cloud resources View services information View cloud usage statistics View resource statistics.
Overview Get the version for a client Get help for client commands Manage projects, users, and roles Services service-create service-list service-get service-delete Create a tenant (project) Update a project Delete a project Create a user Update a user Delete a user Create and assign a role.
Manage services Create and manage services and service users Create a service Create service users Delete a service.
Manage images List or get details for images (glance) Create or update an image (glance) Create image (nova) Troubleshoot image creation.
Select hosts where instances are launched Evacuate instances Manage IP addresses Manage quotas Manage Compute service quotas View and update Compute quotas for a tenant (project) View and update Compute quotas for a tenant user.
Manage Networking service quotas Basic quota configuration Configure per-tenant quotas.
Analyze log files Upload and analyze log files Download and analyze an object.
