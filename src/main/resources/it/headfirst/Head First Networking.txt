Head First Networking takes network concepts that are sometimes too esoteric and abstract even for highly technical people to understand without difficulty and makes them very concrete and approachable.
Head First Networking is a comprehensive introduction to understanding, building, and maintaining computer networks.
The book offers practical guidance on how to identify and repair network connection problems, configure switches and routers, and make your network secure.
The big picture is what is often lost in information technology how-to books.
Head First Networking keeps the focus on the real world, distilling knowledge from experience and presenting it in byte-size packets for the IT novitiate.
Kathy and Bert’s Head First Java transforms the printed page into the closest thing to a GUI you’ve ever seen.
Beyond the engaging style that drags you forward from know-nothing into exalted Java warrior status, Head First Java covers a huge amount of  practical matters that other texts leave as the dreaded “exercise for the reader...”  It’s clever, wry, hip and practical—there aren’t a lot of  textbooks that can make that claim and live up to it while also teaching you about object serialization and network launch protocols.
Just the right tone for the geeked-out, casual-cool guru coder in all of  us.
There are books you buy, books you keep, books you keep on your desk, and thanks to O’Reilly and the Head First crew, there is the penultimate category, Head First books.
They’re the ones that are dog-eared, mangled, and carried everywhere.
Head First SQL is at the top of  my stack.
Usually when reading through a book or article on design patterns, I’d have to occasionally stick myself in the eye with something just to make sure I was paying attention.
Odd as it may sound, this book makes learning about design patterns fun.
Wouldn’t it be dreamy if there was a book on networking that didn’t ask you to memorize the.
O’Reilly Media books may be purchased for educational, business, or sales promotional use.
Many of  the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks.
Where those designations appear in this book, and O’Reilly Media, Inc., was aware of  a trademark claim, the designations have been printed in caps or initial caps.
While every precaution has been taken in the preparation of  this book, the publisher and the authors assume no responsibility for errors or omissions, or for damages resulting from the use of  the information contained herein.
No routers were harmed in the making of  this book (but some CAT-5 cables were)
And for making networking complex enough that people need a book to learn it.
Al Anderson is grateful that his family gave him the time and space to write this book.
He also teaches such classes on networking services, network operating systems and programming for the IT program.
Al has also produced training videos on Ruby, Ruby on Rails, and RealBasic.
If  that was not enough, he recently finished his Bachelor’s in Computer Engineering after starting 20 plus years ago.
This book adventure started over a year and half ago when Ryan and Al were flown to Boston to attend training at O’Reilly’s Cambridge office.
They were not under contract yet, and they were not sure where the journey would take them.
Prior to that, he worked as editor and information systems specialist for a river, stream, and wetland research program in the School of  Forestry at the University of  Montana.
He loves painting, cartooning, playing blues harmonica, making Flash learning toys, and practicing zazen.
He spends his best moments with his daughter and son in the Mission Mountain Valley of  Montana, and with his sweetheart, Shonna, in Portland, OR.
Here you are trying to learn something, while here your brain is doing you a favor by making sure the learning doesn’t stick.
But what happens when it all goes wrong? Organizations rely.
That’s why knowing how to fix physical networks is so important.
You will also learn how to use proper network hardware to contain and.
Keep reading, and we’ll show you how to use these tools to troubleshoot.
You’ve Been Framed It’s time to go under the hood.
Network devices send data down the cable by converting the data into a signal.
And the key to all of this is packet analysis.
Networks need as much intelligence as you can pack into them, but where.
In this chapter, we’ll look at how hubs, switches and routers use their innate.
But what do you do if you need to share resources with some other network?
We’ll show you how to program your router, and how the router itself can.
Keep reading, and you’ll find it’s out of this world...
To build big networks, you need to use routers and they have to talk to each other.
In the chapter, you will first see how to manually.
Finally you will learn how to setup EIGRP, an advanced routing protocol.
You will also install and configure your own DNS server.
If it’s not, one day it will just stop working, and you will have.
You will discover in this chapter various tools and techniques to help you.
First you need to consider the physical location, because radio.
But don’t worry, we’ll explain them, so at the end of the chapter you will be able.
This particular access point can act like a network switch through these LAN ports.
Attackers lurk around every corner: rootkits, and script kiddies, and bots...
In this chapter, we expose you to the seedy underworld of.
You Gotta Have a Plan! When it comes to networks, a good plan means everything.
You’ve learned how to implement physical cable networks, how wireless access.
Networking is such a huge subject, we couldn’t hope to cover everything in just one book.
But before we turn you loose on the world, we want to add a few more things to.
Some of these things are in all the network books, so we thought we.
Some of these things are higher level, and we want.
In this appendix, you’ll find a whole bunch of ASCII codes.
Whether you prefer binary, hexadecimal, or good old decimal, we’ve got just the codes.
And the most commonly used DNS server on the Internet is BIND.
I can’t believe they put that in a networking book.
Do you prefer stimulating dinner party conversation to dry, dull, academic lectures?
Are you a CCNA or CCNP looking for a reference book?2
Do you need to learn networking for a job, for a class (like CCNA), or just because you think it’s about time you learned the difference between a switch and a router?
Are you afraid to try something different? Would you rather have a root canal than mix stripes with plaid? Do you believe that a technical book can’t be serious if it anthropomorphizes multimeters and oscilloscopes?
It was built that way, and it helps you stay alive.
So what does your brain do with all the routine, ordinary, normal things you encounter? Everything it can to stop them from interfering with the brain’s real job—recording things that matter.
It doesn’t bother saving the boring things; they never make it past the “this is obviously not important” filter.
How does your brain know what’s important? Suppose you’re out for a day hike and a tiger jumps in front of  you, what happens inside your head and body?
This must be important! Don’t forget it! But imagine you’re at home, or in a library.
Or trying to learn some tough technical topic your boss thinks will take a week, ten days at the most.
It’s trying to make sure that this obviously non-important content doesn’t clutter up scarce resources.
Resources that are better spent storing the really big things.
Like how you should never have posted those “party” photos on your Facebook page.
And there’s no simple way to tell your brain, “Hey brain, thank you very much, but no matter how dull this book is, and how little I’m registering on the emotional Richter scale right now, I really do want you to keep this stuff  around.”
We think of a “Head First” reade r as a learner.
If  you really want to learn, and you want to learn more quickly and more deeply, pay attention to how you pay attention.
Most of  us did not take courses on metacognition or learning theory when we were growing up.
We were expected to learn, but rarely taught to learn.
But we assume that if  you’re holding this book, you really want to learn networking.
And you probably don’t want to spend a lot of  time.
If  you want to use what you read in this book, you need to remember what you read.
To get the most from this book, or any book or learning experience, take responsibility for your brain.
The trick is to get your brain to see the new material you’re learning as Really Important.
Otherwise, you’re in for a constant battle, with your brain doing its best to keep the new content from sticking.
So just how DO you get your brain to treat networking like it was a hungry tiger? There’s the slow, tedious way, or the faster, more effective way.
You obviously know that you are able to learn and remember even the dullest of  topics if  you keep pounding the same thing into your brain.
With enough repetition, your brain says, “This doesn’t feel important to him, but he keeps looking at the same thing over and over and over, so I suppose it must be.”
The faster way is to do anything that increases brain activity, especially different types of  brain activity.
The things on the previous page are a big part of  the solution, and they’re all things that have been proven to help your brain work in your favor.
For example, studies show that putting words within the pictures they describe (as opposed to somewhere else in the page, like a caption or in the body text) causes your brain to try to makes sense of  how the words and picture relate, and this causes more neurons to fire.
More neurons firing = more chances for your brain to get that this is something worth paying attention to, and possibly recording.
A conversational style helps because people tend to pay more attention when they perceive that they’re in a conversation, since they’re expected to follow along and hold up their end.
The amazing thing is, your brain doesn’t necessarily care that the “conversation” is between you and a book! On the other hand, if  the writing style is formal and dry, your brain perceives it the same way you experience being lectured to while sitting in a roomful of  passive attendees.
Here’s what WE did: We used pictures, because your brain is tuned for visuals, not text.
As far as your brain’s concerned, a picture really is worth a thousand words.
And when text and pictures work together, we embedded the text in the pictures because your brain works more effectively when the text is within the thing the text refers to, as opposed to in a caption or buried in the text somewhere.
We used redundancy, saying the same thing in different ways and with different media types, and multiple senses, to increase the chance that the content gets coded into more than one area of  your brain.
We used concepts and pictures in unexpected ways because your brain is tuned for novelty, and we used pictures and ideas with at least some emotional content, because your brain is tuned to pay attention to the biochemistry of  emotions.
That which causes you to feel something is more likely to be remembered, even if  that feeling is nothing more than a little humor, surprise, or interest.
We used a personalized, conversational style, because your brain is tuned to pay more attention when it believes you’re in a conversation than if  it thinks you’re passively listening to a presentation.
We included more than 80 activities, because your brain is tuned to learn and remember more when you do things than when you read about things.
We used multiple learning styles, because you might prefer step-by-step procedures, while someone else wants to understand the big picture first, and someone else just wants to see an example.
But regardless of  your own learning preference, everyone benefits from seeing the same content represented in multiple ways.
We include content for both sides of  your brain, because the more of  your brain you engage, the more likely you are to learn and remember, and the longer you can stay focused.
Since working one side of  the brain often means giving the other side a chance to rest, you can be more productive at learning for a longer period of  time.
And we included stories and exercises that present more than one point of  view, because your brain is tuned to learn more deeply when it’s forced to make evaluations and judgments.
We included challenges, with exercises, and by asking questions that don’t always have a straight answer, because your brain is tuned to learn and remember when it has to work at something.
Think about it—you can’t get your body in shape just by watching people at the gym.
But we did our best to make sure that when you’re working hard, it’s on the right things.
That you’re not spending one extra dendrite processing a hard-to-understand example, or parsing difficult, jargon-laden, or overly terse text.
In stories, examples, pictures, etc., because, well, because you’re a person.
And your brain pays more attention to people than it does to things.
These tips are a starting point; listen to your brain and figure out what works for you and what doesn’t.
Your brain works best in a nice bath of  fluid.
Dehydration (which can happen before you ever feel thirsty) decreases cognitive function.
Get your hands dirty! There’s only one way to learn to network: get your hands dirty.
And that’s what you’re going to do throughout this book.
Networking is a skill, and the only way to get good at it is to practice.
We’re going to give you a lot of  practice: every chapter has exercises that pose a problem for you to solve.
Don’t just skip over them—a lot of  the learning happens when you solve the exercises.
But try to solve the problem before you look at the solution.
And definitely get it working before you move on to the next part of  the book.
Groaning over a bad joke is still better than feeling nothing at all.
If  you find yourself  starting to skim the surface or forget what you just read, it’s time for a break.
Once you go past a certain point, you won’t learn faster by trying to shove more in, and you might even hurt the process.
If you’re trying to understand something, or increase your chance of  remembering it later, say it out loud.
Better still, try to explain it out loud to someone else.
You’ll learn more quickly, and you might uncover ideas you hadn’t known were there when you were reading about it.
Part of  the learning (especially the transfer to long-term memory) happens after you put the book down.
Your brain needs time on its own, to do more processing.
If  you put in something new during that processing time, some of  what you just learned will be lost.
They’re not optional sidebars, they’re part of  the core content! Don’t skip them.
Here’s what YOU can do to bend your brain into submission.
We put them in, but if  we did them for you, that would be like having someone else do your workouts for you.
There’s plenty of  evidence that physical activity while learning can increase the learning.
When the book asks you a question, don’t just skip to the answer.
The more deeply you force your brain to think, the better chance you have of  learning and remembering.
The more you understand, the less you have to memorize.
Read Me This is a learning experience, not a reference book.
We deliberately stripped out everything that might get in the way of  learning whatever it is we’re working on at that point in the book.
And the first time through, you need to begin at the beginning, because the book makes assumptions about what you’ve already seen and learned.
We begin by teaching basic concepts like cabling and physical layout, then we move on to signals and hardware, and then onto stuff like wireless networking, security, and network design.
While it’s important to create well-designed networks, before you can, you need to understand the basic components and concepts of  networking.
So we begin by having you physically layout simple networks and work with network cables.
Then, a bit later in the book, we show you good network design practices.
By then you’ll have a solid grasp of  the basic information and can focus on the advanced aspects of  network design.
While we could have put every single networking technology in this book, we thought you’d prefer to have a reasonably liftable book that would teach you the networking technologies that will get you up and running.
We give you the ones you need to know, the ones you’ll use 95 percent of  the time.
And when you’re done with this book, you’ll have the confidence to go research that hot new technology and implement on your kickass network.
We intentionally cover things differently than the other networking books out there.
We decided to write a book that our students could use, a practical book that didn’t start out with the OSI layer model.
We like it when our students stay awake in class.
We also cover stuff  we couldn’t find in other books: all that structural stuff  that keeps your cables neat and out of  sight; how signals get encoded into binary, hex, and ascii; and how reading blueprints can help you lay out your network.
The exercises and activities are not add-ons; they’re part of  the core content of  the book.
Some of  them are to help with memory, some are for understanding, and some will help you apply what you’ve learned.
The crossword puzzles are the only thing you don’t have to do, but they’re good for giving your brain a chance to think about the words and terms you’ve been learning in a different context.
One distinct difference in a Head First book is that we want you to really get it.
And we want you to finish the book remembering what you’ve learned.
Most reference books don’t have retention and recall as a goal, but this book is about learning, so you’ll see some of  the same concepts come up more than once.
We love it when you can find fun and useful extra stuff  on book companion sites.
You’ll find extra stuff  on networking at the following two urls: http://www.headfirstlabs.com/books/hfnw/ http://www.hfnetworking.com.
For some of  them, there is no right answer, and for others, part of  the learning experience of  the Brain Power activities is for you to decide if  and when your answers are right.
In some of  the Brain Power exercises, you will find hints to point you in the right direction.
Johnathan Moore has ten years of  experience as a network technical consultant and contractor.
Tim Olson teaches computer engineering and physics at Salish Kootenai College and is on the science team for the NASA Mars Science Laboratory mission.
He enjoys skiing and horseback riding with his family in the mountains of western Montana.
Rohn Wood lives and works in Montana trying to bring high performance computing to the old West.
A full time employee of  the University of  Montana and half-time employee of  the University of  Washington, he makes his living off  his UNIX chops and works remotely from his home in the Bitterroot Mountains with a view down into the valley a few miles from Travelers Rest where Lewis and Clark laid over with Corps of  Discovery two hundred years ago.
Thanks to our editor, Brett McLaughlin, who dove into this project when he had a massive load of  other things to do.
Brett helped us by putting our ideas on trial, opening our eyes to things we didn’t see, and pushing us to produce the best book we possibly could.
Brett, you are a juggernaut of  production! Ryan would especially like to mention that his sessions with Brett and Al kept him going during a difficult life transition.
Thanks to Dawn Griffiths for the excellent and magical work she did to shape this book up and make it look beautiful.
Thanks to Catherine Nolan for taking a chance on two “fliers” from Montana.
Thanks to Laurie Petrycki for gambling on us and welcoming us to Boston and O’Reilly Media as if  we were long-lost family.
We will never forget the day we discovered the Head First series at the bookstore.
Thanks to Kathy Sierra and Bert Bates for lighting up the neurons of  geeks everywhere.
Thanks to Tim O’Reilly for his vision in creating the best geek press ever!
Without Emily, my wife, I would have not been able to write this book.
She took care of  business while I hunkered down in the den all those countless weekends and evenings.
I love you honey! Without Ella and Austin’s patience with their dad, this would have been a much harder project to accomplish.
I love you guys too! Finally, my faithful dog CC, she was always with me in the den, sleeping of  course.
Thank you to my daughter, Josefina, and my son, Vincenzo, who love books as much as I do.
Thanks to my sweetie, Shonna Sims, who believed in me just when I was about to give up on this book.
Paul Hansen (without whom I never would have gotten into technology in the first place)
A huge thanks to my co-author, Al, about whom people often ask, “Is that your brother?” In many ways, he is.
Thanks to the IT students of  Salish Kootenai College, without whom we would never have been inspired to write this book in the first place.
It’s a virtual library that lets you easily search thousands of  top tech books, cut and paste code samples, download chapters, and find quick answers when you need the most accurate, current information.
Will I ever get his mind off of the network?
Coconut Airways has a network problem There’s no better way to travel between islands than by seaplane, and Coconut Airways has an entire fleet.
They offer scenic tours, excursions and a handy shuttle service between the islands.
Their service is proving popular with tourists and locals alike.
Demand for flights is sky-high, but Coconut Airways has a problemwhenever staff  try to use the flight booking system, they’re presented with a network error message:
Without it, passengers can’t book seats, and it’s bringing their flights to a standstill.
Coconut Airways needs to get their network up and running again, and fast.
What sort of problems do you see? Circle each one.
What sort of problems do you see? Circle each one.
The booking system network cable is busted It looks like a break in the flight booking network cable is giving the Coconut Airways staff  network errors.
If  we can fix the network cable, that should get rid of  the messages, and Coconut Airways will be able to book passengers on their flights again.
So how do you think we should fix the network cable?
All of the weight of the cables resting on one another might cause problems in the long run.
Put your fiber optic devices closer to where the cables come in to the rack.
In this case, the top of the rack would be best.
Bind your cables and run them along a stable surface.
Which cable goes where? Label your wires so that you can troubleshoot problems more efficiently.
You never know when a connector will pop, especially when you have dangling cables.
Looks like there’s a break in the flight booking network cable.
That’s probably what’s causing the network error message on the flight booking system.
How do we fix the cable? There are two key things we need to do in order to mend the cable and get the flight booking system up and running again.
We need to cut out the broken part of the cable.
It’s the break in the cable that’s causing us the problem, so let’s get rid of  it.
By cutting out the broken part of  the cable, we lose the connector on the end.
We need the connector so that we can plug the cable into things, so we’ll need to put a new one on.
But how do we do this? At the moment we don’t know anything about the sort of  cable it is, and the type of  cable has an effect on how we go about things.
So what sort of  cable are we dealing with here?
What sorts of network cables do you already know about? How do you think they are different from one another? Why?
The jacket and the wires inside appear to have been chewed.
First of  all, it has an unshielded twisted pair cable or UTP cable.
CAT-5 cables have print on the outside giving you important information about the cable.
As an example, you can look on the outside of  the cable to see what type it is, what the speed is, and any relevant standards.
Writing on the outside of the cable tells you useful information such as the speed.
So what’s inside a CAT-5 cable? Let’s take a look.
One pair is brown, another pair is blue, another pair is green, and the final pair is orange.
Each pair consists of  one plain and one striped wire.
So why are the pairs twisted? The problem with wires that aren’t twisted is that they generate magnetic fields that interfere with the signal carried on the wire.
This means that you can get electromagnetic interference and crosstalkboth of  which are bad for your network data.
When the wires are twisted, the magnetic field around the wire is effectively disrupted so that any interference is reduced.
The more twists there are in the pairs, the better.
There’s no shielding layer between the jacket and the twisted wire pairs.There a.
It’s not just the twists in the wires that are significant, the colors are important too.
The paired wires in a CAT-5 cable are colored for a reason.
Each color has a specific meaning, and so does the solidity of  the color.
If  a wire is striped, then this means that it is positive.
If  a wire is solid, then the wire is negative.
The orange pair sends data, while the green pair receives data.
Blue and brown wires are reserved for future bandwidth capacity.
Blue and brown wires don’t do anything yet, but they will in the future.
The cable standards folks designed CAT-5 with the extra colored wires so that they could be used for higher bandwidths in the future.
Bandwidth tells us how much data can flow through the wires on a cable.
Network speed tells us the rate at which data can move on a wire.
To get an idea about bandwidth and network speed, visit the following site and test the connection you’re using:  http://www.speedtest.net/
What’s the difference between bandwidth and speed on a network cable?
Bandwidth tells you the maximum amount of data that your network can transmit.
Speed tells you the rate at which the data can travel.
The speed of a CAT-5 cable changes depending on conditions.
Q: What is Base-T? A: Base-T refers to the different standards for Ethernet transmission rates.
Q: What’s the difference between megabits per second (Mbps) and megabytes per second (MBps)?
A: Megabits per second (Mbps) is a bandwidth rate used in the telecommunications and computer networking field.
One megabit equals one million bursts of electrical current (aka binary pulses)
Megabytes per second (MBps) is a data transfer rate used in computing.
We cover CAT-5 because it’s the base framework for the higher cable standards.
We don’t recommend building your own CAT-6 cables because of the precision needs of the cable.
All you need is a pair of  wire cutters, a utility knife, a crimping tool, and an RJ-45 connector.
Cut the cable well before the break to ensure that you have a good set of  wire ends.
Make the cut as straight as possible so that the individual wires are the same length.
Cut carefully along the length of  the jacket with a blade, making sure you don’t cut into the insulation of  the bundled wires inside the jacket.
Once you’ve done that, pull the cable jacket apart and peel it back to expose the twisted pairs.
Untwist the wires so that you can line them up with the slots on the RJ-45 connector.
Generally you need about1/2 inch of  the wire to fit into the connector.
Each wire fits into a slot in the RJ-45 connector.
Just line up each wire with the relevant slot and you’re good to go.
Now stop right there! Are you trying to get me electrocuted or something? How do I know which position each wire goes in? Do you expect me to just guess???
Each wire needs to go into a particular slot in the RJ-45 connector, but at the moment we don’t know which wire goes where.
We need to know more about what’s inside the RJ-45 connector.
It allows you to plug your cable into a wall jack or the network port of  a network device like a computer.
Each wire in the cable goes into a slot inside the RJ-45 connector, and this connects it to a pin in the connector.
Each wire in the cable goes into a slot in the RJ-45 connector.
This fixes the wire to a pin in the connector.
So which wire goes where? The position of  each wire is important.
When you plug an RJ-45 connector into a jack, the pins on the connector make contact with pins in the jack.
If  the wires are in the correct position, this allows information, in the form of  electrons, to flow.
If  the wires are in the wrong position, the information won’t be able to get through.
The order of  the wires in an RJ-45 connector conforms to one of  two standards.
Striped green, solid green, striped orange, solid blue, striped blue, solid orange, striped brown, solid brown.
So which standard should you use? When you attach an RJ-45 connector, the key thing is that both ends of the cable use the same standard.
Before fitting a new RJ-45 connector, take a look at the other end of  the cable.
Striped orange, solid orange, striped green, solid blue, striped blue, solid green, striped brown, solid brown.
What should the wire order be on the other end? Draw a line between each wire and its rightful slot.
How did Jack solve the problem without looking up Standard 586B?
What should the wire order be on the other end? Draw a line between each wire and its rightful slot.
Cut the cable well before the break to ensure that you have a good set of  wire ends.
Make the cut as straight as possible so that the individual wires are the same length.
Cut carefully along the length of  the jacket with a blade, making sure you don’t cut into the insulation of  the bundled wires inside the jacket.
Once you’ve done that, pull the cable jacket apart and peel it back to expose the twisted pairs.
Untwist the wires so that you can line them up with the slots on the RJ-45 connector.
Place each wire into the RJ-45 connector using the same standard as the other end.
Both ends of  the cable need to follow the same wiring standard, so make a note of  what the other end uses.
Attach the connector to the cable with a crimping tool.
Check the end of  the RJ-45 connector to ensure that the wire is seated correctly in each slot.
Say “8P8C” to a network pro, and you may get a funny look.
Q: Why should I always use the same wiring standard on both ends of the cable?
A: If we don’t use the same standard on both ends of the cable, we won’t have a “straight-through” or patch cable; we’ll have what’s called a “crossover cable.” In other words, we’ll flip-flop the green and the orange wire pairs, and the send wires and receive wires will trade purposes.
Always check the opposite end of the cable and match the wire pair configuration.
Q: What is a crossover cable used for? A:Suppose you want to connect a laptop to a desktop computer.
One way of doing this would be to use a crossover cable, a cable that can send and receive data on both ends at the same time.
A crossover cable is different from a straight-through cable in that a straight-through cable can only send or receive data on one end at a time.
You could also use a switch or a hub to connect the two devicesbut you’ll see more about these later in the book.
Q: How long should I make my CAT-5 cable? A: The general rule of thumb is that you measure the distance between the devices you want to connect and add one to two feet for flexibility of movement.
You fixed the CAT-5 cable Thanks to you, the Coconut Airways flight bookings system is back in business.
Before too long, all of  their scheduled flights are fully booked and ready for take-off.
Hey, not so fast! Do you think I’m gonna fly these planes without being paid?
We fixed the flight booking network, but it looks like the network troubles aren’t over for Coconut Airways.
Without the coaxial network, Coconut Airways can’t process payments from customers and can’t pay the pilots to fly the planes.
They need you to save the day for them again.
You’ve done a great job of  fixing the flight booking system.
The Coconut Airways accounts and payroll systems run off  a coaxial network down in the basement, and they’ve recently had a problem with the local wildlife getting into the building.
It looks like a hungry critter has taken a good chunk out of  one of  the coaxial cables, and the damaged cable has brought things to a standstill.
Here’s a sketch of the Coconut Airways flight bookings network, and the coaxial network in the basement.
What differences do you see between the two networks? Why do you think they are different?
Here’s a sketch of the Coconut Airways flight bookings network, and the coaxial network in the basement.
What differences do you see between the two networks? Why do you think they are different?
Coaxial Cable Port or Bayonet Neil Concelman (BNC) to connect the coaxial bus to the switch.
Coaxial T-Connector to connect a workstation to the coaxial bus.
Introducing the coaxial cable The Coconut Airways network in the basement runs on coaxial cables rather than CAT-5
Just like CAT-5 cables, coaxial cables are used to create networks.
Coaxial cables, on the other hand, use BNC connectors, T-connectors, and terminators.
The sort of  connector you use depends on why you need it.
The cable contains one big copper wire rather than four twisted pairs.
A coaxial cable has a jacket on the outside, just like a CAT-5 cable.
It has a copper core or conductor, with a layer of  insulation made of  plastic and other materials.
Now we’ve looked at the cables, what about the network?
This is a topology diagram of the network structure above.
Coaxial networks (aka RG-62 networks) count on a central line, called a bus.
Each workstation on the network or node must be connected to the network with a T-Connector.
The T-Connector attaches the node’s network cable to the main bus.
If  the bus is broken, unterminated, or has a broken T-Connector, the entire network will go down.
Network professionals use a kind of  shorthand, symbolic diagram to depict a bus network.
These diagrams show how all of  the parts of a network are organized to work as a whole.
If we cut out the chewed part of the cable and stick on another connector, that should fix it.
So can we fix the cable? We’ve found out a bit more about coaxial cables and networks.
Does this give us enough knowledge to fix the Coconut Airways coaxial network?
Cut the cable well before the break to ensure that you have a good set of  wire ends.
You can either crimp or solder the new connector onto the end of  the cable.
The network’s still not working Unfortunately, cutting out the chewed bit of  network cable and fitting a connector hasn’t worked.
The Accounts staff are still seeing network error messages whenever they try to access their systems.
We fixed the part of the cable that was visibly damaged, but that hasn’t gotten rid of the network problems.
But what if the cable’s damaged elsewhere too? What if we can’t see which bit is damaged?
Even though we’ve fixed the part of  the cable that’s visibly damaged, there may be further damage inside the cable.
So how can we detect this sort of  damage? To do that, we need to dig a bit deeper into how coaxial cables actually work.
Q: Do many organizations still use coaxial networks now? A: Coaxial networks are being phased out by most network administrators.
However, the principles behind coaxial network are important for a network professional to understand.
No one can predict when all the coaxial networks will become extinct.
Q: If coax is being phased out, why do I still need to know about it?
A: Knowing how coaxial networks work is essential for troubleshooting.
Q: Why does a coaxial network need a terminator? A: Great question! Keep reading, and we’ll show you.
As we’ve seen, coaxial network cables are made up of  a jacket, an insulator, and a metal conductor in the center.
The metal conductor allows electrons to move through it, and the electrons carry your network data.
As long as the path of  the conductor is complete and unbroken, electrons can flow through it and the network data can travel along the cable.
The center of the coaxial cable is made of copper.
But what if there’s a break in the conductor? If  there’s a break in the conductor, this means that electrons can’t flow along the length of  the cable.
We said earlier that electrons carry your network data, so if  the electrons can’t go through the cable, neither can the network data.
This means that if  there’s a break in the coaxial conductor of  the bus, Coconut Airways will get network error messages.
What about connectors and terminators? Connectors conduct electrons, so adding connectors to coaxial network cables helps to maintain continuous electrical flow.
Connectors allow electrons to bridge the gap between cables, or between cables and network devices, and this allows your network data to get through.
As we’ve seen, a coaxial network cable is made up of  one big conductor core.
When the conduction is not looped back through the copper core, we say that it is not terminated.
When a wire isn’t terminated, the network loses the flow of  electrons and, therefore, the flow of  network data.
A terminator ensures that the signal in the cable keeps moving.
The terminator does this by ensuring that the electrons stay in an electrical loop.
A resistor in the terminator redirects electrons to the shielding layer, which effectively keeps them looping back along the cable without interfering with the network’s signal.
If  the main cable is not terminated, the network will not function.
So how do we find a break in continuity in a coaxial cable network? We need to listen to electrons...
The terminator contains a resistor which redirects the electrons and keeps the signal moving.
As we’ve seen, continuity breaks in a coaxial cable network stop electrons flowing.
As electrons carry our network data, this means that the network data can’t get through either.
One way of  finding a continuity break in a coaxial cable is to listen for signs of  life from the electrons, and we can do this using a toner-tracer set.
A toner-tracer set is a tool used by network professionals to detect noises from electrons.
You attach the toner part of  the toner-tracer set to the network cable, and the toner then sends a generated signal along the cable.
You then use the tracer to listen for the signal by placing it on the cable.
The tracer sounds when it hears electrons carrying the signal.
The toner generates a signal and then sends it along the wire.
Where electrons are flowing, they carry the signal the toner generates along the wire.
As long as the electrons are flowing where the tracer is, the signal can get to it.
Most toners have alligator clips that you attach to the cable.
No sound means no electrons We can use toner-tracer sets to identify breaks in continuity by listening out for when the electrons go quiet.
If  the tracer is unable to pick up a signal from the toner, this means there’s a break between the toner and where the tracer is currently positioned.
Hello? Hello? Did you say something? I can’t hear you.
If  there’s a break in continuity, the electrons can’t get past.
If  electrons aren’t carrying the signal, the tracer can’t pick it up.
So how do we find the continuity break? We’ve said that up until the break, electrons are active, but after the break, they’re silent.
The break in continuity is the point where the electrons go quiet.
This means that you can find the continuity break by repositioning the tracer until you find the point where the electrons go silent.
And when you’ve pin-pointed where the break in continuity is, you can fix it.
The Coconut Airways coaxial cable network is on the next page.
A toner is attached to the network cable, and so are several tracers.
The Coconut Airways coaxial cable network is on the next page.
A toner is attached to the network cable, and so are several tracers.
There are actually TWO breaks here, as toners E and G can pick.
Striped orange, solid orange, striped green, solid blue, striped blue, solid green, striped brown, solid brown.
To make a true electrical bus network, use this media.
A cable that can send and receive on both ends at the same time.
Cablecross Time to give your right brain a break and put that left brain to work.
All the words are related to the stuff we’ve studied so far.
You’ve fixed the coaxial cable Well done, you’ve found the break in the Coconut Airways coaxial cable network! The Accounting department staff  are able to use their systems again, and pay their pilots.
But is that a dark cloud I see on the horizon?
Tropical storms are a real problem out in the islands, and Coconut Airways have to carefully avoid flying their seaplanes when the weather gets too fierce.
Normally it’s not a problem as they get up-to-the-minute weather reports over the Internet.
Coconut Airways lost their Internet connection, and it’s too dangerous for their pilots to fly without updated weather reports.
Coconut Airways are connected to the Internet via a fiber-optic line, and it looks like there might be a problem with it.
Let’s start by taking a closer look at how fiber-optic cables work.
Introducing fiber-optic cables Fiber-optic cables send network information using light rather than electrons.
Light bounces through the inside of  the cable, carrying the network signal.
The light passes through the transparent core of  the fiber-optic cable.
This core is made of  transparent glass or plastic, which allows light to pass through it easily.
The layer just outside of  the core is called cladding.
Cladding acts a bit like a mirror, reflecting light so that it bounces along the core and doesn’t escape.
The angle of refraction keeps the light bouncing along inside the transparent core.
Fiber-optics have connectors too Just like CAT-5 and coaxial cables, the ends of  a fiber-optic cable have connectors.
There’s a variety of  connector types that can be used.
There are various types of connectors you can usejust pick the right one for the.
Fiber-optic cables usually have a minimum bend radius of  3.0 cm.
If  the cable’s bent more than this, the fiber core can develop microfractures, real fractures, or severely leak light.
And as it’s the light that’s carrying the network data, a loss of  light means a loss of information and network errors.
So how do we fix damaged fiber-optic cables? Well, one way is with a fusion splicer.
So what’s a fusion splicer? A fusion splicer allows you to fuse two pieces of  fiber together.
The splicer provides high-precision guides that allow you to line up the fiber.
Once you’ve got the ends lined up, you heat the two ends with an electric arc and push them together.
After you fuse the ends together, the fusion-splicer heat-shrinks a protective cover over your splice.
Let’s take a closer look at the steps for splicing a fiber-optic cable.
Strip the coating from each end of the fiber-optic cable you want to splice.
The guides on the fusion splicer allow you to be really precise about this.
The fusion splicer creates an arc of  electricity that makes the faces of the core super smooth so that they can align properly.
You need to train extensively on a fusion splicer before using one.
Here are the steps you need to go through in order to fix a fiber-optic cable with a fusion splicer.
The electric arc melts the ends, fusing them together to create a spliced core.
Coconut Airways has one more problem with their fiber-optic cable.
We’ve fixed the over-bent cable, but one of  the connectors is missing too, right near the wall jack.
We need to fit a new connector so that we can plug the fiber-optic in at the wall.
Fiber-optic cables take various types of  connectors, but they all do the same basic job: they bring the ends of  two fiber-optic cables together, and allow light to flow through uninterrupted.
The differences between the connectors is all to do with their housing.
In other words, the shape, color, how large or small, how close together another fiber connector can be, and how they attach.
Here are some of  the fiber-optic connectors you might see around.
It’s an LC or “lucent connector.” Note the pair of ends.
Why do some of the connectors have a pair of fiber cores, where others have only a single core?
Match each of  the connectors below to the receptacle it fits into.
Match each of  the connectors below to the receptacle it fits into.
We’re nearly ready to fix the connector There’s just one more thing that can affect what sort of  connector we choose to go on the end of  the cable: there are two types of  fiber.
The word “mode” refers to the number of  paths the light takes through the fiber.
There’s a very small core, so there’s only one path for the light.
There’s a large core so that there are many paths for the light to take.
Single mode fiber In a single mode fiber, the light travels in a single path.
It takes a laser light, and it has a very small core like this:
Multimode fiber In a multimode fiber, the light travels many paths.
It takes a laser or LED light, and has a much larger core like this:
So how do we choose between the two types of fiber?
Which mode fiber should you use? The two types of  fiber-optic cable have very different characteristics.
There are differences in areas such as performance, speed, and possible distance.
There are big differences in price, too, as it’s harder to manufacture single mode fiber.
Here’s a quick guide to the differences between single mode and multimode fiber-optic cable.
Choose single mode or multimode, and write your reasons for your choice.
Polish & Epoxy Connector You push the fiber from the patch cable into the connector, epoxy, then polish the end flat.
There are two main ways that connectors are attached to fiber patch cables.
Use a pre-built connector and splice it to the exisiting patch cable.
This technique is faster and easier, but there is some light loss where the two fibers are pushed together.
Use a connector that does not have a fiber inside.
You epoxy the fiber of the patch cable inside the connector, then polish the end of the fiber.
This technique is slower and more complicated, and you need special equipment and training.
The advantage is that it makes a higher quality connection.
So which technique should we use? While we could use either technique, let’s go with the pre-built connector for now.
Only a few tools are needed for this approach, and any network tech can learn to do them in less than 15 minutes—which means that Coconut Airways will get their Internet connection up and running pretty quickly.
You can even get videos and quick guides on how to fit these from manufacturers.
Choose single mode or multimode, and write your reasons for your choice.
Single mode would be the best choice because of the length of the cable.
Striped orange, solid orange, striped green, solid blue, striped blue, solid green, striped brown, solid brown.
To make a true electrical bus network, use this media.
A cable that can send and receive on both ends at the same time.
Coconut Airways is sky high Congratulations! You’ve successfully troubleshooted and fixed all of the network problems that Coconut Airways were experiencing, and they’re back in full operation.
All of  their flights are fully booked, their cash-flow problems are no more, and the pilots can fly safely thanks to their up-to-date weather information.
You’ve found out about the different types of  network cable, you’ve learned some important troubleshooting techniques, and you’ve seen the steps you need to go through to fix various cabling problems.
You will also learn how to use proper network hardware to contain and help.
Every week the Ghost Watch team goes into an old building and records any strange sights and sounds they encounter using their high-tech equipment.
The trouble is, the team’s networking skills keep letting them down, and their footage ends up too distorted to use, or isn’t even recorded.
This week the Ghost Watch team is in an old abandoned hotel, and they need you to help them set up their network.
They need unobtrusive cabling with a clean signal, and they must be able to adapt quickly to whatever might happen.
All the gear is the latest technology and uses Cat 5e cabl.
Every good network needs a good plan Networking involves much more than stringing cables around haphazardly.
Before you start pulling lines all over the place, you need to figure out what you are connecting, where all these things are going to be located, and how best to network them.
Let’s start by looking at all the devices that Ghost Watch need for this gig.
Write down a list of the devices that are needed, along with where they need to go.
Write down a list of the devices that are needed, along with where they need to go.
The first step in planning a good network is to work out exactly what devices need to be included, and where they’ll be located.
So how does the device list help us plan a network?
What other things do you need to consider when you’re planning a network? Why?
How to plan a network layout If  you take a step-by-step approach and plan your network layout before running the cable, you’ll save yourself  a lot of  time and money.
Here are the key steps you need to go through:
List out the various network devices and where they will be located.
Be sure you include what type of  cable they need, for example, CAT-5
We’ve made a list of  all the Ghost Watch devices we need to wire up, along with where each of them needs to go.
Make a list of the hardware you will need to run the cable.
This includes things like cable trays, J-hooks, wire ties, and so on.
Put your wire in! Run your cables between the various devices.
Let’s plan the cabling with a floorplan Floorplans give you a way of  picturing the floor space of  the area in which you need to lay down network cables.
They show you information such as floor layout, and also many of  the networking obstacles that you need to plan for when you’re laying down cables.
Ghost Watch has gotten hold of  floorplans for each floor of  the hotel they’re investigating.
We can use these to check for obstacles and plan where the network cables should go.
This is where hot water heaters and HVAC stuff are located.
Here are the floorplans for the basement of the hotel.
Your task is to identify areas of the building that might pose problems in running cable or could damage the cable.
Circle and make notes about five areas that might be problematic when the network cables are installed.
Notes:            The boiler may create heat and vibrations, so might the laundry equipment.
The hot water heater and wood stove will be hot and need to be avoided.
Here are the floorplans for the basement of the hotel.
We’ve drawn in the various recording devices that need to talk to one another.
Your task is to identify areas of the building that might pose problems in running cable or could damage the cable.
Circle and make notes about five areas that might be problematic when the network cables are installed.
So what should you do when you encounter obstacles in Networkville? Here’s a quick guided tour.
Walls You can run your cables around walls, or drill through them instead.
You need to be careful when you drill through concrete walls, and it can be hard to attach things to brick and concrete.
Stairs You can use stairs as a way of  getting cable from one floor to another, but make sure that it’s out of  the way of  people using the stairs by using trays or J-Hooks.
Sinks, showers, and all things wet Water and cables don’t mix.
Make sure you avoid running your cables near water, and in particular, don’t run cables under sinks or showers.
Stoves and all things hot Network cables mustn’t get too hot, so don’t run network cables over or above stoves, or other obstacles that give off  heat.
Another problem with stoves is that electric stoves are supplied with 220VAC electrical lines, and this will cause noise in network cables that run too close.
Equipment with Electric Motors As well as giving off  heat, motors also give off  vibrations and electromagnetic waves.
Vibrations are bad for your network cables, so don’t run cables over motors or similar devices.
Q: Why will getting the list of devices wrong cost money down the road?
A: If a few devices are forgotten or added later in the project, that usually is not a big deal.
But if a large number of devices are missed or misplaced, this can cause you to have to redo all your carefully planned wiring.
Q:So should I make allowances in my plan for additional devices to be added?
A: Great idea! This will save you a tremendous amount of time, energy, and money down the road when other devices are added.
Q: How do I make those allowances? A: First thing to do is to plan to run some extra cables.
That way they are in place when you need them.
Second, add some length to the cables that are being run.
Doing this will assure that you never come up short on cable.
Q: Do I need to worry about electrical power for the devices?
If the devices that you are dealing with need power, like computers, printers, or network devices, it would be a good idea to think about power.
Even more, people tend to try to run too many devices from a particular electrical power source.
Q: How do I determine when I go through an obstacle versus going around it?
First, is the network cabling being installed going to be permanent? If so, then you will want to use permanent solutions to get around obstacles.
For example, if there is wall in your way, if the cable is going to stay in place, then you probably will want to go through the wall.
If the cable is only temporary, then you will want to just go around the wall.
Q: How do I get through walls? A: That depends on the type of wall.
You can drill through a typical sheetrock covered wood or metal wall.
These are the types of walls found in most homes.
You will want to be careful about electrical lines inside the wall.
Brick and concrete walls can be drilled through, but special drill bits and hammer-drills are needed.
Q: Should I talk with the building’s owner or manager before running cables?
A: If the installation of the cables is going to be permanent, it is very important to include the people that live and own the space that you are running cable in.
They may be able to suggest alternate routing of cables or other obstacles that you might not be aware of.
Ready to plot some network cables? You’ve learned a lot about what obstacles can cause problems for your network layout.
Let’s see how you get on with planning the route the network cables should take for Ghost Watch.
Take a stab at laying out the cables on this floor of the hotel.
Draw cables from the cameras and mics to the monitoring desk, noting where you might go through walls.
Take a stab at laying out the cables on this floor of the hotel.
Draw cables from the cameras and mics to the monitoring desk, noting where you might go through walls.
Q:What do I do when there is solid concrete wall in the way?
Of course you could always figure out a way around the wall, but sometimes that is not an option.
There are special drill bits and drills that will allow you to drill a hole through concrete.
It is best to consult with the building manager before you do something like this.
Q: How do I deal with big electrical lines that are near where the network cable needs to go?
The worst thing to do is run the network cable parallel to the electrical line.
If you have no choice but to run it parallel to an electrical line, then put a foot or two in between the network line and the electrical line.
Q: Should network cable ever run on the floor? A: You need to avoid running network cables on the floor.
You will see in many places that it is run that way.
The cable can even be damaged from people walking on it.
Q: How is network cable run in new buildings? A: Good question.
In new buildings, there are different types of conduits that are put in place when the building it under construction.
Often it is the electrical contractor that will do this.
This makes it very easy to run the network cables because you just pull them through the conduits that the electricians installed.
So where have we got to? Let’s take another look at the network planning steps and see how far along we are.
List out the various network devices and where they will be located.
Be sure you include what type of  cable they need, for example, CAT-5
Make a list of the hardware you will need to run the cable.
This includes things like cable trays, J-hooks, wire ties, and so on.
Put your wire in! Run your cables between the various devices.
We need to decide on the cable management hardware The next step on the plan is to take a look at the cable management hardware we need for the Ghost Watch network.
So far, we’ve looked at all the routes our network cables should take, taking into account any obstacles and problem areas that might be in the way.
Cable management hardware refers to all of  the items we need to control how the cable goes where we want it to.
As an example, suppose we want to run a cable across the top of  a doorframe.
We can’t just place the cable there; we need to hold it in place so that it stays where we want it to, stays out the way, and doesn’t fall.
Similarly, if  we wanted to run cables along the side of  a wall, we’d need cable management hardware to keep the cables out the way and stop them from straying.
I’m not sure we need cable management hardware on this gig; we’re not going to be here for long.
I’ve already used your plan to lay the network cables.
Even when the network’s only short term, you still need cable management hardware.
Leaving stray cables around is dangerous—for people and for equipment.
Sometimes poorly places cables are easy for people to trip on, and as we’ve seen, cables mustn’t run through water or across obstacles that could damage the cabling.
Even when you’re setting up a temporary network, you still need to properly think it through.
So what does the cabling look like without the cable management hardware in place?
Uh oh! The cabling is a mess Here’s the network that’s been laid out by the network guy.
What sorts of problems do you see? How would you organize things differently?
Ghost Watch needs cable management hardware As you can see, the cabling is hazardous without anything keeping the cables out of  harms way.
There are cables running from floor to ceiling, down the stairs, and haphazardly across the floor.
So what hardware is available to deal with these sorts of problems?
What sorts of problems do you see? How would you organize things differently?
We would use a j-hook to hang the cables coming down the stairs.
We would put a cable tray in the back room where all the computers are located.
We would also use wire ties to bundle all the cables neatly.
Cable Management Hardware Up Close Let’s take a closer look at what sorts of  cable management hardware are around.
Cable protectors Cable Protectors are used to protect cables that have to run on floors.
Great caution should be used when implementing these on a floor where there is a lot of  traffic.
The cable protector is a trip hazard and can create barriers for wheelchairs.
Cable trays Cable trays are used to hold large numbers of  cables that have to run relatively long distances.
These are mostly used in basements, attics, and other hidden spaces because they are very industrial in appearance.
Although, rooms that are network or computer specific often have trays running near the ceiling.
Cable trays take a good deal of  planning to install them correctly and some special tools.
Raceways A raceway is often used to run cable to workstations that do not have wall jack access.
Often cubicle farms will have some form of  raceway installed for phone and network cables.
Cable ties Cable ties are a great way to keep cables neat.
Overtightening a wire tie on Cat 5 cable can alter its twist and create problems with the cable.
Smurf tubes A smurf  tube is generally run in new buildings inside the walls.
One end attaching to a wall box, the other in some accessible but hidden place such as a basement or attic.
The microphones in the basement are picking up some strange noises.
We need you to investigate if  something is messing with the network cables and causing the noise.
Here is a diagram of  the cable layout in the basement:
Look at the cabling on the diagram to the left.
Write down some things that could affect the cables and cause strange noises to be recorded.
Noise can come from ghosts or from things messing with your cables.
Anything that affects the cables mechanically or electrically can create noise.
Look at the cabling on the diagram to the left.
Write down some things that could affect the cables and cause strange noises to be recorded.
Rats and other vermin present big problems to network cables.
Big pieces of industrial equipment like this boiler can destroy network cable with heat and vibration.
Frank: I think I got that noise taken care of  by moving that cable near the stove.
Are there other electrical things I should look out for?
Electrician: There are lots of  things you need to look out for.
First, some people that don’t know any better run network cables in the same conduit as electrical line.
Electrician: If  you have the electricians run the smurf  tube for your network gear, be specific about where you want it to run.
If  you let them decide, it may be hard to pull network cables to where you need it later on.
Electrician: You betcha! That is the best way to communicate what you need.
Plumber: Don’t forget to visit with the HVAC and plumbing people as well.
Frank: Are there things I need to watch for with HVAC and plumbing?
Plumber: I would not run network cable under anything that holds water.
Also, it is best if  you run your trays after the HVAC and plumbing work is done in a new building.
That way, things won’t get moved after you have installed them to make way for some pipe.
Electrician: Remember too, if  you need some tips on pulling lines and stuff, especially in difficult spots, visit with an electrician.
He probably has run into a similar situation and knows a great solution.
You’ve really cleaned up that noise and straightened out MOST of the cables! Well done! So far you’ve created an inventory of  devices that Ghost Watch need, you’ve planned where the cables should run, and you’ve also used cable management hardware to really tidy things up around the hotel.
What’s in the closet? Unfortunately, some of  our wiring runs through the hotels old wiring closet and it is a mess! There are cables everywhere, and it’s impossible to tell which cable belongs to which device.
The Ghost Watch team may need to react quickly if  their cameras pick up signs of  activity, and they can’t afford to miss valuable footage for their show.
How could you find out which cable is linked to which device?
A cable labeler prints out labels that wrap around the cable.
Let’s start by labeling the cables One of  the problems that Ghost Watch has is that it’s difficult to tell which cable belongs to which device.
There are so many cables, and each of  them look identical.
It would help if  we labeled each cable, but we can only do that once we know where each cable is going and what it links to.
Can you remember the toner and tracer set we saw in the last chapter? Well, we can cleverly use this equipment to make sense of  our cables.
Hook the toner up to the far end of the cable.
This is the end that’s away from the wiring closet.
It could be a wall jack or whatever’s on the end.
Use the tracer on the wiring closet side to check all the cables.
When you hear the tone, you know you’ve found the cable.
Use a cable labeler to print out a label, then stick it on the cable.
Then repeat for all the unlabeled cables in the closet.
Toners have alligator clips that are used to clip onto the wires.
Even when the cables are labeled, the closet still looks messy, with spaghetti-like structures falling in front of  other things in the closet.
One thing we can do is gather the cables into manageable bundles, and tie them out of  the way using plastic wire ties or velcro straps.
This will make it clearer where each cable is going.
The key thing here is not to tie the cables too tightly, as this can alter the electrical characteristics of  the cables.
Cable management trays are also useful to keep cable from falling in front of  other things in the closet.
Make sure not to put the wire ties on too tight; that can alter the electrical characteristics of the Cat 5 cable.
The horizontal cable management tray keeps cable from falling in front of other things in the rack.
But what else can we do? Even though this helps, there’s still a problem.
There are still a lot of cables to search through when you’re looking for one in particular, and the cable labels can be hidden or even fall off.
Sound impossible? Don’t worry, there’s something that will solve all of  these problems and many more.
The color coded patch cables help you to know what they are connecting.
You can label each socket on the patch panel with which cable it’s linked to.
A patch panel is used to organize the cable and wire connections in your wiring closet.
Cables coming from your network devices or wall jacks plug into the back of  the patch panel, and these are connected to other devices using short patch cables at the front.
It’s typically mounted on a network rack, a specialized frame that forms the physical skeleton of  your network closet like this:
If  you use a patch panel, it means that it’s much easier to change the connection between two devices.
All you need to do is change which socket the patch cables at the front are connected to, so the patch panel gives you an easier interface for managing connections.
Let’s look in more detail at what goes on behind the patch panel.
A cable leading from each network device is wired into the back of the patch panel.
Network devices can include wall jacks, computers, hubs, and so on.
Short patch cables at the front of the patch panel control how devices are connected.
The patch cables at the front of  the patch panel connect the devices to switches or other patch panels.
Behind the scenes of a patch panel So how do you connect devices together with a patch panel? Let’s take a look.
To change the connection, simply change which socket the patch cable goes into.
A patch panel works like a telephone switchboard, but for cables.Desktop DesktopServer Server.
These cables go into the back of the patch panel.
The wires go into a punch down block If  you turn the patch panel over, you’ll see a punch down block.
You punch individual wires into the block using an impact punch tool.
Here’s what’s behind a patch panel; it’s a punch down block.
The way in which you install the wires is important.
The wires follow a specific color pattern, and you need to follow this so that you can make connections between devices.
The pattern depends on the type of  block you’re using and the type of  wire you’re punching into the block.
Each cable or set of  wires corresponds to a socket on the front of the patch panel.
If  you label each socket with what it’s connected to, you’ll be able to tell at a glance what each of  your network devices are connected to, and it will also be much easier to change the connections.
The general form for labeling the sockets on your patch panel is to use the room number followed by the jack or node number.
Use the information from the table below to connect the various servers, desktops and switches to the appropriate device.
Draw a connection line from the patch panel to the end device.
Use the information from the table below to connect the various servers, desktops and switches to the appropriate device.
Draw a connection line from the patch panel to the end device.
For each one, say what it’s called and whether it’s a tool or cable management device.
For each one, say what it’s called and whether it’s a tool or cable management device.
Roll the cameras! Thanks to you, Ghost Watch has an awesome network set up in the haunted hotel.
Filming starts tonight, and the Ghost Watch team is confident they’ll get all the spooky footage they need for their next program.
Fortunately, there’s a raft of tools you can use that let you see deep into the heart of your.
Keep reading, and we’ll show you how to use these.
Mighty Gumball won the Super Bowl contract Mighty Gumball is the leading vendor of  a wide variety of  candies and chocolates, and they’ve just won an exclusive contract to sell their products at the next Super Bowl.
With sales on the day and all the extra publicity, Mighty Gumball stands to make millions.
Mighty Gumball has recently been plagued by network problems, and it’s hitting gumball production.
If  they don’t get their network errors fixed soon, they won’t be able to produce enough gumballs in time for the Super Bowl, and they’ll lose the contract.
We can’t lose this contract; we’ve got to get our network sorted.
Am I missing the point here? Can’t we just use a toner and tracer? Won’t that find the problems?
So far, we’ve only looked at network problems that toner and tracers can help us find, and while they’re extremely useful, they can’t root out every kind of  network problem.
Here are some of  the potential network problems that might be affecting Mighty Gumball.
Can you see which ones a toner and tracer might not be able to detect?
Why is each of these a problem? Why do you think you can’t use a toner and tracer set to detect all of these?
As we saw earlier, we can use a toner and tracer to listen out for signs of  life from electrons.
The toner sends a signal along the cable, and provided you hook it up to the same cable, the tracer picks up the signal from the electrons.
If  the tracer can’t pick up the signal at any point along the cable, this means there’s a break at that point.
The trouble is, it can’t tell you anything about the quality of  the signal, or the speed with which it moves along the cable.
All it can tell you is that the wire is continuous.
So if  the network problem’s down to signal quality, you need something more than a toner and tracer.
The cable is longer than the recommended maximum for Ethernet (100 meters)
A simple toner & tracer set will only tell you if there is a connected wire or not.
You cannot tell the length with just a toner and tracer.
Say if you can help or not, and why or why not.
The cable is longer than the recommended maximum for Ethernet (100 meters)
You can hook the tracer on the correct wire and use the toner to find the correct plug on the opposite end.
You can trace each wire of a cable and find the incorrect wires and fix them.
There must be some pretty hairy problems if  the toner and tracer can’t find them all.
Jim: Well, I’m going to set my multimeter to work on the cables.
Frank: A multimeter? Are you crazy? What’s a multimeter going to tell you about the state of  the cables?
Well, I don’t know about you guys, but I’m going after that $5,000 bonus.
Q: Can a toner and tracer find a cable that is too long?
A toner and tracer can only check for whether there is a electrical connection.
To check for the length, you need to measure the resistance of the cable.
Q: What signals can a toner send? A: Generally, a toner can send a warbling type of signal that is used to trace or find the end of a cable.
A second signal is just a voltage that the tracer checks for on the other end.
Q: Does a tracer have to touch a cable to hear the warbling signal?
You can run it quickly over some wires and actually hear as you get closer to the wire that the toner is connected to.
Introducing the multimeter As you can probably tell from its name, a multimeter is a versatile tool that measures multiple things, such as voltage and resistance along a cable.
To use it, turn the selector knob on the multimeter to whatever it is you want to to measure, and then touch the probes to opposite ends of  the wire you’re testing.
Use the selector knob to select what you want to measure.
Use a multimeter to measure resistance The thing that makes the multimeter really useful in networking is its ability to measure resistance along a cable.
This is something that a toner and tracer can’t tell you, and it can shed important light on how a cable is functioning.
So what’s resistance, and what effect does it have on your network?
You touch the probes to the opposite ends of a wire to test it.
When resistance is low When a cable has low resistance, this means that it’s easy for electrons to pass through the conductor.
There’s very little stopping the electrons from flowing, and so they move quickly and easily along the cable.
Here’s the readout from the multimeter where the resistance is low.
When resistance is high When a cable has resistance that’s high, this means that it’s difficult for electrons to move through the wire.
And if  the electrons can’t move well, your signal can’t either.
Oh man, this is like molasses; it’s gonna take forever.
So if  you’re having network problems, you can use a multimeter to check out whether high resistance along the cable is slowing down your signal.
I guess, like a screwdriver has uses in networking as well.
That resistance thing is nice, but we don’t think it’s used very much.
Your biggest problem is that both ends of  the cable must be right next to you, how lame’s that?
We even work on cables where the ends are in different buildings.
Tracer doesn’t even need to be touching the cable; we can keep tabs on each other with magnetic induction.
What is that supposed to mean? Just because you give some number readout doesn’t make you more useful.
What do you mean? I do networking too, you know.
Well I can tell how long a cable is by measuring its resistance.
I can create a loop and then make measurements on that.
That means I can do multiple things, not like you.
I can also measure how fast the electrons are flowing, or current.
Match up the wire with the resistance than an electron moving through these wires would feel.
Match up the wire with the resistance than an electron moving through these wires would feel.
Say if you can help or not, and why or why not.
The cable is longer than the recommended maximum for Ethernet (100 meters)
Noise on the cable produced by power, RF, loose connector, bare cables, and shorts.
The cable is longer than the recommended maximum for Ethernet (100 meters)
Noise on the cable produced by power, RF, loose connector, bare cables, and shorts.
You can use the resistance setting on the multimeter to read the resistance of the cable.
The multimeter will not show noise on a line, with the exception of a higher than normal voltage.
You can use the resistance setting on a multimeter to check for continuity, just like a toner and tracer, but with a readout instead of a tone.
So how well did the multimeter do? Jim tested the cables at Mighty Gumball, and found six with mis-wired connectors, and twelve that were too long.
So does this mean that Jim takes away the $5,000 bonus?
You’re kidding me, right? We’ve still got a ton of network problems, and nobody’s getting any money til they’re all fixed.
A: Great question! Most multimeters can measure voltages, both AC and DC, as well a current.
That is the type of voltage you get from a battery.
It is just steady at one voltage, like 9 volts.
Q: What is current then? A: If you think about voltage like the pressure in a water line, current is how fast the water flows.
So electrical current is how fast the electrons are flowing in the wire.
Q: Are there any big differences between digital and analog multimeters?
In most cases, an analog multimeter uses just electrical components such as resistors, capacitors, and inductors.
The digital multimeters use integrated circuits along with the electrical components.
Q: Is a multimeter used that much by network people?
We are using it here to show how to check cables and to show how resistance measurements work.
Sometimes, you will need to check for a specific voltage, and then they come in real handy.
Jim: Yeah, well maybe the problems are a bit bigger than I thought.
Frank: I still think I have a shot at the $5,000, though.
I’m sure my oscilloscope will be able to sniff  out the remaining problems.
You see, if  you use a multimeter to track down resistance problems, you’ll only be able to troubleshoot cables with that sort of  problem.
I think we need to look a bit wider than that.
Frank: Well, I think we need to look for voltage problems too.
An oscilloscope shows voltage changes An oscilloscope is another tool you can use to help you troubleshoot your network.
It shows you the voltage changes on a wire over time, measured in milliseconds.
Here’s an example readout from the oscilloscope showing you the voltage changes in a cable over time.
Being able to analyze the voltage changes in this way gives you important troubleshooting information about your cables.
The highs and lows on the display correspond to the highs and lows of the voltage.
An oscilloscope is a complex piece of test equipment requiring advanced training and some knowledge of electrical principles to use properly.
So how does this help us troubleshoot problems? As we’ve seen, an oscilloscope allows us to see voltage changes over time.
The signal on a network cable is just the change in voltage over time.
This means that an oscilloscope effectively allows us to see a network signal.
More importantly, it allows us to see how clear and distinct the network signal is, or whether there are any extraneous voltages changing the signal and causing network problems.
Voltage is really electrical pressure Let’s start by taking a look at what voltage is.
In simple terms, voltage is the pressure that tries to make electrons flow.
Think of  voltage as the force that moves the electrons in a circuit, and resistance as anything that might slow them down, such as a broken wire.
If  we compare electron flow in a cable to water flow down a garden hose, voltage is like the pressure of  the water coming out the faucet, and resistance is like the width of  the garden hose.
Resistance is anything that might slow down the electrons, like the width of the garden hose.
I cause noise when signals from me cable creep on to another cable next to me.
I cause noise when I do not have a connection to what I am plugged into.
Match up the things that create noise on network lines with how they create noise.
Where does noise on network cables come from? Noise is unwanted signals on your network cables.
It comes from lots of  different sources of  electronic energy.
This is especially true of electric things that move or have moving parts.
Also, keep some distance between your network cables and things that create noise.
Hey Oscilloscope, it is good to see another real electrical tool here.
No, I just got done talking with Toner & Tracer.
No, I can’t do that trick of  seeing the signal on a cable.
But I can tell how long a cable is, can you? It goes down well at parties.
Well, I can measure extraneous power as well, even AC power which is how noise shows up, right?
Isn’t it true that it takes some pretty special training to run you?
I think I would rather be a “pick up and use” type of  portable tool.
I mean, you can’t really see a signal now, can you?
If  there’s noise or extraneous power on a cable I can help see that.
True, but if  it’s transient or very quick, you won’t catch it.
But yes, someone using me will have to spend some time understanding all of  my powerful skills.
Write down next to each oscilloscope screen what type of signal you think the green line represents and if it is not normal, what kind of network problem could cause the it to look like this.
Write down next to each oscilloscope screen what type of signal you think the green line represents and if it is not normal, what kind of network problem could cause the it to look like this.
This is a real signal, but the voltage level is very.
A really long cable could cause this as well as.
Q:OK, given a choice, should I always choose an oscilloscope to check cables?
The toner & tracer is going to be your most useful tool.
It will help you with many of the common jobs that a network person needs to do.
Q: What about the multimeter? A: It‘s probably used more than an oscilloscope, but not often.
It’s useful when you need to measure a voltage on something, or check the resistance of a wire.
It can be an OK stand in for a toner & tracer, but it can’t take their place completely.
Q:So I should just use the toner & tracer to look for every problem?
A:  No, they will only help you find and solve certain problems.
If the problem is directly related to the physical cable, they are great tools to use.
But if there is noise on the wire or network problems, they really aren’t going to help you much.
But keep reading, there are other tools we haven’t covered yet that you really need to see on a wire then?
Q:Is that what noise really looks like on a wire then?
The noisy signal shown on the previous page is exactly the kind of thing you will see.
Q: So is all noise on a network line just random voltages?
Some stray voltages like the noise from overhead fluorescent lights is regular in nature.
Q: 60 Hz, what is that? A: Hertz or Hz is cycles per second.
Q: So why is noise so bad for a network signal?
A: If the noise reaches a voltage level high enough, it can mask data.
There are different encoding techniques that you will learn in the next chapter that will reduce what noise can do to a signal, but at some point too much noise can kill any type of signal.
I cause noise when signals from me cable creep on to another cable next to me.
I cause noise when I do not have a connection to what I am plugged into.
Match up the things that create noise on network line with how they create noise.
So how well did the oscilloscope perform for Mighty Gumball? Armed with his trusty oscilloscope, Frank managed to track down some more network problems at Mighty Gumball.
It turns out that there was a large power cable lying across several cables, and this was creating noise in the network cables.
Unfortunately, there are still more network problems at Mighty Gumball to contend with.
The machinery that makes the gumballs is back up and running, but the packaging conveyor belt keeps stopping.
This is outrageous! Can’t anyone fix this? I’ll increase the reward to $6,000 and throw in a free dental health plan...
I thought the remaining problems were to do with voltage, and I was wrong.
Seriously, I think the network problems might well be something to do with voltage.
Joe: Well, not necessarily, not if  the problem’s quite subtle.
Joe: I’m going to double-check those cables you looked at with a logical analyzer, and then I’ll claim my $6,000 from the boss.
I thought you said your oscilloscope could solve all the world’s problems, Frank.
A logical analyzer uses voltage too Just like an oscilloscope, a logical analyzer looks at changing voltage levels over time.
Often high end oscilloscopes have the ability to function as a logic analyzer as well.
The voltage changes in the signal represent data in the form of binary numbers, so a logical analyzer allows you to see the stream of  data based on the logical voltage level.
It effectively allows you to see the data in the signal.
A logic analyzer requires even more training than an oscilloscope to understand and use properly.
This is the same oscilloscope we saw earlier, but it can work as a logic analyzer as well.
An oscilloscope sees a signal as a changing analog voltage level.
For each signal below, choose whether an oscilloscope, or logic analyzer, or both would see a signal as depicted.
An oscilloscope sees a signal as a changing analog voltage level.
For each signal below, choose whether an oscilloscope, or logic analyzer, or both would see a signal as depicted.
When is a logical analyzer useful? As we’ve seen, an oscilloscope and a logical analyzer both measure changes in voltage over time.
It’s useful to compare how they both see the signal in a cable, as significant differences can indicate problems.
As an example, here’s the display from an oscilloscope and a logical analyzer where the signal is clear, but the voltage change is small.
Even though the signal looks well defined and clear on the oscilloscope, the voltage change is too small to register on the logical analyzer.
In other words, the signal isn’t strong enough to carry the network data.
So which tool is best? So far we’ve looked at four tools you can use to help you troubleshoot your network cables.
We’ve used a toner and tracer to listen to electrons, a multimeter to measure resistance, an oscilloscope to display changes in voltage over time, and a logical analyzer to interpret the signal into binary data.
Hey Bro! Good to see another high end electrical tool around here.
I’m checking for noise, extraneous voltages, DC voltage levels, timing—you know the sort of  thing.
But I can still lock into a signal and show it.
But I am showing the analog value of  the signal, the raw signal.
You are storing a digital interpretation of  the signal, right?
Right, efficient, but you lose all the non-digital information in the signal.
Kind of  hard for you to see different voltage levels, isn’t it? I mean, if  there are no standard logic voltage levels, then you’re stuffed.
Not to rub it in, but I think that you’re a lot more costly than me.
It’s true you can have lots of channels, but someone has to pay for them, right?
What’s up? I didn’t know you were doing stuff around here.
You really don’t know what the signal is, do you?
True, but you cannot store very much of  the signal.
Plus you can only see four or so signals at a time? I can see 64, or even more, signals.
Yes, I do represent the signal in a digital form and I store it that way.
I can’t really see voltage levels outside of  the normal logic level.
Hey, I gotta run, I have a date with an FPGA.
Jill: I used a LAN Analyzer, which incorporates most of the tools that you guys were using into one device.
Frank: There’s a toner & tracer, multimeter, oscilloscope, and logic analyzer in that thing?
It has the functions of  those tools with regards to network cabling.
Jill: Sure, instead of  using a multimeter to find the resistance of  a network cable and then calculating the length from that reading, this device does the calculation for you and gives you a readout.
Frank: WOW! That is awesome! What other things can it do?
Jill: I think it is best if  you take it and play around with it for a while...
She managed to pick up all the problems the other tools did, but with just the one piece of  equipment.
Jill, how did you find so many problemsand so quickly?
Let’s take a closer look at what a LAN analyzer is, and how it works.
A LAN analyzer combines the functions of all the other tools If  you have to do any amount of  troubleshooting and maintenance on a network, the LAN analyzer is a great tool to have.
It has all the functions of  the tools we previously covered in this chapter.
You can use it to check and certify cables, and also watch and troubleshoot network traffic.
A LAN Analyzer has all the functions of the previous tools we looked at, but its output is geared to the network professional—you.
A LAN analyzer understands the network traffic in the signal A LAN analyzer essentially acts as a computer on a network.
This data is in the form of frames on an Ethernet network.
The LAN analyzer starts by reading the voltage changes over time.
It does this in a similar way to a logical analyzer.
This data is in the form of  frames on an Ethernet network.
Inside the frames are the web pages, emails and other data traveling on your network.
Q: So which is more powerful, a logic analyzer, an oscilloscope, or a LAN analyzer?
An oscilloscope is certainly more versatile than a logic analyzer.
Modern oscilloscopes can get pretty close in functionality to logic analyzers, and logic analyzers have many of the features of oscilloscopes, such as showing the raw signal.
But for network professionals, the LAN analyzer is the ticket.
It has most of the functions that you will need to troubleshoot and maintain a network.
Q: Does a LAN analyzer have the functions of a toner & tracer?
A: Yes, some LAN analyzers come with a small remote device that can be connected to the opposite end of a cable to test it or to help find it.
A logic analyzer starts at about $3,000 and goes up, fast.
Q: Does the LAN analyzer know anything about the voltage levels of the signal?
A: At some level it has to in order to interpret the signal into network data.
More expensive LAN analyzers will give you more of this detailed information.
Q: Does that logical voltage level change? A: No, it is set by the type of integrated circuitry (ICs) that the hardware is built with.
Q: Are these voltages common knowledge? A: To any electrical or computer engineer, they are.
So everyone making and using ICs agrees on what these voltage levels are so that components can work with one another in a circuit.
Q: So each of these tools view the signal a bit differently, huh?
The oscilloscope sees a raw voltage that is changing over time.
It actually tries looking at things from a “top-down” approach.
It assumes that it is connected to a network cable and tries to decode the signal as a network signal.
Q: So how does a LAN analyzer know how to decode the network traffic?
A: In the next chapter we will take a look at encoding and decoding signals.
You will learn about a couple of different ways this is done.
If  your problems are simple physical cabling problems, a good toner & tracer tool set is going to help you.
Once the problems get more complex, i.e., more network related, you will need to use a tool like a LAN analyzer to get a idea of what is going on with your network.
Draw a line from the problem to the best tool(s) that could help find the problem.
Draw a line from the problem to the best tool(s) that could help find the problem.
Hooray, we’ve got it made! See you at the next Super Bowl!
The Mighty Gumball problems are fixed! Thanks to the team’s skilled use of  network troubleshooting tools, all the problems with the Mighty Gumball network have been tracked down and corrected.
It looks like Mighty Gumball is back on track to meet the demands of  their Super Bowl contract after all.
This is the last place they’ll look for my network data...
Network devices send data down the cable by converting the data into a signal.
And the key to all of this is packet analysis.
The Head First Spy Agency specializes in conducting undercover investigations on behalf  of  their clients.
No job is too big or too small, and they’ve just recruited you to their cause.
So how do we extract a message from a signal? We’ve seen before that network signals contain network data.
This data is encoded into a format that computers can use, so if  we can decode the signal, we should be able to extract the hidden message.
We intercepted a rogue signal we believ e is being sent by a.
It looks lik e it’s being sent to our main.
Here’s the mole - but what message is he sending?
Where a high horizontal bar meets a vertical dotted line, we repeat the last number we got.
Where a low horizontal bar meets the vertical dotted line we flip to the opposite number.
Whenever the signal changes from high to low, encode a zero.
Whenever the signal changes from low to high, encode a one.
Where a high horizontal bar meets a vertical dotted line we repeat the last number we got.
Where a low horizontal bar meets the vertical dotted line we flip to the opposite number.
This encoding method is known in the industry as Non-Return Zero Inverted (NRZ-I)
This encoding method is known in the industry as Non-Return Zero.
So you give a positive voltage a one and a negative voltage a zero?
I make sure the data gets there, and I can spot errors.
What happens when you have a whole bunch of  bits in a row? Say you’re trying to send a whole bunch of  zeroes?
If  you have a bunch of  bits in a row.
The signal sits there at the same voltage level for a long time.
Without a clock, the sending device and the receiving device will get out of  sync.
You’d be good for writing data to a hard drive, but you just don’t cut it on a network, do you?
When I encode a signal, it starts at zero voltage, but it never gets to go back to zero voltage.
I can do it that way or vice versa, depending on how I’m implemented, but I always stick to the rules of  that implementation.
After all, I require only half  the bandwidth you require.
What sort of  crazy standard would allow for a bunch of  bits in a row?
I don’t get caught up in all that high-falutin’ stuff.
All that crazy travel over cables is unnecessary and fraught with problems.
Network cards handle encoding Encoding is handled by the Network Interface Card, or NIC, inside the computer.
It handles and decodes digital signals, and is in charge of  all the messaging ins and outs on the computer.
The MAC address is a unique identifier for the NIC used in any data sent over a network.
The NIC produces the voltage necessary to push the signal across the network.
A port on the face establishes an electrical connection with an RJ-45 connector on a network cable.
So how does the NIC encode the data? The NIC starts by taking the message that needs to be sent across the network.
After that, it encodes these numbers, and sends corresponding voltage signals through an attached network cable.
So if  we know what the signal is, how do we find the original message?
To get the message, reverse the encoding To find out what the message is, we need to decode the rogue network signal.
The signal is the series of  voltage changes that’s been transmitted along the cable.
Divide the signal into equal slices using a clocking mechanism.
To do this, look at the voltage level where the clock pulse meets the signal.
The Ethernet standard tells hardware how to encode the data So what sort of  encoding scheme does the rogue signal use?
This is a standard that engineers and manufacturers use when designing computers and network gear, and the protocol includes features such as Manchester phase encoding.
So if  the signal is sent using the Ethernet protocol, it uses Manchester encoding.
The protocol for 10BaseT Ethernet specifies that the signal will be encoded using Manchester encoding.
The CPU in the computer sends data to the computer’s NIC.
Inside the NIC, NRZ encoded data is combined with a clock signal to create a Manchester encoded signal.
The CPU in the computer gets data from the computer’s NIC.
The NIC then lets the CPU know it has data.
In Manchester encoding, it is the TRANSITION to a voltage that represents data.
You don’t have to know the exact  details of  how encoding works.
What is important for you to understand is that data in a computer is represented one way but is encoded into a signal when it is transmitted on a network.
Q: Why do we need to encode and decode signals?
A:If we don’t encode and decode signals, they come in as raw waveforms, i.e.
We encode and decode signals so that we have a way to carry data on the signal.
Networking is all about sending messages, so encoding and decoding are crucial to networking.
Q: Why don’t we just encode data in one way and stick to that?
Q: What is error correction? A: Any time you send data on a network, you can run into problems with that data.
Different encoding methods allow for detection and correction of those problems.
Q: How many different kinds of data encoding are there?
Some older encoding schemes in networking are Manchester, NRZ, and NRZ-I.
Q: Older schemes? What is being used now in networking?
This is done to assure that there is a transition at some point.
Q: As a network professional, I just need to know how to connect stuff.
Why should I learn all of this math and physics?
A: Networking is all about sending messages (data) over a carrier (signals)
To diagnose problems, a good mechanic needs to know all the aspects of how an engine works.
Similarly, a networking professional needs to know how data is packaged to understand how to completely troubleshoot a network.
Q: Where do I go if I want to find out more about the Ethernet protocol?
You can find a whole lot more about the IEEE Ethernet working group and its publications at the following sites:
If we know how a signal’s encoded, that means we can decode it.
What we need to do next is translate this into something more meaningful.
To do this, we need to understand how to translate binary numbers.
Manchester Encoding a method used in networking, which turns electric signals into data formats that a computer can read.
So we know that the signal uses Manchester encoding because it’s Ethernet.
But how does that help us decode the message from the mole?
But how do we write a number like 2 in binary?
So how do we convert a binary to decimal? To convert from binary, here’s what you need to do.
Try converting the signal below into binary and then into decimal.
Try converting the signal below into binary and then into decimal.
So far we’ve looked at how we convert the signal into binary, and from binary to decimal.
What we really want to do though is convert the signal into something more meaningful such as words.
So how can we turn numbers into characters? The answer lies with ASCII...
So are you telling me we can only send messages as numbers? That’s a bit lame.
Q: Why don’t computers just use decimals like humans do?
A: Computers use binary because it’s more convenient to implement with electronics.
Electricity is easier to deal with when it’s in two states, like on-off, high-low, positive-negative.
If we had to represent ten numbers at the signal level, we’d have to represent ten states.
We’d also have to account for errors in state and spend huge chunks of time errorcorrecting and troubleshooting.
Q: Where will I use binary in a day-today networking job?
A: The most common place you’ll use binary as a network professional is in subnetting (which we cover in a later chapter)
Subnetting can seem like magic if you don’t understand the binary behind it.
If you want to monitor packets on a network, binary can help you understand the data more completely.
In the end, understanding binary makes you a better networking professional.
Q: Can you add, subtract, multiply, and divide binary numbers?
A: You can do all of the same operations we do with decimal numbers.
You just need to learn some special rules to do so.
Q: Can’t I just do binary on some sort of calculator?
A: On a Macintosh computer, you can use the Calculator app.
When you open the app, choose “View > Programmer” and you’ve got a calculator that will do binary.
For other operating systems, you can find and download a good programmer’s calculator.
You can also search the Internet for web-based binary converters.
Computers read numbers, humans read letters We can convert a signal into numbers, but what can we do when we need text? We use something called the American Standard Code for Information Interchange (ASCII)
Computers use this format when transferring text messages to one another.
In computer-speak, each binary digit is called a bit, and eight bits together form a byte.
Each byte needs to be translated to an ASCII character.
To do this, we convert each byte into its decimal equivalent, and then look up the corresponding ASCII in an ASCII table, just like the one in Appendix ii.
So the ASCII character represented by 01100001 is the letter a.
It can be fiddly converting bytes into decimal numbers, and this means it’s easy to make mistakes.
Hexadecimal to the rescue There’s a handier way of  converting a byte into ASCII.
Instead of looking up a decimal number in an ASCII table, we can look up its hexadecimal equivalent instead.
So if  you see a hexadecimal number like B, you know that it just means 11 in decimal.
So how do we convert a hexadecimal to decimal? To convert a hexadecimal number to a decimal, take each digit in the hexadecimal number, multiply it by the power of  16 it represents, and then add the whole lot up together.
We know it’s strange at first, but trust us, this little trick makes conversion to ASCII faster.
Once you learn to use hexadecimal, you realize just how cool it is.
Hex and binary make great partners, which simplifies conversions between binary and ASCII.
Hex is like a bridge between the weird world of binary and our world (the human, readable world)
Just put them sideby-side, and you have the hexadecimal conversion.
Because the binary number is broken into halves, the highest number you can get is 15 (which is “F” in hex)
Concatenate is a programmer’s word that simply means “put them beside each other from left to right.”
To find comon ASCII codes, use the handy ASCII conversion table we’ve provided in Appendix ii.
Hint: Use the ASCII table in Appendix ii to lookup the ASCII code.
The messages below are written in binary, decimal, and hexadecimal.
Hint: Use the ASCII table in Appendix ii to lookup the ASCII code.
The messages below are written in binary, decimal, and hexadecimal.
Hint: Use the ASCII table in Appendix ii to lookup the ASCII code.
Hexadecimal packs a lot of value into a little space.
Try converting the signal below into binary and then into decimal.
Use the full Manchester phase encoding method to convert the signal.
Hint: Use the ASCII table in Appendix ii to lookup the ASCII code.
Try converting the signal below into binary and then into decimal.
Use the full Manchester phase encoding method to convert the signal.
So far we’ve looked at encoding techniques for finding out what message the mole is sending.
So what progress have we made in interpreting the signal?
I’ve tried decoding the binary, but the ASCII makes no sense.
It’s not just a matter of decoding the binary; we have to consider the appropriate protocol too...
Q: Does it take a long time to encode Manchester, hex, and ASCII data?
A: Computers encode data at high speeds (like faster than we can blink), but it is dependent on hardware and how it’s engineered.
Obviously, the newest network gear is faster than the old stuff.
The transmission media has a big impact on speed, too.
Q: Ethernet goes at different speeds? A: Yes, the original Ethernet was 10Mbps, but engineers quickly figured out how to get more speed, and that quest has never ended.
You can purchase Ethernet equipment right now that can go as fast as 10Gbps.
Gigabit Ethernet also uses all 4 pairs of wire in a cable.
Q: So how do these encoding schemes help the various devices stay in sync?
A: By using an encoding scheme, a device sending data on a network “embeds” its clock into the signal.
Imagine if there was just a string of 0’s using the NRZ encoding scheme.
A device receiving this signal would not know if this was really the signal or if there was a break in the line.
A signal with the clock embedded in the signal allows the receiver to properly decode the signal because the data is in the transitions of voltages and not in just the voltage level.
Q: Doesn’t a computer have to do all this encoding and decoding?
A: You might think that, but the engineers that designed this stuff are really smart people.
They figured out how to create hardware that can do this encoding/ decoding very fast.
Protocols define the structure of a message In order to effectively communicate, network devices use protocols, a set of  guidelines, or rules, for the network conversation.
These procotols cover such things as how fast data can be sent and how data will be structured when it’s sent.
Most protocols define a size limit for messages, which means that the messages need to be broken into separate packages and labeled with information about where the message came from and where it’s headed.
Network messages come in two kinds of  packages: frames and packets.
Why would it be important for the destination address to come near the front of a frame?
A frame is a logical structure of  bits that organizes network traffic so every device knows how to read the information inside of  it.
The Destination MAC address is the hardware address of the next network device to which the packet is traveling.
The Source MAC address is the hardware address of the last device that sent the frame.
This regular pattern of bits allows the communicating network devices to synchronize their clock pulses.
To give you a sense of how much information is packed into ONE frame, we’ve written a frame in binary below.
The SOF tells the receiving device that the crucial content of the frame is on its way.
The payload of a frame is actually another structure called a packet.
Q: How can I find the MAC address on my computer?
A: On a Macintosh, go to “System Preferences.” In the search entry box in the upper right, type Ethernet ID and hit “Return.” The next window you see will show your Ethernet ID, which is really just another name for your MAC address.
On a Windows machine, go to “Start > Run.” Type cmd and you will open the command line utility.
Type ipconfig/all and the MAC address will appear in the output.
If you are a Unix or Linux user, open a command prompt window and enter sudo /sbin/ifconfig -a.
Q: Can I change my MAC address? A: The company that manufactured the NIC in your computer burned it into a ROM chip on your NIC.
Unless you’re an electrical engineer with access to ROM burning equipment, it will be pretty hard to change the MAC address.
You can, however, fake out others on the network by “spoofing” your MAC address.
We don’t recommend MAC address spoofing because many companies regard it as a security violation and it could result in legal action.
Q: Are MAC addresses just random numbers or do they mean something?
A: The structure of a MAC address means something to manufacturers of network hardware.
The first half of the MAC address is a special code assigned to the manufacturer of the hardware; the last half of the address is a number the manufacturer uses to number the devices they produce.
Q: Is someone in charge of giving out MAC addresses?
Try your hand at decoding the beginning part of one of the captured frames.
You may find it helpful to draw some lines where the various frame parts start.
Finally! After three pages of bytes, we reached the end of our frame..
To depict the largest Ethernet frame possible, we’d need to keep typing bytes for 57 more pag.
Try your hand at decoding the beginning part of one of the captured frames.
You may find it helpful to draw some lines where the various frame parts start.
Network frames have lots of layers Encoding and decoding signals allows us to ship data efficiently.
Frames give that data structure, but does a frame give us enough structure to package our data?
A network frame contains nested structures that allow us to pack and unpack the data efficiently.
Like a series of  nested dolls, each smaller structure is enclosed by the next largest structure.
The payload of  a frame is actually a structure nested within the frame.
We call it a packet, and the EtherType field lets us know what type of packet the payload contains.
Our message fits inside the larger structure of the packet.
This nested packaging allows messages to be packed and unpacked without losing the integrity of the data.
The packet with IP Header fits in the larger structure of the frame.
We have to do a bit more digging into this frame before we can get to the actual message.
Your friendly packet field guide Packets come in several different types.
You can see that there is a lot of information packed inside these packets.
All of  those “fields” contain information that helps the packet get across the network.
You will notice that many of  the same fields exist in the three packet types shown here.
The IP header contains the  IP addresses of the destination device, the source IP address, the protocol of the packet it is in front of, and its length.
Length refers to the length of the packet.Protocol is the IP packet.
You might be familiar with these from your own computer.
The checksum helps the receiving device figure out if any thing happened to the packet on its trip.
This is decimal 6, in a packet this would be in hex!
There are many different types of IP protocols, around 139 of them.
You can find a full list of IP protocols here:
Q: Why are there so many different IP packet types?
A: The main reason is that there are many different types of communication that happens via IP.
For example, routers exchanging route information or other protocol type such as IPX encapsulated inside of an IP packet.
Generally frames have to due with the transmission protocol, i.e., Ethernet, ATM, Token Ring, etc.
But, as you read more about networking, you will see that there is some confusion on this.
Whereas datagrams are used to refer to data sent in packets by an unreliable protocol such as UDP or ICMP.
Q: So packets are inside frames; is there some type of data structure inside the packet?
Remember protocol simply means a set way of structuring information that is agreed upon by the parties involved.
So when a web browser request a web page from a web server, it uses the http protocol to request that page, and the server responds with the data using the http protocol.
When a server sends email, it uses the smtp protocol.
Find the protocol number, destination and source IP addresses in the packet then use the table to decode the protocol type.
This will help us find where the data starts.Our Frame.
Find the protocol number, destination and source IP addresses in the packet then use the table to decode the protocol type.
I heard you had some dropped packets the other day.
I mean packets that did not get from point A to point B.
You see I can tell when a packet does not get from one point to another.
The packets sent using me as a protocol have information in them that the sender enters which lets the receiver know if  there are any lost packets.
I guess lost packets don’t mean much for that type of  information then.
But a lost packet with a database search or server command could be devastating.
I guess the choice is one of  reliability versus performance.
Well why is it that most of  the streaming stuff  on the Internet, such as music or movies, is sent using me as a protocol? What do you have to say to that?
I can send data much faster than you because I have much lower overhead.
So can we decode the secret message? So far we’ve looked at how frames are structured, how to tell which part of  the frame contains the data, and how to convert the data into ASCII.
So is that everything we need to decode the message the mole sent?
It doesn’t look like the whole message is in the packet.
An Ethernet frame can hold about 1500 bytes of  data.
So any data that is larger than that will have to be broken apart.
In order to have a reliable transfer of  data, the sender and receiver communicate using the TCP protocol on how the transfer is going.
If there are errors in the packets, the sender will notify the receiver and it will resend the packets that had errors.
Imagine if  there was one large packet with all the data.
If the connection is poor it might never get sent.
To reassemble the entire message, we need to collect together all the frames, making sure they’re in the right order.
So what do we mean by the right order? Why should they be out of  order? Let’s take a look.
Some paths are longer or have lower bandwidth and take longer for the packet to transit.
These means that the packets could arrive at the destination out of  order.
Because of  the amount of  data, it’s broken into three separate packets.
The red and green packets take a different route to the blue packet.
How do you think we can tell what the packet order should be?
The server sends packets to a particular application based on the port number.
As an example, it knows which messages are emails by looking at the destination port in the packet.
Ethernet frame received by a server The server sends the packet to a particular application based on the port number.
The packet tells you the correct order Each packet contains a sequence number, and it’s this sequence number that tells you the correct order of  the packets.
This means that you can use the sequence number inside a packet to put all the packets back together in the right order.
So if  we can decode the packets in the right order, we’ll have the secret message.
The sequence number in a packet can be used to put all the packets back together, in the correct order!
Use the sequence number to put the individual packets in order, then translate the hex data into ASCII.
Use the sequence number to put the individual packets in order, then translate the hex data into ASCII.
Networkcross Take some time to sit back and give your right brain something to do.
It’s your standard crossword; all of the solution words are from this chapter.
What is embedded with data in a Manchester signal? [CLOCK]
Everyone in the office thinks I’m crazy, but I swear it’s watching us! I warned them, and they’ll find out soon enough.
Networks need as much intelligence as you can pack into them, but where does that.
We’ll show you how these devices think, why they’re so useful, and.
Keep reading, and we’ll show you how to super-charge your network.
You’ve successfully decoded a secret message from the rogue signal, so what’s next?
And if  we don’t know who’s sending rogue messages, how can we prevent it from happening?
We need to somehow track down who the mole is—but how? All we have to go on is the rogue signal we used to decode the message.
Can we somehow use that to help us sniff  out the mole?
Label each part of the frame below and write some notes about which part of the frame might be important in catching the mole on our network.
Notes: The Payload would contain the actual secret message being sent by the mole.
The Source MAC address field would tell us what hardware sent the message and help us pin down the mole’s computer.
The Destination MAC address would tell us where the data was going to next.
Label each part of the frame below and write some notes about which part of the frame might be important in catching the mole on our network.
The packet information tells us where the packet came from When we decoded the message earlier, we saw that each packet contains the source MAC address.
In other words, it contains the MAC address of  the hardware that sent the packet.
You can find a MAC address stamped on the NIC card inside a computer.
Typically they are written in hexadecimal format and separated by colons or dashes, like this: 0f:2b:5d:e7:a3:eb.
The Destination MAC address is the hardware address of the next network device the frame is going to.
The Source MAC address is the hardware address of the last network device from which the frame was sent.
The MAC address of  the hardware that sent the rogue message is 00:1f:f3:53:fe:32
So how can we use this to tell us who the mole is?
We find the computer with that MAC address, and then see who uses it.
Chances are, the mole is the person who uses the computer that sent the messages.
Many internet-capable video game systems have a console that will show you the MAC address of the device.
We don’t need the rest of the frame elements for now.
So who’s the mole? Here’s a list of  all the MAC addresses at the company you’re investigating.
So who uses the computer that sent the rogue signal?
Unfortunately, the source MAC address of  the signal isn’t in the list, even though the list of  computers is up to date.
Let’s take a look at the network and see if  we can see what’s going on.
The MAC address that sent the rogue signal is 00:1f:f3:53:fe:32
There’s more to networks than computers The company network isn’t just comprised of  computers and servers.
There’s also network devices such as hubs, switches and routers.
Hubs and switches work on the local area network (LAN) or intranet, and routers allow us to set up wide area networks (WANs) or internets.
The Internet is not the same thing as an internet.
The Internet refers to the big interconnected space we use to send data around the world.
The term “internet” refers to at least two intranets connected together by a router.
This is the point at which the rogue signal was caught.
Switches allow us to connect different machines on the network, too.
As we’ve said before, hubs allow us to connect the different machines we want on our network, like computers and printers, for example.
It simply takes an incoming signal, copies it to all its other ports, and broadcasts it.
A hub is sometimes called a repeater because it repeats the incoming signal using no digital intelligence such as memory or a processor.
Collision and Traffic Level Lights show when there are collisions and network traffic on the port.
Hubs are dumb A hub is a dumb device because it doesn’t understand network data, and it doesn’t know about or store MAC addresses.
It simply repeats incoming signals on all ports, without making any changes to the signal before broadcasting it.
What does this tell you about how the hub processes signals?
Hubs don’t change the MAC address So how does this help us trace the rogue signal?
The last device that the packet came through before it was intercepted was a hub.
As a hub simply transmits signals as it receives them and has no real understanding of  network data, it doesn’t make any change to the source MAC address.
It keeps the source MAC address as it was when it received the packet.
So which device sent the packet to the hub? As the hub makes no changes to the source MAC address, this means that the source MAC address must belong to the device that passed the signal to the hub.
We need to look beyond the hub to sniff  out the mole.
I don’t understand anything about this signal, so I’ll just broadcast it.
Maybe someone else will know what to do with it.
There is no way to tell that a packet was broadcast from a hub.
You just have to know your network layout and what nodes are connected to hubs.
A hub receives incoming signals and sends them out on all the other ports.
When several devices start sending signals, the hub’s incessant repetition creates heavy traffic and collisions.
A collision happens when two signals run into one another, creating an error.
The sending network device has to back off  and wait to send the signal again.
It takes whatever signal comes in, and sends it out on all the other ports.
Hubs think in terms of electricity A hub contains no processors, and this means that a hub has no real understanding of  network data.
It sees an incoming networking signal as a purely electrical signal, and passes it on.
So what passed the signal to the hub? So far we’ve seen that the signal passed through a hub, but we don’t know which network device passed the signal to the hub.
Let’s go back to the network diagram, this time looking at what other devices are connected to the hub.
This is the point at which the rogue signal was caught.
The hub has two devices connected to it that could have sent the signal, a computer and a switch.
As the computer MAC address doesn’t match the one we’re looking for, we know the computer didn’t send the signal; it must have been the switch.
A switch sends frames, and only sends them where they need to go Switches avoid collisions by storing and forwarding frames on the intranet.
Switches are able to do this by using the MAC address of  the frame.
Instead of  repeating the signal on all ports, it sends it on to the device that needs it.
A switch reads the signal as a frame and uses the frame’s information to send it where it’s supposed to go.
Switches think in terms of frames A switch contains processors, RAM, and ASICS, and this means that a switch can properly process network data.
It understands MAC addresses and frames, which means that it can deal intelligently with any incoming networking signal.
It can work out where the signal needs to go, and deals with it accordingly.
Just like a hub, a switch allows us to connect the different machines we want on our network, like computers and printers, for example.
Switches are smart There’s a big difference in how hubs and switches deal with signals.
A switch can process signals as frames, and also understands MAC addresses.
Instead of  repeating incoming signals on all ports, a switch can store packets and forward them to their destinations.
The processor runs the switch’s operating system, manages memory, and coordinates various activities amongst the other digital components.
Application Specific Integrated Circuits (ASICS) are highly specialized integrated circuits...
Switches store MAC addresses in a lookup table to keep the frames flowing smoothly.
I’ll update my table with the information I got from the frame.
A frame carries the payload of  data and keeps track of  the time sent, as well as the MAC address of  the source and the MAC address of  the target.
The switch forwards the frame to its target MAC address using information from its table.
It does this by sending the frame out the port where that MAC address is located as the MAC address table indicates.
The switch uses a table to keep track of frame information.
A port is where a network node connects to a switch.
Alright, Switch, I’m getting tired of  you calling my intelligence into question.
Okay, I repeat signals, other than that we’re pretty similar.
I like to make sure that every device on the network gets a heads-up about traffic.
The fact that you repeat every little thing that comes into your ports on ALL of  your other ports makes for a real slow network.
You bombard all of your ports with unnecessary network traffic.
I have built-in digital logic and can read information from frames and use it to send data accurately.
Put just one of  me in a network run entirely by you, and I can up the speed and the bandwidth of  the network the minute someone turns me on.
Since the switch stores MAC addresses, we should be able to connect to the switch and look at its table.
Will this get us the information we need to find the mole?
Connect your computer to the switch with a serial cable.
Open a terminal program such as Hyperterminal, and get to the command prompt of the switch.
The MAC address of a computer or other network device connected to the switch.
Low end switches do not generally have serial ports on them.
The port number on the switch that the device is connected to.
How long do you think a switch keeps MAC addresses in its table?
Frank:  So do you think the switches aren’t picking up the MAC address?
Jim: No, the problem is that the switches clear out those MAC address tables in about three minutes.
Jim: Yea, if  a network device stops transmitting, the switch just deletes the entry to keep the table size small.
Frank: So where does that leave us with finding this rogue machine?
Jim: Well I’ve looked at all the PCs and did not find the rogue address.
Jim: I think we need to capture the network traffic and look for traffic with that source MAC address.
I can then get back into the switches to find that address and narrow it down to a port on a switch.
I can’t see the rogue MAC address in any of the tables.
As packets come and go, Wireshark shows them on screen.
Wireshark is installed on a workstation and plugged into the network.
We can use software to monitor packets If  you need to monitor network traffic and capture packet information, there’s some great software out there that will do exactly what you need— software like Wireshark.
To monitor traffic, you install the software on a workstation, and then plug the workstation into the network at the point you want to monitor.
The software then gives you information about the packets that pass the workstation.
That way we can pick up any more rogue signals the mole sends, and find out what network device sends them to the switch.
Look in Appendix i for more details about installing Wireshark.
Connect your computer to the switch with a serial cable.
Open a terminal program such as Hyperterminal and get to the command prompt of the switch.
Hook up your computer to port 1 on the switch with an Ethernet cable.
Let’s hook Wireshark up to the switch So how do we get Wireshark to monitor network traffic going through the switch? Follow these instructions, and you’re sorted.
Wireshark gives us traffic information Wireshark shows us all the network traffic that the computer is seeing from the switch it is connected to.
We can filter the output and look for specific frames if  we wish.
This panel shows the traffic that Wireshark is capturing; one line is one packet.
This is the point at which the rogue signal was caught.
This is the point at which the rogue signal was caught.
Below is a part of the packet information from Wireshark.
Routers have MAC addresses too If  network traffic comes from a router, we can only see the router’s MAC address.
All the workstations behind that router make up what we call an IP subnet.
All a switch needs to look at to get frames to their destination is the MAC address.
A router looks at the IP address from the incoming packet and forwards it if  it is intended for a workstation located on the other network.
It sends it to the router since the workstation the traffic is meant for is behind the router.
The router changes the source MAC address to its MAC address and changes the destination MAC address to the workstation the traffic is meant for.
Network portsRouters are really smart They have to be smart because they use IP addresses to move traffic around a network.
Also, routers have far less network ports because they tend to connect to other routers or to switches.
Routers are the high end networking devices of  a network.
Write down your next step(s) to find the workstation that the rogue packets are coming from.
We’re closing in! We’ve isolated the rogue packets to a small part of  our network behind a router.
Write down your next step(s) to find the workstation that the rogue packets are coming from.
Connect to the switch that is behind the router and look for the rogue MAC address in its MAC address table.
It will tell us the port that the rogue is connected to and lead us to the mole’s location.
You’ve found the mole! Thanks to your networking skills, we’ve found the mole.
He’s connecting a laptop to a switch that’s sitting behind the router.
But what do you do if you need to share resources with some other network? That’s.
We’ll show you how to program your router, and how the router itself can help you.
Keep reading, and you’ll find it’s out of this world...
The Moonbase is a NASA command center that’s been set up on the moon, and they need to establish a video connection with the International Space Station (ISS)
There’s just one problemthere’s no network on the Moonbase to allow them to communicate with it.
Start your moon network by connecting up the devices below into a network that will allow communications on the Internet using the radio.
Start your moon network by connecting up the devices below into a network that will allow communications on the Internet using the radio.
There are only 2 connections on the router, one for our network, and one for the ISS network connected throug the radio.
All of the Moon network devices are connected to the switch.
We need to connect two networks together So how do you generally connect two networks together? The first thing you need is a working local area network (LAN)
This could be a Cat 5 cable or fiber or even a radio link.
Finally, you need a router to connect the 2 networks.
The router connects the networks physically as well as logically.
The physical network is the hardware such as the cables, switches, hubs, and routers.
A router sits in-between two networks and converts the network addresses.
The network “cloud” contains all the stuff on that network.
The Moonbase and ISS networks are now connected with a router.
What do you think the flashing LEDs have to do with traffic on the network? Remember from the previous chapter, that data sent on an Ethernet network travel as discrete units called frames.
The LEDs flashing let you know that a  particular port is sending or receiving network traffic in the form of  these frames.
The frames are directed where to go based on the MAC address inside the frame.
How would you find out? Remember, every network device on an Ethernet network has to have a MAC address if it is going to send and receive network traffic.
The light’s on, but nobody’s home The LEDs on the Moonbase switch are flashing, but unfortunately, there’s still no video connection with the ISS.
The lights on the switch are flashing, but we’re not getting through to the ISS.
How would you go about monitoring conversations on the network? What would you use?
Q: So why do we have to use a router? Can’t the switch connect to the radio?
A: We have to use a router when we connect two networks.
The router acts as a “translator” between the two networks.
Q: What is the router “translating”? A: In simply terms: network addresses.
The router moves the data from one network to another.
Q: So do I always need to connect a computer to a switch?
A: To a switch or to a hub, but never directly to a router.
Q: But I have a DSL router at home, and my computer is directly connected to it.
There are switches that have routing capability and routers that have switched ports.
There is not a real clear line between the two devices.
These have software that allow them to work as routers on switched ports.
They are great to use and make building large sophisticated networks straightforward, but they are very expensive.
Q: So the difference betweeen my home DSL router and an enterprise switching router is the software?
Your home DSL router probably uses a small embedded processor or microcontroller which does all the processing.
Switching routers and heavy duty routers have specialized processors with individual processors on each port.
The name of the game is the speed at which is can move packets.
Your home DSL router probably has a throughput of about 20 Mbps (Megabits per second), whereas a high end switching router can have a throughput of hundreds of Gbps (Gigabits per second) or more.
What would you see if a device was trying but failing to have a network conversation?
A packet sniffer program like Wireshark can show you the network traffic between devices.
Wireshark can help you find out when devices are trying to communicate but can’t for some reason.
There’s lots of traffic here, but it’s not making any sense.
Frank: What are all these different from and to addresses in this packets?
Jim: Well, this is a TCP/IP network, and those are the network addresses of  the various devices on the network.
Jim: They have to be unique on the network, like a telephone number is unique.
Frank: I get that, but some of  these numbers are really different.
It seems there are a couple of  conversations going on, but none of  the machines using the one type of  address are talking with the other machines.
Frank: I bet they are on a different TCP/IP network!
Jim: So how can we get them to talk with each other?
Only network nodes with the same IP network address can communicate across a switch.
A router is needed to connect two different IP networks.
Each network device on a TCP/IP network needs to have an IP network address, a unique address on the network.
If you’re running Mac OS X, open up the Terminal application from your Utilities folder, and type ifconfig.
If you’re running Windows XP, 2000, or Vista, click Start, then Run, and then type cmd.
A MAC address is assigned to every device connected to an Ethernet network.
The beginning part of  the MAC address designates the manufacturer.
The later part, the manufacturer increments, so all their products have unique MAC addresses.
It is like a social security number, in that you really can’t tell where a person lives just by looking at it.
There is no way to store network information in the MAC address.
Each address is specific and unique to the piece of  hardware it is assigned to.
A IP address is made up of  a network address and a host address.
The host part is the unique bit assigned to a particular network device.
The ability to create groups of  IP address, called IP networks is built into the number itself.
This is the network address of the above IP address.
Notice the difference between these is in the network part of the address.
The IP address then gives a unique network and specific address to each and every network node.
A network device sends an ARP request to the switch.1
We retrieve IP addresses using the MAC address and the Address Resolution Protocol (ARP) Here’s what happens when a network device needs to send some data via a switch on a TCP/IP network.
The device has to find out the MAC address using the IP address.
The device with the appropriate IP address makes an ARP response back to the switch.
The switch relays the ARP response back to the network device.
Q: I thought I just needed a MAC address for a frame to get somewhere.
A: That’s all an Ethernet frame needs to get somewhere.
But, remember from the previous chapter that Ethernet frames contain things called packets, and these contain data in the form of protocols.
In the case of TCP/IP networks, we need IP addresses to move the packets between networks.
Q: If my computer has an IP address, why does it need a MAC address too?
A: A computer can talk multiple network protocols on the same network.
For example, on my Mac here, it is talking TCP/IP and Appletalk on the same Ethernet line.
So the MAC address allows the Ethernet frames to move between network devices like routers and switches.
The network protocols allow the computer to talk to devices on other networks.
Q: What is an IP address used for? A: Every computer connected to the Internet has to have an IP address.
It may not be a public address, or it might share a public address with other computers, but it will have some type of IP address.
Q: What do you mean “public” IP address? A: There are some IP network addresses designated as private addresses.
Public means that they are routable, whereas private addresses are not routable, i.e., the main routers of the Internet will not move packets from one network to another if they have private IP addresses.
Q: Who designated which IP addresses were public versus private?
When the TCP/IP protocol was developed, the designers recognized the need to reserve some addresses for use as private networks.
Q: So how do you get an IP address? A: Another great question.
At home your computer gets its public address from your ISP.
A computer at a large business or university would get it from the network administrator who keeps track of all the IP addresses.
Q: So how do ISPs, businesses, and universities get IP addresses?
There are four other registry authorities for other regions of the world.
You can look at http://www.arin.net/community/countries.html to find the Registry that manages each country’s IP space.
Q: Can anyone get IP address space? A: There are certain requirements to get IP address space.
Having the need ( i.e., lots of computers that need to be on the Internet) is probably the biggest requirement.
So what’s the problem with the Moonbase? So far we’ve seen that the computers on the Moonbase network are communicating using IP addresses rather than MAC addresses.
So why aren’t the Moonbase and ISS able to communicate?
The trouble is, the two networks aren’t communicating with each other.
I wonder whether the network traffic isn’t being communicated somehow?
So far we’ve looked at how switches behave on IP networks.
But what if  the problems aren’t to do with the switch, but with how the traffic passes from one network to the other? What device should we look at next?
Take another look at the network diagram for the Moonbase.
What device controls how traffic is handled between the two networks?
How do we get network traffic to move between networks? The problem is that a node on one network does not know how to send frames to a node on another network.
A router knows how to move traffic from one network to another.
But how does it do this? Doesn’t it have to know about both networks, or at least how to get to the outside network?
Also, how does a network node know to send traffic bound for another network to its router?
We need to program a router to know about the networks it is connected to, and know how to get to other networks.
Network devices have a default gateway in their network setup.
It is where the devices send all network traffic bound for other networks.
The switch decides where to send traffic based on the MAC address.
The router decides where to send the traffic based on the IP address.
The router has a much bigger “brain” than the switch.
So why can’t you just use a switch to move data between networks?
Remember, the only addresses the switch understands are MAC addresses.
An Ethernet switch just looks at the MAC address of  a frame and forwards that frame to the correct device.
The router has to actually take the packet out of  the frame, get the IP address, then modify the frame MAC address if  it needs to send it on to a device on another network.
The sending device sends an ARP request for the MAC address of its default gateway.
Here’s what happens if  a network device wants to send network traffic to another network device located on a different IP network.
How the router moves data across networks Computers are not generally connected directly to a router.
The router sends an ARP request for the device with the correct IP address on a different IP network.
The router changes the MAC address in the frame and sends the data to the receiving device.
Back to the Moonbase problem From the captured network traffic, we can see that devices on the same network are communicating, but devices with different IP network addresses are not.
What would you think are network addresses for the Moonbase and ISS?
But the real secret is that an IP address is just half  of  the IP network address.
The mathematical combination of  the IP address and subnet mask is what a router uses to determine the network of  some packet it received.
This subnet lets us and network devices know that the first 3 octets are the network address.
What type of  math do you think a router uses to determine when it needs to route a packet to another network?
It sends this to its default gateway since it is destined for another network.
The router has changed the destination MAC address to the receiving computer’s MAC and the source MAC address to the router’s.
The router looks inside the packet, it compares the destination network address with addresses in its routing table.
Based on that, if it can, it forwards the packet to the correct device.
Did you get this one? The IP network address is all the numbers except for the one after the third period.
Seems everyone is doing something on the Internet these days.
Router: Well, I see the frames, but really they are all packets to me.
I have to take them apart and put them back together after all.
Can’t you just take a peek at the MAC address and send the frame on its way.
I think it might help with the speed of  the Internet.
Router: That’s all well and good when you are dealing with one network, but I have to move data from one network to others, and a MAC address just does not let me do that.
It is like knowing a house number and street name, but not the city, state, or country.
Head First: Isn’t that how switches move frames around a network?
Head First: So a switch cannot route network traffic, is that what you are saying?
They do not even have the proper software to deal with routing.
Head First: But if  we installed software on a switch, it could route then?
Router: Then it would be called a router, wouldn’t it?
But aren’t there network devices that do switching and routing?
The can also route packets using other information besides IP addresses.
They can also be very fast because they can combine switching and routing into something called Layer 3 Switching.
This essentially means moving routing into the hardware like switching is.
Head First: So we’ve heard that you run the Internet.
Router: The Internet is built on the back of  routers.
Router: It was enjoyable to talk to you as well.
For each IP address/subnet pair, write down the network part of the IP address and the host part of the IP address.
Q: What is with the number 255? Why can’t it be a larger number?
But I have read that the Internet is running out of addresses.
A: Part of the problem is that historically IP address space has been given out in several different size chunks called Classes.
The scheme is rather wasteful, so many addresses may not be in actual use.
Plus there are many reserved addresses, such as the private IP address spaces.
All of these issues plus the fact that there are a lot of devices connected to the Internet, means that the pool of available IP addresses is pretty limited and getting smaller.
Q: So is the Internet doomed? A: No, there are some smart people out there.
They have designed a new IP address space called IPv6
The old one that we are talking about is called IPv4
Plus it has some other mechanisms designed in to help manage the address space.
Q: When is the Internet going to move to that address space?
For about 10 years, a very slow transition has been happening.
Q: Back to the subnet, why is it called a mask?
A: The subnet is used as a mask on the IP address to see either the host address or the network address, depending on what it needed.
The mask is just like a Halloween mask with eye holes.
The mask blocks all of your face except for your eyes.
In the case of a subnet, the 255 are all ones, so if you use the boolean AND operator to combine the IP address and subnet mask, you get just the network address without the host part.
This is what the router uses to know if it needs to route a packet.
Based on the routing table below, decide whether or not it is routable, and if so, on which interface it will send the packet.
For each IP address/subnet pair, write down the network part of the IP address and the host part of the IP address.
Based on the routing table below, decide whether or not it is routable, and if so, on which interface it will send the packet.
So far we’ve connected the Moonbase and ISS networks together using a router.
The trouble is, we’ve only connected the two networks together physically, and not logically.
In order for the two networks to talk to each other, we need to sort out the logical connection too.
In other words, we need to tell the router how the IP addresses of  the two networks relate, and to do this, we need to learn how to program the router.
Sound difficult? Don’t worry, just turn the page, and we’ll show you how it’s done.
Connect a computer to the router with a serial cable Most routers allow you to connect to them with a serial cable.
These days you can get a USB to serial cable, then use a terminal program to actually type commands into the router.
Get to the enable or programming mode of the router Routers have several modes.
In order to program it, you must get it into the programming mode.
That generally means first typing a command such as enable to get into a privileged mode, then configure terminal to actually program it.
Select the interface to setup Now you have to select the interface that you want to setup.
This means the physical connection such as Ethernet or serial.
A router should have at least 2 interfaces in order to route anything.
In the Cisco IOS the command interface feth0/0 will select the first or “zero” fast Ethernet port on the first or “zero” fast Ethernet card.
The second command, no shutdown,  tells the router that the interface is in use.
Select the second interface Type the command exit, then the command interface feth0/1
This will switch us to the other interface so we can set it up too.
Exit from programming mode and save our setup Type exit twice, then write mem to save our configuration to nonvolatile memory.
Routers can download their configuration files from network file servers like tftp servers.
You can also create a configuration file with a text editor then upload it to the router using the same type of service.
Well, the router is all hooked up and the interfaces configured.
But is still doesn’t look like there’s any Internet traffic.
Frank: I can see the computers are trying to send traffic, but the router just doesn’t seem to be doing anything with that traffic.
Jim: I wonder whether it’s a problem with the router configuration.
Frank: It looks OK to me, but I don’t really know that much about router configurations.
Jim: We could do with a way of  getting diagnostic information from the router.
Frank: Routers are pretty intelligent, so there must be some sort of  command that will show us information on the interfaces.
So how do we get diagnostic information from the router?
At first looking at all the statistics can be a bit overwhelming, but most problems tends to be rather simple ones.
The last time traffic came in and out our interface.
OK, it is time to be a network engineer for real.
On the facing page we have pointed out four things that are giving you information on what the problem is with this router.
Write down at least three things that could cause this interface to have these kinds of readings.
Q: Do routers have anything configured when they are new?
A: When you get a new router, there is no configuration on it at all.
You have decided how to connect the router up and how it is going to connect between networks.
Q: Does it matter which network interface it’s connected to?
If you are connecting 2 Ethernet networks, then it really does not matter.
However, if you are connecting an Ethernet network to another network through a T-1 line, then you must use a serial interface.
If there are bits traveling on a physical media, there is a router to move those bits to another physical media.
A: Yes, as many as you are willing to pay for.
Also, a router can have different physical media (fiber, copper, radio waves) for a given protocol like Ethernet.
A: Most router problems are related to a problem with physical media.
Once a router is configured properly, generally the only thing that will cause problems is broken cables, disconnected cables, interference, etc.
When a network with routers is configured, it can run for years without issues.
OK, it is time to be a network engineer for real.
On the facing page we have pointed out four things that are giving you information on what the problem is with this router.
Write down at least three things that could cause this interface to have these kinds of readings.
There is no traffic, so for some reason the interface is not getting traffic.
To build big networks, you need to use routers and they have to talk to each other.
In the chapter, you will first see how to manually enter a route, then you.
So how do we get routers to communicate with each other when they’re not directly connected?
So far, you’ve successfully hooked up the Moonbase network so that it can communicate with the ISS.
There’s just one problem: there are actually 20 bases on the moon, and all the different moonbases need to keep in contact with each other through their network links in case they get into trouble.
When the international community started building the moonbases, they wisely decided to run fiber optic cables to all of the different moonbases.
Each moonbase is directly connected to at least one other moonbase, and indirectly connected to all the others through the web of  fiber optic cables.
Moonbase 1 is indirectly connected to this router via another router.
When two routers share a common IP network space or network address, they can automatically route packets to each other.
But what about when routers aren’t connected to each other directly?
When routers aren’t directly connected to each other, they need to know how to send packets to the other router.
They get this information from routing tables, tables which are stored in the memory of  the router.
To see the route table on a router, you need to use the show command.
On a typical router such as a Cisco, you would run the show ip route command.
We can see routes in the table using the show command.
Let’s take a look at what the contents of  the routing table actually mean.
These codes tell you how the router knows about the routes.
Each line represents a different route The route table is a type of  address book for the router.
It looks at a packet’s destination IP address, then looks that up in its routing table.
Based on that lookup, it sends the packet to the right place.
The first part is a letter which tells how the route was established.
The second part tells the router how to get to the route.
The route table is constantly kept up-to-date by the router so it knows where to send packets.
Whether the network is directly connected, or accessed indirectly via another router.
How does a router learn about routes if they are not entered or directly connected?
The letter tells you how they get in there, but what do the letters mean?
The simplest way to get routes into a table is just type them in.
Those are called static routes because they don’t change unless you change them.
When you assign an IP address to an interface, this automatically places an entry in the routing table for that IP network.
These are the routes that are directly connected and have a C in the front of their table entry.
Routes that are entered by hand are static and have a S in front of them.
Finally routes that are learned have different letters based on how the route was learned.
So how do we enter routes? The first thing you need to do is get a connection to the router.
You can either ssh into the router via the network or connect with a serial cable.
Type write memory This saves our new configuration to memory.
See if you can fill in the two missing IP addresses on the lines in the routing tables below to get the packets flowing between the computers via the routers.
Routes help routers figure out where to send network traffic So you need to enter all the network addresses that you want your router to be able to send traffic to.
You can’t possibly enter all the networks of the world into your router’s table.
This is the location, another router, where your router sends all the traffic it does not know where to send.
See if you can fill in the two missing IP addresses on the lines in the routing tables below to get the packets flowing between the routers.
Create routing tables from scratch for each router in the network below.
Create routing tables from scratch for each router in the network below.
This router responsible for the network sends the packet to the correct node on its network.
The computer on the Moonbase 1 network sends a packet destined for a device on a different network.
The Moonbase 1 router looks up destination network address in its table.
It forwards the packet on to the router responsible for that network, or a router that knows about that network.
This other router looks in its route table and sees that the packet needs to go to a further router.
It’s not directly responsible for that network, so it sends it along.
Q: What do you mean by interface? A:Interfaces are the physical network connections that a router has installed.
These can be Ethernet RJ-45 type connectors, serial connectors, or even fiber optic connectors.
Many routers support multiple interface cards, and each card can have multiple connections.
So the second number represents that actual interface on a given interface card.
If the router has other cards, you could see interface numbers like 1/1
Q: In the “via” bit, do I need to specify something that the router’s directly linked to?
A: When you enter a static route, you need to specify the IP address of the router that will handle that network route.
It is optional to enter the interface number as well.
Q: Does the routing table just contain IP addresses of routers? What about other devices?
A: Yes, it contains only IP addresses of other routers.
Remember, the route table tells the router where to send network traffic to another network.
No other device addresses are entered into a route table.
How do we troubleshoot routes if the data isn’t getting through?
So how do we troubleshoot bad routes? If  there’s a problem on an interface, the router can tell you whether the interface is up or down.
But there isn’t really much it can tell you about a static route.
It doesn’t know if  the route is up or down; all it knows is that it can’t send traffic via it when it is down.
The ping command tells you if the network and host are reachable.
This tells you how long it took to get a reply.
We can start with the ping command The ping command is a great command line utility that can help you troubleshoot bad routes.
It basically tells you whether or not the network and host are reachable.
To use the ping command, type ping at a command prompt, followed by the IP address you want to check.
The ping command sends ICMP packets to the specified IP address.
It waits for a reply, and then outputs how long the response took.
The traceroute command is useful too The traceroute command traces the route that the packets take to get to the destination IP address.
This route is represented by the IP addresses of  the routers in-between the sending host and the destination IP address.
Traceroute from client A sends a block of  three packets with a value of  1 in their time-to-live (TTL) field to client D.
Traceroute from client A then sends a second block of  three packets with a value of  2 in their time-to-live (TTL) field to client D.
Router B changes the packets TTL to 1 and sends them on the Router C.
Traceroute from client A then sends a third block of  three packets with a value of  3 in their time-to-live (TTL) field to client D.
Client D sends an IMCP packet back to client A.
Let’s see if  we can use these tools to help us troubleshoot the Moonbase 1 routes.
So you will not see any reply in that case.
Q: When I ping some of the example addresses in the book, sometimes I get a response, and sometimes I don’t.
A: Remember private IP addresess back in Chapter 6? Well most of the addresses we use in the book are private IP addresses.
On your home network, some of these might be used by your local router, or your ISP might be using them as well.
Q: It seems like you could write a program to constantly ping some devices on the network and alert you when the pings fail.
You enter in a range of IP addresses to scan, and it lets you know if there is a machine there or not.
Nagios is more of a monitoring tool like you described above.
Many ping program have different options that control how many packets you send or even what information is inside the ping packets.
Type ping --help or ping /h to find out more.
Q: Are those times on the return ping packets very important?
A: A good network engineer learns what the various ping times around her network are.
We are not saying you should memorize them, but you should have a good feel for what the times should be roughly.
That way, when things go out of whack, with some simple pinging, you can tell what is and isn’t behaving properly.
Q: Isn’t traceroute a fancy ping? A: Well traceroute sends ICMP packets just like ping does, but it is doing something totally different in that it sends out those series of packets to get the routers to respond in-between you and the destination.
Q: Sometimes my traceroutes seem to hang up then all of a sudden start going again.
A: If you are having traceroute look up the DNS names of the routers, sometimes those routers don’t have DNS entries, so your ping command has to wait for the DNS request to timeout.
Plus, if it is doing this on a number of routers, it can really take some time.
Run the traceroute command with the -n flag to turn off DNS lookups.
Q: Sometimes I see a little star when I run the traceroute command.
Does the little star mean that the router is down?
A: No, often it means that the routers is configured to not respond to ICMP packets.
Q: So each router along the path to the destination has to respond for my command to work?
A: No, traceroute will just timeout the packets going to that device and move on to the next one until it gets to the destination.
Q: How does it know when it gets to the destination? A: Simple, it just keeps incrementing the TTL of the ICMP packets until it gets a response from the destination IP address.
Based on the traceroute output, circle the routers or hosts which are not responding.
Based on the traceroute output, circle the routers or hosts which are not responding.
When there are changes to routes, you have to modify those routes in your router’s route table to keep it current.
As the Moonbase 1 router only had the old network addresses in the routing table as a static route, this meant that the router no longer knew where to send network traffic destined for these two networks.
All we have to do is change the route in the routing table for the changed network addresses.
This means that if  you have static routes in your routing table, you need to change them manually.
Unfortunately, they aren’t the only moonbases to change their network addresses.
With all the growth on the moon, other moonbases are changing their network configurations too.
Before too long, Moonbase 1 is swamped with notifications from other moonbases that their network addresses have changed too.
Just to let you know that we’re now routing 10.1.67.0/24
Just to let you know that we’re now routing 10.89.4.0/24
How on earth can I keep up with making all these changes? Isn’t there a better way?
Wouldn’t it be dreamy if we didn’t have to update routing tables for every change in network configuration, but routers could just talk to each other and exchange route changes automatically? But I know it’s just a fantasy...
Use RIP to get routes to update themselves If  you want to make your life easy, invest some time in getting a dynamic routing protocol running on your network.
RIP, or Routing Information Protocol, is one such dynamic routing protocol.
Routers use RIP to talk to each other, sharing their route information and allowing them to keep their route tables up-to-date.
Every 30 seconds, the router sends out its router table.
It sends out its entire route table to all other routes in the form of  RIP update packets.
This means that any changes that have been made to the routing table since the last time are included.
Other routers receive the route information and check their route tables.
The other routers update their own routing tables with any changes.
Any new routes are added, existing routes are updated, and deleted routes are removed.
So what does this mean for Moonbase 1? By implementing RIP across all the moonbases, we no longer have to maintain static routes for all the indirectly connected routers.
Instead, we can let the routers maintain the routes for us—which makes life much easier.
Based on the changes in the network, circle the router(s) which would send out changes to their route table(s)
Based on the changes in the network, circle the router(s) which would send out changes to their route table(s)
Updated because they were all connected to the down router.
You enter the config mode on the router, then we enter the router rip configuration.
When you add some networks, the router turns on RIP.
Remember to save your changes with the write memory command when you exit the command mode.
Q: Does every type of router run RIP? A: Just about any router you will come across will have a version of RIP available.
It is an mixture of software running, a network protocol to communicate route information, and the configuration files.
Depending on the type of router, it usually is some software function in the OS of the router.
Q: How do you guard against someone hooking their own router up and sending bad routes?
A: There is really nothing to prevent that with the RIP v1 protocol.
In RIP v2 there is simple password authentication, but those passwords are sent in plaintext, so if someone is connected to your network, they could probably get these.
Some routers have mechanisms such as peers that allow you to control which routers you receive updates from.
Q: It seem like it could take a while for routers to share all their changes if there are more than a few routers with lots of changes.
Since a router broadcasts its router table every 30 seconds, it could take minutes for a change to propagate around even a small network.
These two lines add these networks to route table as networks that this router will route for.
What do you think the problem is? What could you look at on your router to help figure out this problem?
There are too many hops Given a choice, the RIP protocol always chooses the route with the fewest number of  routers in its path, or the fewest number of.
But what about the speed of the line, doesn’t that make a difference?
This means that if  there are two possible routes to a particular nework, RIP will choose the one with the lowest hop count, even if  the other route is really fast.
The Hop-Count is the number of routers a packet must “hop” through to get to a particular IP network.
The route with the lowest hop count is the best route.
The route with the lowest hop count is the best route.
So what do we do? I mean, we can’t just redesign the RIP protocol.
Are there any other routing protocols we can use instead?
Earlier in the chapter, we had you use the RIP protocol, which works fine for a network with a small number of  routers and paths, but it just does not scale.
It was replaced by EIGRP, but you may come across it here and there.
If  you are running all Cisco routers on your network, then using EIGRP is probably best.
But if  you have to interact with routers from other manufactures, then OSPF (Open Shortest Path First) and BGP (Border Gateway Protocol) are best.
Also, if  you are hooking a router into an existing network, you will need to use the routing protocol that the rest of  the routers are using.
It’s great for interoperability, as not all routers support OSPF and EIGRP.
The routing protocol zoo So what are the differences between the routing protocols? Let’s take a look.
When routes change, they are quickly propagated across a network.
Choose a routing protocol for the four different network scenarios presented below.
It has a fixed Internet connection with a default gateway provided by an ISP.
Two of  the routers are Cisco and one is a Juniper.
Most of  the routers are Cisco, but there are a number of  Extreme Network routers.
It has a fixed Internet connection with a default gateway provided by an ISP.
It has a fixed Internet connection with a default gateway provided by an ISP.
Based on the information below, choose a routing protocol and write down your reason for choosing one over the others.
It has a fixed Internet connection with a default gateway provided by an ISP.
Two of  the routers are Cisco and one is a Juniper.
Most of  the routers are Cisco, but there are a number of  Extreme Network routers.
It has a fixed Internet connection with a default gateway provided by an ISP.
It has a fixed Internet connection with a default gateway provided by an ISP.
Since there aren’t many changes and there are only 3 routers, it makes sense to just setup some static routes on each router.
With a larger network, we need a better protocol than RIP, mostly because of the convergence problems RIP has.
So OSPF is a good choice since not all the routers are Ciscos.
Again, RIP is not the best choice for a network of this size and complexity.
Since all the equipment is Cisco, you can implement EIGRP.
We could probably use any of the routing protocols for this scenario.
Some of  the bases are more then 15 hops away from us, and that does not work with RIP.
Jim: OSPF is an open standard for routing, and most routers support it.
The fact that it only runs on Cisco hardware is probably the big downside.
Frank: Well Cisco got the moonbase equipment contract, so all the routers are Ciscos.
Joe: Are there network techs up here that have experience with one or the other?
Jim: I know a couple of  techs at the other bases have experience with EIGRP.
It sounds like we have people that can help get it going, and it is a straightforward setup.
Neighbors A router running the EIGRP protocol knows its neighboring routers and shares routes with them.
Neighbors can be statically entered (a good security measure), or a router can discover its neighbors with EIGRP HELLO packets.
When our router, running EIGRP, starts up, if  it does not have static neighbors, it will send a multicast HELLO packets out on all its connected interfaces.
When a neighboring connected router receives a HELLO packet, if  the ASN and subnet from the sending router match, it will return a reply packet containing all the routes it knows.
Our router will return a short ACK packet to let the neighbor know it received the routes.
In order for routers to be neighbors, they must share a common IP subnet and a Autonomous System Number (ASN)
So what makes EIGRP so great? Let’s take a look.
A router loop is where packets would just go from one router to the next and never get anywhere.
A network is said to “converge” when all the routers have the correct routing information for the network.
You enter the config mode, then enter the router EIGRP configuration.
When you add some networks in here, the router turns on EIGRP.
You will need to add the neighbor routers that this router will exchange EIGRP route information with.
Remember to save your changes with the write memory command when you exit the command mode.
Q: How does a router know when a route goes down with EIGRP?
When a router detects that one of its interfaces goes down, like a broken cable or a router dies, it sends out an EIGRP update with that route being down.
That way all the routers get the message and adjust their route tables.
Q: OK, the big question is, what do I do if not all my routers are Ciscos?
A: If you don’t want to run RIP (who could blame you), then OSPF is your choice.
It has very similar performance to EIGRP, but it is conceptually very different.
A: Because it is Cisco’s proprietary routing protocol, and they have not licensed it to anyone else that we know of.
My RFC was written in 1988, but I was in development a lot earlier than that.
I mean I just need to know the network address and the router’s IP address, and I can get down to business.
Yes, like every 30 seconds I send out my entire route table, keeping everyone on the network up-to-date.
I mean, I don’t deal with that many other routers.
WOW! You can deal with some really big networks then.
Ah, well I just think it is easier to let the other routers know when one of  my routes changes.
Yes, I have heard you have a 15 hop count limit.
And because I just send out changes to routes, the network converges really fast.
Not really, you just have to know what you are doing when you set me up.
Based on this network diagram of router connections, finish the EIGRP configuration.
Because of security concerns, we want to statically enter this router’s neighbors.
Based on this network diagram of router connections, finish the EIGRP configuration.
Because of security concerns, we want to statically enter this router’s neighbors.
We have lift off! Thanks to your efforts, all of  the moon bases are now able to communicate with each other through their individual network devices.
The Head First Health Club prides itself  on its ability to find the perfect class for everyone.
Whether you want to learn how to swim, practice martial arts, or get your body into shape, it has just the right class.
In a bid to attract more customers, the CEO has decided that the Head First Health Club needs to have a website.
We’ll be able to advertize all our classes and services.
The CEO already has web page developers handling the actual web pages that need to go on the site, and web servers for the site itself.
What you need to do is get a domain for the website.
Even if  you’ve never heard of  a domain name, you’ve seen and used a zillion of  them; you know...
So what’s a domain name? Well, it’s really just a unique name that’s used to locate your site.
There are different ones for different purposes: .com, .org, .gov; and also for different countries: .co.uk, .co.jp, and so on.
You need to pick the one that best fits you.
The main reason why you should care about domain names is that it gives you a unique, specific, and memorable name for your site.
Domain names are controlled be a centralized authority (called ICANN) to make sure that only one person at a time uses a domain name.
Also, you pay a small annual registration fee to keep your domain name (you knew it was coming)
So how do we get a domain name? The easy answer is to go to a domain registrar and step through the process of  searching for an unused domain name that you would like to register.
Some offer great tools to manage your domain names and extra tools for web pages, email, and other servers.
You really need to shop around and find the best deal and service for what you need.
Here’s a list of  some of  the top domain registrars you might want to try out.
These are taken from a list of the top domain registrars in 2008, but there are plenty of others to choose from.
Before too long, you’ve bought up the domain and linked it to the Health Club web server.
When the web page developers have deployed the web pages onto it, you’re good to go.
Q: Why is it called a “domain name” rather than a “website name”?
So the domain name is something you can use for a lot of websites.
With regards to DNS, it is the name of a specific web server.
A given web server can host lots of different websites, and it uses the domain name to decide which website to serve out.
Q: What if I don’t have my own web servers? A: In that case, you can use those of a hosting company.
They often have package deals for hosting web pages, registering domain names, and so on.
Your best bet is to figure out what you need, and then shop around for the best deal.
A: If that meets your needs, there’s nothing wrong with using their name, But (and it’s a big but) here’s the disadvantage: should you ever want to choose another hosting company, or should that hosting company go out of business, then everyone who knows your site will no longer be able to easily find it.
If, on the other hand, you have a domain name, you can just take that with you to your new hosting company.
We’re assuming that a separate group of web page developers are doing the web page development and deploying it to the server.
If, on the other hand,  you’re interested in learning more about how web pages are developed, Head First HTML with CSS & XHTML is a great starting point.
The bright and shiny Head First Health Club website with its very own domain name.
This looks great! This is bound to bring in more customers.
Uh-oh! We’re in trouble Everything seemed to be going well, but before too long, a customer reported a problem.
Hey, what’s going on? I keep trying to enroll in classes, but I keep getting this error message.
And she’s not the only one Before too long, the Head First Health Club is getting lots of complaints of  intermittant problems and timeout issues.
So what could the problem be? And what can we do to fix it?
Frank: No, I saw what the developers have done; it looks great.
Jim: Well I can’t seem to get to it, and we have had some customer complaints as well.
Frank: I am trying to pull it up right now on my browser, and I am just getting an error.
Frank: Sounds like our domain is not available, or at least that server’s domain name is not available.
Joe: Did our domain registrar update the DNS records for the new web server?
It translates fully qualified domain names that are meaningful to humans into IP addresses that computers understand.
It’s a bit like an address book for the Internet that tells clients where to access resources.
The DNS relies on name servers The translation between domain name and IP address is made possible because of  a hierarchy of  name servers.
By a name server, we mean a server that can give an answer to a DNS query.
How the DNS sees your domain You can think of  the DNS as being like an upside down tree.
The name servers are like the branches, and the leaves are like the domains.
To get to a particular domain or leaf, we trace our way through the relevant name servers (branches) to get to where we want to be.
The DNS root servers look at what the top level domain (tld) name is to see where the address can be looked up from.
In our case it’s .com, so the DNS root servers direct us to the more specialized .com servers.
The .com top level domain (tld) servers know all about the .com domains.
The hfhealthclub.com name server knows about all the hosts and sub-domains of  hfhealthclub.com.
Each tld, like .com or .edu, has its own set of name servers.
So how does the client use this to get to the domain?
Your job is to use the magnets below to say what the top level domain name, domain name, and host name is for each one.
Your job is to use the magnets below to say what the top level domain name, domain name, and host name is for each one.
What name server is in charge of the .com TLD?
What name server is in charge of the hfhealthclub.com domain?
The name server in charge of .com is ns.example.com at 192.20.66.42
I wonder if people get errors because of the name servers? They were getting server timeout errors, and if the hfhealthclub.com name server is down, that might explain it.
When a client tries to browse to a particular domain, it needs to know which IP address the domain name represents.
This means that anyone trying to reach the website will get errors.
So far we’ve seen how the DNS relies on name servers, and how the name servers resolve IP addresses.
But why might this be causing a problem for the Health Club? Why are the customers getting server timeout errors?
Write down some more pros and cons of running your own name servers.
So we’re doomed, right? We don’t own those name servers, so there’s nothing we can do.
At the moment the Health Club is using the domain registrar’s name servers, but there’s an alternative.
Instead of  using the name servers of  the domain registrar, we can take control and setup our own instead.
There are pros and cons to this approach, but if  the current name servers are causing a problem for the Health Club, it might be the way to go.
So how do we set up our own name server?
You have to perform sys admin duties not only on the DNS service but on the host operating system as well.
You have to purchase hardware and possibly licensing for the server OS.
When you want to make a change in your DNS, there is no waiting around for it to take effect.
You can gain a really thorough understanding of how your DNS service is working.
A DNS name server is basically just an application that runs on an operating server.
For some of  these, you purchase subscriptions to keep the server up-to-date.
The most commonly used DNS server on the Internet is BIND.
Installing BIND is relatively simple, but there’s something else we need to do too.
We need to configure the name server so that it can translate fully qualified domain names into IP addresses.
Write down some more pros and cons of running your own name servers.
This will return the records for the O’Reilly web servers.
Since name servers are public, we can take a look at other name servers to see how they are configured using a command called dig.
Go through the following steps to bring up details of the O’Reilly web servers.
On a Windows system you need to dow nload dig.
Since name servers are public, we can take a look at other name servers to see how they are configured using a command called dig.
Go through the following steps to bring up details of the O’Reilly web servers.
This will return the records for the O’Reilly web servers.
Who am I? A bunch of BIND configuration file acronyms are playing the party game “Who am I?” They give you a clue, and you try to guess who they are, based on what they say.
If they happen to say something that could be true for more than one guy, then write down all for whom that sentence applies.
Fill in the blanks next to the sentence with the names of one or more attendees.
I mark off the start of a zone of authority.
Who am I?A bunch of BIND configuration file acronyms are playing the party game “Who am I?” They give you a clue, and you try to guess who they are, based on what they say.
If they happen to say something that could be true for more than one guy, then write down all for whom that sentence applies.
Fill in the blanks next to the sentence with the names of one or more attendees.
I mark off the start of a zone of authority.
Pool Puzzle Your job is to take Bind elements from.
You may not use the same Bind element more than once, and you won’t need to use all the Bind elements.
Note: each thing from the pool can only be used once!
Hint: You’ll need to use some of the BIND configuration file acronyms from the previous exercise.
You may not use the same Bind element more than once, and you won’t need to use all the Bind elements.
Note: each thing from the pool can only be used once!
Head First: Excuse me? I was just saying good morning and asking how you are doing.
Head First: So what is it like being a DNS nameserver? Busy all the time?
Could you speak a little more to what kind of  things you do?
Other computers send me a FQDN for the domain that I am responsible for, and I return an IP address.
The NS type is when they are looking for my or my partner’s IP addresses.
The MX type is for email servers for our domain.
When I get a request of  that type, I return the IP address of  the email server responsible for our domain.
Head First: Are there other types of  DNS records that you deal with?
The computers making these requests give me an IP address, and I return a FQDN to them.
Head First: Why would a computer want to do that?
A reverse lookup enables someone to verify that you are who you say you are.
Head First: Are there other things that you do besides this?
Head First: I am sorry, that is not what I meant to say.
I was asking more about other things you do with regards to DNS.
I can load balance a web server by doing a round robin lookup.
How that works is that I have the IP addresses of  several web servers, and I rotate amongst them to distribute the workload.
Head First: Thank you for taking the time to answer my questions.
The anatomy of a DNS zone file So what’s really going on inside the Health Club DNS zone file? Let’s take a close look at the file:
Start of Authority - SOA this says that dns1 is a primary name server of the hfhealthclub.com domain.
This information lets other name servers know when this file has changed and how long to cache the info.
The best way to interpret this is to start reading from the bottom of  the DNS zone file upwards.
The last set of  lines in the file tell us that there are five servers that the name server knows about.
Finally, the top of  the file tells us that the primary name server for domain hfhealthclub.com is dns1
Here’s what the DNS zone file tells us about the Health Club servers So how do we visualize this? Here are the servers described in the zone file.
This has a host name of  mail within the domain hfhealthclub.com.
Other Servers There are two other servers mentioned in the DNS zone file.
Test Drive The DNS zone file has been configured as a name server for the Health Club, and the domain registrar notified.
In the future, all DNS queries relating to hfhealthclub.com will come via the Health Club name server.
So what effect has adding our own name server had on the Health Club website?
Before too long, business is booming, and more and more customers are signing up for classes.
It looks like adding the name server has solved the problem.
Ever since the name server was swapped over, the Health Club has been unable to send emails to their customers, even though they’re still able to receive them.
This means that they can’t send email confirmations to their customers about classes they’re interested in, and that’s bad for business.
The Health Club can’t send emails When the DNS server was up and running, everything was great...
The DNS server we’ve set up allows people to find our IP addresses from fully qualified domain names like this:
The trouble is, the DNS server doesn't allow us to do a Reverse DNS lookup.
Reverse DNS lookup allows us to find a fully qualified domain name from an IP address like this:
Reverse DNS (RDNS) let's you find a domain for an IP address.
So why is this a problem? Why didn’t the recipient’s email system simply pass on the email?
Email servers use RDNS to fight SPAM SPAM email is a huge problem on the Internet, and email servers have to do a lot of  work to protect themselves from being submerged under a pile of  junk mail.
One common trick that they use is to check the domain name of  the email server that sent them the email.
Well, the main reason is they need to be sure that the email comes from a reliable source.
A spammer might decide to set up an email server on their PC at home.
They could then make a connection to the Internet and flood the world with millions and millions of  pieces of  junk email.
So how does a reverse DNS lookup prevent this from happening?
Check your sources with reverse DNS To prevent that from happening, email servers look at the IP address of the server that sent the message and do a Reverse DNS lookup to see which domain the message came from.
If  the email message comes from a domain that’s on a blocked list, then the email will be rejected.
But it will also be rejected if  the sending server's reverse DNS lookup IP address does not match its real IP address.
Spammers try to do this by using a fake domain name.
In this way Reverse DNS is used to challenge the sending server.
What command will let us lookup a domain from an IP address?
The dig command can do a reverse DNS lookup We've already used a command that can perform a Reverse DNS lookup—the dig command.
The name dig stands for Domain Information Groper, and it’s your window to the DNS system.
It lets you interrogate DNS servers by asking just about any question.
You already know that you can find an IP address from a domain name by using the dig command:
You can use the dig to go the other way too:
So what happens if we try to do a Reverse DNS lookup on our new server?
This is the IP address from the DNS server There are two IP addresses because they are using two web servers for this domain.
Q: Why didn’t the dig command return the domain that the ping command asked about?
A: Sometimes DNS servers associate several domain names with a particular IP address.
That allows large companies like Google to give hundreds and thousands of servers the same IP.
Q: Why would they want to do that? A: Scalability.
They can spread millions of requests across thousands of servers.
Test Drive So are we able to do a reverse DNS? Let’s try it and find out.
This is where all the PTR or pointer records go.
Your name server uses this file to do DNS lookups using an IP address to return a FQDN.
So in order to do reverse DNS lookups, we need to make changes to this file.
This line will allow our name server to answer reverse.
This server knows to ask the inaddr.arpa name server for the answer.
Your job is to play the domain system and fill in what happens in each step of the process of a reverse DNS lookup.
What name server is in charge of the in-addr.arpa domain?
The name server in charge of in-addr.arpa is at 198.41.0.4
This server knows to ask the inaddr.arpa name server for the answer.
What’s up with the backwards IP addresses? They are backwards, right?
Backward IP addresses allow the name servers to work from the top down.
They start with the root DNS servers (the in-addr.arpa part) and work their way down the IP network address until they find the name server responsible for that particular IP network.
Why wouldn’t an IP address in the normal order work for reverse DNS lookups?
Test Drive Let’s try doing a reverse DNS lookup again using dig.
The Reverse DNS is working! That means your server now works both ways—it’s made the link from the FQDN to the IP address:
And by using Reverse DNS, it’s also made the link from the IP address to the FQDN:
This is great! Thanks to you, business is booming! I think we’ll even need to expand to cope with demand.
The emails are working! Following your change, the Health Club can successfully send emails to their customers, which means that they can send email confirmations telling customers which courses they are enrolled in.
Before too long, all of  their classes are filled to capacity.
If it’s not, one day it will just stop working, and you will have no idea why.
You will discover in this chapter various tools and techniques to help you listen to your.
Pajama Death are back on tour Punk band Pajama Death have a large and dedicated fan base, and they’ve just announced their latest world tour.
Tickets go on sale in just two hours, and fans are already lining up to buy prized tickets.
The ticket agency expects it to be a sell-out, but there’s just one problem: can their network cope with the strain?
Guys, the network’s up and down like a freaking yo-yo.
If you don’t get it sorted by the time the Pajama Death tickets go on sale, I’ll come around your houses and stomp on all your toys.
The ticket agency needs to be up and running in two hours time, which means that you need to troubleshoot the immediate problems.
What’s more, you need to make sure that the network remains stable.
You need to deal with network problems before they become bigger problems.
So where would you start troubleshooting a misfiring network? Since you have made it this far in this book, you know there are many things that can go wrong on a network.
Anything from bad or disconnected cables, switch and router issues, and even individual computer issues.
If  you just start running around with your network analyzer, plugging and unplugging connections, you will find troubleshooting a very exhausting and frustrating endeavor.
Getting information from your network is the key to successful troubleshooting.
In the space below, write down a few things you would check in your network troubleshooting process.
In the space below, write down a few things you would check in your network troubleshooting process.
Check for loose or disconnected cables on the computer with the problems.
Is the problem just one person, one area, or the entire network? Check the router and switches to make sure they are on and running properly.
See if you can ping various devices and clients on the network.
Start troubleshooting your network problems by checking in with your network devices You want to start troubleshooting network problems by gathering information from your devices.
Start off by pinging the IP addresses of the computer’s default gateway.
If  you can do this without the ping timing out, then you know that the network is working minimally.
Connect a computer to the router with a serial cable or via SSH or telnet.
That way, you do not have to run all over the place with a cable.
Use the appropriate commands (like show) to look at a device’s status and counters.
Routers and switches can collect lots of  information that is very valuable in troubleshooting your network.
It shows you various counters and status information on your devices.
Interpret the statistics to gain some insight on how your network is behaving.
This is the hardest part, how to interpret that data.
You will want to start looking at the obvious things, like interfaces being down or ports with excessive errors.
After that, you have to become more of  a detective and look at traffic volume.
Often you will have to look at information from multiple devices in order to form an opinion.
Troubleshoot network connectivity with the ping command The ping command is the best tool to get a quick read on the overall status of  your network and individual devices on your network.
It can tell you whether or not your network is functioning, or whether a particular device is on the network.
If you can ping, you get timings Here’s what the output of  a successful ping looks like.
It tells you how long it takes your device to respond to the ping.
Comparing these times with what you’d expect to get can give you some useful diagnostics.
But what if you can’t ping? If  a ping command fails, this means that you can’t get to the device at the specified IP address.
If  you just can’t ping one device, that really narrows down what you have to look at.
The ping command can be used to ping anything with an IP address, including other computers.
Yikes! If you get this sort of message, you need to do more investigating.
The time here is how long it takes your ping to get to the device.
If the ping fails, check the cables So what do you do if  you can’t ping anything?
The first thing to do is check your computer’s network cables and network configuration.
If  your computer’s stuff  checks out and the ping command on the other computer fails as well, then you need to physically go to the network devices.
So what sorts of  things do you need to look out for?
These are all real things that happen to your network, so look out for them.
Did a circuit breaker blow? Did the janitor pull the plug?
What other tools on a computer could you use to help troubleshoot network problems (especially if the computer is connected to the network and still not working)?
Look at the ping output below and circle the devices that are causing problems on the network.
Look at the ping output below and circle the devices that are causing problems on the network.
We don’t know if this host is down or not because the switch in-between us and that host is down.
Q: What kind of information can a switch give me?
A:It can give you the number of frames going in and out of particular ports.
It can tell you if a port has an active client or not.
Q: How about a router? A: A router is a whole other animal when it comes to information.
Even a mid-range router will give you an incredible amount of information.
This includes packet counts, error rates, and interface status, just like a switch.
But it can also give you the status of routing and even the status of other routers.
Some of it is easily accessible from the command line or from logs that the OS keeps.
Q: Is the ping command available on all computer operating systems?
A: The ping command is available on just about every computer and router operating system out there.
Q: Is there any time the ping command will not work?
A: Yes, a router can be configured to block the ICMP packets.
If a router is blocking these, you will not see anything until the command times out, then you will get an error.
Q: Can a computer block a ping? A: Yes, pings can be blocked by computers as well.
The firewall can be configured to just ignore ping requests and drop them without responding.
A: One of the techniques that hackers use is that of scanning a network for hosts.
One of the tools they use is the ping command or software that acts like a ping command.
If your computer or router responds to a ping, then the hacker knows that there is a device at a particular IP address and can start figuring out a way to get into the system.
But what if we need more information than ping can give us? What then?
Sometimes ping just doesn’t give you enough information to work with.
The ping command is very effective in helping you with connectivity issues.
But when it comes to network issues such as slowdowns or sporadic connectivity, ping does not help much.
We need to pull out the big guns and talk to the switches and routers themselves.
Get started with the show interface command The show interface command is the best command to get started with.
It will give you the most concentrated information on the status of  your device’s network connection.
It works on most network devices, including switches and routers.
The interface’s network statistics are a gold mine of troubleshooting information You can tell how busy the network connected to a particular interface is by looking at the number of  packets being input and output from that interface.
After looking at this a couple of  times, you will be able to judge whether the number is of  the correct magnitude.
Some errors are normal, but high error counts should lead you to investigate the portion of your network connected to that particular interface.
HeadFirst: It is great to get a chance to talk with you.
Show Command: What specific part of  today are you asking about? I can tell you about many aspects of  my day.
HeadFirst: OK, I was just trying to make some small talk.
But to get started, what can you tell me about the network device you are running on?
Show Command: You need to be a little more specific than that.
I can tell you things about the interfaces, the system itself, the software version, the IP statistics, the TCP statistics, the IP routing statistics, the processor’s information and statistics, the SNMP statistics, the startup and running configurations, the...
What would you recommend if  I wanted to know how the devices’ interfaces are doing?
Show Command: That would be “show interfaces.” With that command I will show you whether the interface is connected to another device, whether it is configured or not, the interface’s IP address and subnet, and network statistics about the interface.
Show Command: If  you just ask me to show interfaces, I will give all that information I just mentioned all the interfaces that are on the deviceeven if  they are not configured.
HeadFirst: Great, is there anything else that you can tell me that might help troubleshoot network problems?
Show Command: I can tell you about IP statistics with the show ip traffic command.
I’ll give you all sorts of  information about the various IP protocols the device is running, including traffic amounts and various errors.
HeadFirst: Now I noticed that you like to have commands issued in a very certain way.
Show Command: Sure, obviously you have to type “show” then follow it with what you are interested in.
But, you can get more specific information by adding modifiers after that initial command.
Show Command: OK, say you want to see the the EIGRP routes in the device route table.
You would type “show ip route eigrp.” Then I would display all the EIGRP routes that are in the table.
HeadFirst: That’s cool! So what if  I don’t know what command to type?
Then if  you find a particular command, then you can type “show ip,” and I will display the commands available under the ip command.
You build a show command by walking down a tree until you get to the information you need.
You build a show command by walking down a tree until you get to the information you need.
The ticket network’s still not fixed Time’s ticking on, and the ticket agency network still has problems.
This is really serious! We can’t get to all of the network devices with SSH or telnet.
That means I have to run round hooking my laptop up to each one of them to find out what’s wrong.
It’s taking me forever, and the Pajama Death tickets go on sale soon.
How can we quickly troubleshoot networks without SSH or telnet? The trouble with SSH and telnet is that they’re not always available.
While we could visit each network device and connect a laptop to it to get diagnostics, this approach is time-consuming and inefficient.
So is there a better way of troubleshooting the network?
You can use a software program to automatically question any or all your network devices every so often.
This allows you to check on their health and their workloads.
The protocol uses simple commands to access a database of  information on the target device.
The object identifier of information stored in the MIB is called the OID.
The information database of an SNMP managed device is called the MIB (Management Information Base)
The central server collects all the information in one place.
It uses a simple set of  commands to retrieve and set information.
There are standardized sets of  MIBs that are available to network equipment manufacturers to implement in their devices.
As long as a manufacturer has implemented the MIB properly, there usually isn’t a problem retrieving information via SNMP.
Then in order to read this information, a network administrator has to include the modified SNMP template on the SNMP requester so it knows the correct OID to ask for from the SNMP agent.
So what prevents just anybody from getting to that information? It is secure, right?
When you setup SNMP on a network device, you can create a group name that can have read-only access and a group name that can have read-write access.
The problem is that the group name is the password.
That’s not a very good scheme, so that’s why SNMP version 3 has an authentication system built into it.
Most devices default with public being the group to have read-only access.
How to configure SNMP on a Cisco device Let’s take a look at how to get a basic setup of  SNMP on a Cisco device.
You’ll need to type these commands at the device command line in config mode.
A basic setup of SNMP is all you need to access lots of handy information.
The first snmp-server command you enter, regardless of  the command, will enable the SNMP service on the device.
Retrieves information from the SNMP managed device that is the value of  the next OID in the tree.
Allows the SNMP agent to change a value on the managed device.
A command the managed device sends to the agent with some information.
Retrieves information from the SNMP managed device that is the value of  the next OID in the tree.
Allows the SNMP agent to change a value on the managed device.
A command the managed device sends to the agent with some information.
Q: Can I tell a device what type of information I want to receive from it via SNMP?
A: No, the MIB is essentially coded and, in some cases, in the hardware.
So you really can’t have a device collect different information from what the manufacturer decided to put into the MIB.
Q: Why do the OIDs have such odd and complex names? A: The first thing that makes them complex is that no spaces are allowed in an OID.
Second, there are so many types of information that people want to collect; that leads to some pretty complex names.
Q: Is a OID the whole name of the information I want to get? A: No, the entire name is from the top of the tree down.
Q: How do I find anything? These numbers don’t tell me what I am looking at.
Like we said, many of these OIDs and MIBs are standard.
So you can look up the standards, RFC1213, and it will tell you all the OIDs that this MIB has.
Q: Is there software to help me manage SNMP? A: There is open source software like Nagios and MRTG available to help monitor your network.
Some of these have great network maps with traffic flows and colored network devices.
The big network monitoring centers of ISPs use software like this to keep tabs on their networks via SNMP.
Q: What’s a Trap? A: A Trap is a message that a SNMP end device sends to the SNMP manager.
It is just a message sent because the Agent has trapped an event and is configured to send that trapped event message to the SNMP manager.
Circle the OIDs from the MIB tree below that could help you to troubleshoot a network problem?
Circle the OIDs from the MIB tree below that could help you to troubleshoot a network problem?
Number of bytes of network traffic coming into an interface.
Number of bytes of network traffic out of an interface.
There’s one hour to go before the Pajama Death tickets go on sale.
Are we back to connecting to each device? There’s not much time left, and the boss knows where I live...
A lot of  the time, network devices send errors to a console or to a log, and these errors are often not accessible via SNMP.
So how can we gain access to this logged information?
Get devices to send you their problems There is a tool that devices can use to send their errors to a central server called a syslogd.
The d stands for daemon, which is a little service program running on a server.
Instead of  a network device sending error messages to a console screen, it can send them to the syslogd server.
This means that instead of  checking the local log files on each individual device, we can just check the syslogd server.
All these different devices on the network are configured to send logg.
A syslogd daemon allows you to have all sorts of network devices send information to that server.
That information normally would have being written to a local log file on that device.
How to configure syslogd on a Cisco device Let’s take a look at how to set up syslogd on a Cisco device.
You’ll need to type these commands at the device command line in config mode.
Set up the router to send logging to the syslogd server.
To replace the logging IP address with your syslogd server’s IP address, type:
To set the router to send log messages that are just warnings, or worse, to the syslogd server, type:
Only use the debug level when you need to debug.
So now that syslogd has been configured, how do we access the logs?
Some event logged by router sent to syslogd server The server is running a script.
How do you tell what’s in the logs? One of  the great things about syslogd is that you can get applications that watch the logs.
Whenever an interesting logged event is received, it can fire off  a message to the network admin.
This means that you can effectively deal with problems before they happen—making your network much more stable as a result.
As an example, if  a router tells you that its power supply voltage is fluctuating, you can replace it before it becomes a huge problem.
You can usually choose which messages are sent to the network admin via which devices.
Errors like this need to be investigated, but they are not emergencies.
I can’t believe how many messages I am getting about network events.
Too much information can be just as bad as not enough Getting just the right information sent to you is the real challenge when it comes to syslogd.
It takes some tuning to get just the right information flowing.
So when you set up the different message systems, don’t just turn it all on; think it through carefully.
What you need is relevant information The thing that’s most important is that you get information that lets you know when there are real problems.
And remember that low priority events can be emailed to you, rather than sent as a high priority text message to your cellphone or pager.
How do you know which events are important? If  your network devices are getting lots of  network type errors, i.e., tcp or frame errors, something is going wrong on your network.
Other important errors include interfaces going down, routes flapping (going up and down), and hardware health issues such as power supply voltages, temperatures, and memory.
Once you know what events are normal on your network, you’ll be able to fine-tune the messages you receive so that only things that aren’t normal are messaged to you.
Pajama Death’s a sell-out! Thanks to your network troubleshooting, the Pajama Death tickets went on sale without a hitch.
Ticket sales were so successful that the entire tour sold out in record time, and the syslogd messages helped the network guys react to high priority events before they became problems.
The CEO of  the ticket agency is so impressed with the help you’ve given them that he’s given you front row tickets to opening night.
First you need to consider the physical location, because radio waves can.
Second, we introduce some more network acronyms, NAT and DHCP.
I wish I could hook up to the Internet without connecting these wires all the time...
People will come in to surf the Internet, and they’ll order more coffee while they’re here.
But I don’t want any ugly cables about the place.
Your new gig at Starbuzz Coffee Starbuzz Coffee has made a name for itself  as the fastest growing coffee shop around.
If  you’ve seen one on your local corner, look across the street; you’ll see another one.
The Starbuzz CEO has a great idea for enticing new customers into his coffee shops.
He’ll offer free in-store Internet access to all Starbuzz customers.
Starbuzz Coffee needs a wireless hotspot What the CEO needs is an open wireless access point that his customers can use to access the Internet.
His customers will be able to bring their laptops along to his coffee shops and get an automatic connection to the Internet.
What’s more, the back office staff will be able to access it too.
So how do we set up a wireless access point?
Wireless access points create networks using radio waves Let’s start by looking at how wireless access points work.
When you use a wireless access point to create a network, computers are connected through radio waves instead of  Ethernet cables.
The access point itself  has to have a wired network connection, but all other devices link into it wirelessly.
So if  you have a wireless network capable laptop, you’re free to roam, just as long as you’re in range.
A big caveat with wireless networks is that the radio waves can be blocked or interfered with and have limited range.
The wireless capable laptop can receive and transmit radio signals.
Let’s fit the wireless access point Physically fitting a wireless access point is actually pretty simple.
Once you have you have your wireless access point device, just take it out of  the box, put it somewhere nice and safe where the radio waves can’t get blocked, and hook it up to your network.
This particular access point can act like a network switch through these LAN ports.
If your access point has a WAN port and LAN ports, plug the network connection to the WAN port.
What sorts of things can you see that might get in the way of a wireless network? What other devices might interfere with it?
So where should we put the Starbuzz Coffee wireless access point?
Here’s a floor plan of one of the Starbuzz Coffee shops.
Where would you put the access point? Draw in where you think the best position for it is.
Here’s a floor plan of one of the Starbuzz Coffee shops.
Where would you put the access point? Draw in where you think the best position for it is.
An access point placed on a shelf will give all the customers access, plus the back office.
The only real challenge will be running the network cable to here from the switch.
This wall could cause some problems with the radio signals.
A: Yes, but most wireless cards and built-in wireless interfaces can access multiple types of access points.
Q: Why are there old access points that don’t support newer protocols around still?
A: Because someone invested money in them and does not want to spend the money to replace them.
Q: Can a single access point talk to different wireless clients with different standards?
Many access points can “speak” different wireless standards at the same time.
Many times you can turn this off because usage of older wireless standards can slow down the new standards.
Q: Can one brand of wireless card, say a Dell, connect to an access point of another company, like Apple?
A: Yes, as long as they are using the same wireless standard, they will communicate together fine.
Q: Are inexpensive access points just as good as the expensive ones?
If the features are the same, then you really have to look at the quality of the components.
Many of the more expensive access points have additional features such as printer and external hard drive support.
Q: Why would you connect a hard drive to an access point?
A: An access point with an external hard drive attached to it provides a Network Attached Storage unit.
Anyone with wireless access can store file on that hard drive.
Test Drive The wireless access point’s all hooked up, so let’s put it to the test.
Let’s try connecting a computer to it and see what happens.
In some older machines, this may have to be installed.
But most modern operating systems have wireless ready to go.
Essentially you should see a list of  access points; select yours from the list to attach to it.
Most of  the time it is a password that you have to enter when you attach to the access point.
At this point you should be able to access network resources such as the Internet via the access point.
Why doesn’t the wireless hotspot work? Based on the results, write down some things that you think may be going wrong.
There are green LEDs on the switch and the access point where the Ethernet cables is connected.
Why doesn’t the wireless hotspot work? Based on the results, write down some things that you think may be going wrong.
There are green LEDs on the switch and the access point where the Ethernet cables is connected.
Is the Ethernet cable plugged into the WAN port on the access point? Is the problem bigger? Can computers hooked to the switch by Ethernet get on the network? Is the access point configured with the correct IP address information? Is the access point configured to give out addresses correctly?
What about the network configuration? When we set up a wireless access point, it’s not enough to just plug it in.
We need to say which computers can use the wireless access point.
You’re kidding me, right? You mean we have to tell the wireless access point which computers can use it? But that’s all the Starbuzz customers! Why can’t they just show up and use it?
The last thing you want to have to do is manually setup an IP address for every Starbuzz customer that walks into the shop.
Fortunately, there’s a way round this, and it’s called DHCP.
It’s a way of automatically allowing devices onto your network with no manual intervention on your part.
To do this, it needs an IP address network interface configured to use DHCP.
The DHCP server in the wireless access point responds to the client broadcast by offering the client an IP address.
The IP address is within a pre-defined range that the DHCP server has configured in its pool of available addresses.
Hey, are there any DHCP servers listening out there? Helloooooo!
I’m over here! Would you like to use this IP address?
The client broadcasts a DHCP request message, accepting the offer of the DHCP server.
The DHCP server sends a DHCPACK packet to the client.
The packet gives the client the length of  time it can hold and address (lease duration), and any other configuration details that are needed.
In that case, it’s yours for the next half hour.
This sounds like just the sort of thing that Starbuzz Coffee needs, as it means clients will be able to come into the store, open up their laptops, and start surfing.
A wireless access point may come with the DHCP service turned on by default.
The first thing we need to do is turn on the DHCP service on the wireless access point.
This tells the wireless access point that you want it to be a DHCP server.
The wireless access point may come with DHCP switched on by default, but in case it doesn’t, here are the settings you need to change.
Q: What happens if there is more than 1 DHCP server on the network?
That broadcast contains the specific information from 1 DHCP server, so it is the only one that does anything with the request.
So the protocol is written with multple DHCP servers in mind.
Q:Does a Windows client have to use a Windows DHCP server?
As long as the DHCP server meets the protocol standards, it will work fine with a Windows, Mac or Linux client, or even some other device looking for an IP address with DHCP.
Q: Can I control which machines get which IP addresses?
A: Yes, you can put into a special table the MAC addresses of those machines and what IP addresses they should be issued.
Q: What happens when a DHCP host runs out of IP addresses?
It just stops responding to any discovery broadcasts until some addresses free up.
Q: Can the IP addresses my DHCP host gives out be public IP addresses?
Just make sure that no other machine is using them and that they are routable.
Q: How long do clients get to keep an IP address?
You also configure information such as the gateway and DNS name server addresses, and how long the client can keep hold of  the IP address for.
You need to setup a pool of IP addresses that the DHCP server can give out.
This is how long a client can keep an IP address before it has to request a new one.
Head First: Hold on a second! What is all this?
It seems just as I give a client an IP address, they are back for another one.
Head First Server: Wow, it sounds like your lease time is set too low.
Head First: Let’s hope she checks the logs once in a while.
So do you ever deny a request for an IP address?
The admin has a pretty good number of  IP addresses in the pool.
Head First: Do the clients get mad when they get denied?
I keep my mouth shut until I have some addresses available.
Head First: That sounds like a smart thing to do.
Well thank you for the interview, and we hope you get some time off  soon.
So has setting up DHCP solved the problem? The connection works! Before too long, the wireless access point is live, and people start flocking in even greater numbers to the Starbuzz Coffee shops.
This time it’s personal Things were going fine until one particularly busy day in the coffee shop...
Where’s my internet connection, baby? I came in here to surf MeBay, and can I get there? No! Everyone else seems OK, so what’s going on? Why are you doing this to me?
Uh-oh! Everyone who came into the coffee shop before this guy is happily surfing the Internet.
The trouble is, everyone who came in afterwards can’t get a connection.
Why do you think the wireless access point won’t let any new clients connect to the Internet?
We’ve run out of IP addresses Can you remember when we set DHCP up on the wireless access point? We configured a range of  IP addresses that the DHCP server could allocate to clients.
But what happens when we have more clients than available IP addresses? The DHCP server can only give out a limited range of  IP addresses, and when it runs out, that’s it.
We can get around the IP address problem by implementing NAT.
With NAT enabled, we can use just about any IP address we want, and however many we need to.
The client sends a packet to the wireless access point.
In this case, it uses 192.168.1.1 for the source IP address on the packets.
The access point sends the packet on to the web server.
But it changes the destination IP address of  the packets back to the private 192.168.1.1 by checking its translation table.
So how do we configure NAT? Let’s set up NAT on the Starbuzz wireless access point.
Wireless access points sometimes come with NAT switched on by default, but in case yours doesn’t, here’s the setting you need to change:
Each brand of access point has its own interface for doing this.
The concepts are the same, but the interface may look different.
Configuring NAT on most access points consists of turning it on, and that’s about it.
Using the NAT Table below, fill in the inside client IP address on the bottom table.
This is how a NAT device gets packets back to the original device hidden behind the NAT server.
Using the NAT Table below, fill in the inside client IP address on the bottom table.
This is how a NAT device gets packets back to the original device hidden behind the NAT server.
Q: Do the IP addresses behind the NAT have to be private IP addresses?
Q: Do I have to set up the NAT table? A: No, the device doing NAT uses this table for each and every packet that is going in and out of the device.
Q: Does NAT have to use the public address of the access point?
You can create a pool of public addresses that can be used to send outside traffic.
Q: What happens if I need multiple web servers behind the NAT to be publicly accessible?
A: That is where the pool of public addresses comes in.
On a device that can do advance NAT, you port map that public IP address and port 80 to the second NAT’d web server.
There are some protocols that put IP addresses in other places inside a packet.
A NAT device will not change these other IP addresses.
This will cause connection problems for these protocols through a NAT device.
So has this fixed the problem? After implementing NAT on the Starbuzz wireless access point, all of  the customers are able to surf  the Internet while inside the coffee shop, even on the busiest of  days.
Why can’t my laptop get to the Internet? I know my laptop’s old, but it’s still wireless capable.
I can surf the Internet through any wireless hotspot except this one.
I’m going to tell all my friends not to come here.
There’s more than one wireless protocol The problem this time comes down to the age of  the laptop and the available wireless protocols.
The big differences between the older versions and newer ones is speed, bandwidth, and range.
And if  you’re using an old laptop, you might not have the wireless protocol that the access point requires.
You can check out the various wireless standards at http://en.wikipedia.org/wiki/802.11
Most newer access point support multiple protocols Hardware engineers are a smart bunch.
They have built access points that support multiple wireless protocols; you just have to configure the access point to allow access via different protocols.
On most access points, it’s just a matter of  selecting the right mode in order to turn on other protocols.
Wireless Standards Magnets Drag the magnets onto the chart below where you think the wireless standards should go based on their performance.
Wireless Standards Magnets Solution Drag the magnets onto the chart below were you think the wireless standards should go based on their performance.
Test Drive So how are the Starbuzz customers getting on?
So is the Starbuzz wireless access point sorted? Well, nearly.
There’s just one more problem that needs to be figured out...
The central Starbuzz server needs to access the cash register So far, we’ve looked at implementing the wireless access point so that it’s set up for the Starbuzz customers.
There’s a central Starbuzz server that needs to access the coffee shop cash register so that it can keep track of  the daily profits.
Well, isn’t this what we’ve been doing anyway? If the.
Instead of  a device inside the coffee shop needing a connection to the outside, a server from outside the coffee shop needs to establish a connection to a device inside the network.
The outside Starbuzz server sends a request for the cash register to the DHCP server.
The DHCP server checks the address translation tables to see where to send the request.
But because the request wasn’t instigated from inside the network, it doesn’t know where to send the packets.
Hey, I’m after the cash register; can you pass this on?
The outside Starbuzz server sends a request for the cash register to the access point, specifying a particular port.
It sends its request to the public IP address of  the access point.
The access point sees that it forwards port 1032 packets to the inside cash register.
But it changes the packets’ destination IP address to the web server’s private IP address.
Port mapping to the rescue! The way around this problem is to use port mapping.
Port mapping means that we specify a port in the address translation table for a particular device, and any traffic that comes in on this port is forwarded to the corresponding device.
It’s essentially a very specialized form of  routing using TCP and UDP port numbers instead of  IP addresses to decide where to send packets.
But it changes the source IP address of  the packets back to the public IP address of  the access point.
So port mapping is a bit like NAT in reverse It’s a way of  making sure that devices outside of  the internal network can get to devices inside.
Let’s set up port mapping on the Starbuzz access point.
Use the port forwarding table and decide where the incoming traffic goes.
Write in the correct private IP address to send the traffic to.
OK, we tricked you, but the access point would probably just discard this packet since it has no ports mapped for this port.
You can control who can connect to your wireless access point two ways.
One is to enter the MAC addresses into a table on the wireless access point and only allow those computers that have their MAC addresses in the table to connect.
The second way is to use a password or some other form of  authentication.
Q: So using port mapping will secure my server from hackers, right?
If you allow access to a server via port mapping, it is no different than if the server was sitting beyond the NAT with a public IP address.
A: Yes, but firewalls use access control lists to decide who gets to talk to the server that is being NAT’d.
Q:Can I change the port that a server talks on?
So if you wanted to move a web server to port 1024, for example, that would be done on the configuration of the web server.
The only thing you would do on the NAT server is change the port number to the new one.
Q: What I meant was can the NAT server change the port number?
On some NAT servers, they can port map to a different port.
They can take traffic on port 80 and change it to a different port.
As long as there is a device behind NAT that will communicate on that port.
Q: Is port mapping limited to TCP, or does it work with other protocols, like UDP?
If the packets contain addressing information that the NAT server does not change, it will break that particular protocol.
A: Yes, it would be the public IP address of the NAT server that would be a FQDN.
The wireless access point is a success! Thanks to your skill in setting up the wireless access point, coffee sales within the coffee shop are soaring.
More and more people are using the facilities to browse the Internet, which means that extra coffee is being sold in the store.
Added to this, you’ve also given the central Starbuzz server access to the state-of-the-art wireless cash register.
This wireless access point is awesome! I’m going to get one for each of the Starbuzz coffee shops.
Come on now, Sweetie, open up the firewall and let the cereal packets in...
Attackers lurk around every corner: rootkits, and script kiddies, and bots...
Let’s keep our precious data in and the interlopers out.
The bad guys are everywhere You’ve put together crucial services like DNS, you’ve used troubleshooting to keep your network free of  bugs, and you’ve set up a wireless network.
The last thing you need now is someone infiltrating your network and messing up all the crucial data you have flying back and forth at top speeds.
As a network professional, you need to protect your networks from the bad guys and stop them from stealing information and launching deadly attacks on your servers.
I’m gonna bring this whole network to its knees and destroy the business to boot.
It is not unusual to have a new server attacked within minutes of being turned on.
Not only are they trying to burn your business, they can hurt some of  your good customers too.
If  the eavesdropper is successful, he’ll swipe your client’s credit card information and charge up a storm.
So how can we protect our networks against bad guys like these?
The big four in network security Network security helps you—the network professional—foil the bad guys.
A firewall is essential for keeping attackers out and crucial data in.
Your switches are vulnerable to MAC address spoofing and ARP poisoning.
All the cool technology stuff  you do to protect your network means nothing if  an attacker can get at your resources with.
A: We prefer the term “attacker” to “hacker.” The old school use of the term hacker refers to ingenious problem-solvers rather than the creeps and criminals who infiltrate networks.
Circle each of the devices that can be fooled by a spoofed MAC address.
Why does MAC address spoofing pose a threat to network security?
Circle each of the devices that can be fooled by a spoofed MAC address.
Defend your network against MAC address spoofing MAC address spoofing is what happens when an attacker changes their MAC address so that it matches another device on the network.
It allows an attacker to pretend that the hardware they’re using belongs to someone else—like the boss.
By spoofing a MAC address, an attacker can pose as an approved network device and fool other devices into thinking that it’s okay to send network traffic to, or receive traffic from, the spoofed device.
So if  the boss’s computer has been spoofed, this means that the attacker can con the switch into sending it information that only the boss should see.
The attacker changes their MAC address to match that of the boss and requests information across the network.
The hardware looks like it belongs to the boss, even though it doesn’t.
The switch sees that a device with the boss’s MAC address is requesting information and lets it through.
I’m the boss, and I need something really top secret and juicy.
The top secret document goes straight to the evil attacker.
So how can we harden a switch against this sort of attack?
On the next page, redesign the network so that its resources can be hardened against MAC address spoofing.
On the next page, redesign the network so that its resources can be hardened against MAC address spoofing.
Placing your servers (especially your authentication server) behind a router ensures that MAC address spoofing will not work on those servers.
A switch-hardening tip: On a smaller network like this one, you can set your arp tables to be static, which will prevent some MAC address spoofing.
When she sends the messages, she signs them with her secret nickname, “Kung-Fu Princess,” whereas RJ signs his with his secret nickname, “Kid Rye.”
The same day, the office busybody, Dwight, walks past RJ and asks him, “How’s the Kung-Fu Princess, Kid Rye?”
When RJ tells Talula the story, she thinks a while and says, “I think I know how he did it, but we’ll fix his wagon.”
So how do we defend against MAC address spoofing? Switches are susceptible to MAC address spoofing, while routers are unaffected because they deal with IP addresses.
Your key defense against MAC address spoofing is to place your servers (especially your authentication server) behind a router.
This means that MAC address spoofing will not work on these servers.
Another defense for a smaller network is to set the switch ARP tables to be static.
But there’s more to network attacks than MAC address spoofing...
Defend your network against ARP poisoning attacks Another sort of  attack is the ARP (Address Resolution Protocol) poisoning attack that bad guys can use to completely bring down your network.
Because the Address Resolution Protocol has no way of verifying whether a MAC address is valid, an intruder can “poison” a network device by giving it false information.
This MAC address does not exist, but it’s associated with an IP that does.
The attacker broadcasts a packet with an IP address, along with a MAC address that’s either faked or simply doesn’t exist.
Other workstations and network devices receive the broadcast packet and update their ARP tables (aka caches) with the bad information.
Those devices are now using information that is poisoned, or intentionally corrupted.
Now that the AR tables are poisoned, the attacker can use one of  three attack methods: Denial of  Service, Man in the Middle, or MAC flooding.
Q: Is there any way to find out if someone is sending ARP poisoning attacks on my network.
A: An intrusion detection system (IDS), like Snort, will monitor your network for ARP requests that seem out of the ordinary.
A: Programs like “Dsniff” come packaged with smaller apps like “arpspoof.” Using arpspoof inside a switched network, the attacker can create and send poisoned ARP packets, which open up other exploit possibilities.
Q: Why won’t MAC spoofing and ARP poisoning affect a router?
Routers can’t be fooled by these attacks the way switches can.
Q: You mentioned a few different types of ARP attacks.
A: With an ARP-based DoS attack, you trick other devices on the network into sending traffic to an IP address that is valid, but you give it a MAC address that can’t be found on the network.
Once all of the ARP tables are poisoned, other machines on the network start sending traffic intended for the router to a device that doesn’t exist.
In effect, you isolate the local network from getting beyond the router in question.
A: An attacker finds a way to intercept traffic intended for the router, or another workstation, and forwards it on to another device.
It would be like changing your mailbox number so that the mailman believes your mailbox is actually your neighbor’s.
That way, you could get their mail before they do.
You can then deliver the mail to your neighbor so that they never know what happened.
However, you get a chance to filter through mail that was intended for your neighbor.
Q: And a MAC flooding attack? A: You can eat up the switch’s resources by overwhelming it with tons of ARP requests that ask for hardware (MAC addresses) that don’t exist.
So what can we do about ARP poisoning attacks? The key thing with this sort of  attack is to harden your switch.
Most switches have port security features which let you assign only one MAC address per port, and this is one of  your best defences against this sort of  attack.
If  the wrong MAC address comes into the wrong port, the switch won’t let it through.
The attacker gets a chance to read your messages before you do.
It’s all about the access, baby! So far we’ve dealt with switch hardening, but that’s not the only device we need to tighten security on.
If an attacker can get past your router, then he’s on your network! If  you don’t have proper access controls in place on your router, then anyone can get into your network.
They don’t even have to spoof  anything to do it.
The only thing between me and the network is that sweet little router...
Set up your router’s Access Control Lists to keep attackers out The meat-and-taters of  hardening your router comes in the form of  Access Control Lists (ACLs)
An Access Control List is a simple table that a router uses to keep track of  which IP Addresses are allowed to cross the router.
You configure the table so that particular IP addresses are either allowed or denied access.
This column tells us whether a device can cross the router.
If  there’s an “Allow” entry, the device is allowed access.
Below are three clients that you want to have access to your network and two clients that you want to restrict  Write in the access rules to do so.
Finally, we tell the router that we want to apply the access-list to a group.
The “in” part tells the router that we want to apply the access list to inbound packets.
The number “42” identifies the “access list ID” we want to use.
With “deny” we are telling the router to refuse packets from 10.0.1.18
So how do we configure the Access Control List? To set up permissions in the router Access Control List, you open up a terminal and use commands to configure the permissions.
Below are three clients that you want to have access to your network and two clients that you want to restrict  Write in the access rules to do so.
You’ve hardened your switches and routers, but that’s not enough.
If  you’re not careful, the bad guys will attack your network from the outside.
You need to defend your network from dangerous outside influences with an effective firewall.
Ha, switch and router hardening won’t stop me! I’m gonna bring your network to its knees from the outside.
What are the differences between software and hardware firewalls? Which type is more secure? Is there a difference between these types of firewalls and a firewall on a personal computer?
A firewall filters packets that travel between networks by applying rules for access.
Firewalls can be hardware devices, or they can be a piece of  software on a device.
Cisco manufactures an older series of  firewalls called “Pix Security Appliances” and a new series of  firewalls called “Adaptive Security Appliances” (ASAs)
A regular router can be set up as a firewal, and most Linux installers allow you to configure a workstation as a firewall.
Tons of  software apps offer you a software firewall solution.
Our purpose here is not to tell you which kind to choose and use, but to explain how they work and how they protect your network.
Attempts to infiltrate a firewall can come from another network, or across the Internet.
So a firewall filters packets, but how does it do so? By applying rules that are a little bit like a router’s ACLs.
The big difference is that a router’s ACL applies to an IP-based device, where a firewall’s packet-filtering rules apply to ...
These are the basic rules of most firewalls, but some differ in the language they use.
Master the static packet filter A firewall uses static packet-filtering and stateful packet-filtering.
The packet header contains all the information a firewall needs to apply its rules.
Like a border security guard, the firewall gathers information on the travelers who want to get to one side or the other.
I have a rule that tells me to deny any incoming UDP traffic.
Halt! Where are you coming from? What protocol do you use? Where are you headed to? Are you coming into the network or leaving it? Answer me now!
If the packet will be denied, put an “X” through it.
If the packet will be denied, put an “X” through it.
I’ll just use a dumb little UDP packet to slip past your simple filters.
Because static packet-filters rely on header information, they are often not descript enough to catch traffic cloaked in a simple protocol like UDP.
We need something that doesn’t just analyze the packet’s basic characteristics, but can also look at the packet’s state.
Get smart with stateful packet-filters The problem with static packet filters is that their packet-filtering rules are static, meaning they can’t be changed.
Static packet filters use a simple table to check packets, and they have no way to remember which packets have come through and when.
Hackers can take advantage of  the amnesiac, rigid nature of  static packet filters.
Fortunately, we have a more dynamic way to firewall: the stateful packet filter.
Like static packet filters, a stateful packet filter analyzes packet headers.
However, a stateful packet filter adds some brains to its operations in the form of  a state table, which allows it to keep track of  which packets have come through and when.
Allow or deny access based on rules and the state.2
I’m a UDP packet responding to an earlier outgoing UDP packet from your network.
Who am I?A bunch of security technologies, in full costume, are playing the party game “Who am I?” They’ll give you a clue, and you try to guess who they are based on what they say.
Fill in the blanks to the right to identify the attendees.
I deal with IP addresses and protocols coming through a router.
I do pretty much the same thing but with some memory.
I can use static MAC address tables to block MAC spoofing.
I look for computer viruses and worms, then I kill them.
I give access based on destination and source IP addresses and port numbers.
I use various filters and rules to control access to networks.
Who am I?A bunch of security technologies, in full costume, are playing the party game “Who am I?” They’ll give you a clue, and you try to guess who they are based on what they say.
Fill in the blanks to the right to identify the attendees.
I deal with IP addresses and protocols coming through a router.
I do pretty much the same thing but with some memory.
I can use static MAC address tables to block MAC spoofing.
I look for computer viruses and worms, then I kill them.
I give access based on destination and source IP addresses and port numbers.
I use various filters and rules to control access to networks.
Humans are the weakest link in your security chain You’ve hardened your network, but you missed the most crucial element to security: the human beings that surround you.
No matter how intense your security technology, if  the human element breaks down, the attacker can hit you where you live.
Social engineering refers to the practice of  using human interaction and trust to gain access to vital network resources.
So how do social engineers operate? Let’s take a look.
The social engineer operates by, first of  all, gaining the trust of  people who have access.
Like good con men, they work by appealing to basic human nature.
Hi, it’s my first week, and the boss has asked me to look at a problem on the network.
Once the social engineer has gained trust, they use that trust to gain access.
As an example, they might con or sweet talk an employee into giving them access to the wiring closet where the switch is located.
Once the social engineer has gained access, they wreak havoc on the network, therby nullifying all the hard work you did securing the network.
Smash social engineering with a clear and concise security policy The easiest way to defend against social engineering is to write a well-crafted security policy.
A security policy describes how the company operates in regards to protecting access to its physical and logical assets.
In other words, who can get into the wiring closets, who can login to routers and switches, and what rights must someone have to change things (read-only or admin)
The System Administrator enforces the security policy on servers using passwords and file access permissions.
The Facility Manager controls access to physical assets, like server room and wiring closets, with door locks and other physical access control methods.
An effective security policy is embraced by an organization; otherwise, it is just more useless policy.
To get started on a security plan, start with controlling access to assets.
Fill in the table below with who you think needs access to the assets listed, and how the assets should be secured.
To get started on a security plan, start with controlling access to assets.
Fill in the table below with who you think needs access to the assets listed, and how the assets should be secured.
You’ve hardened your network Congratulations! Through the course of  this chapter, you’ve learned about various attacks that the bad guys can make on your network, and you’ve discovered a variety of  techniques for keeping them out.
You’ve seen how hardening your switches and routers prevents many attacks, and how your firewall guards your entire network against outside infiltration.
Finally, you’ve seen how to deal with social engineering by implementing a good security policy.
When it comes to networks, a good plan means everything.
Hey there! Are you ready for a new project? We need you to come up with a network design from scratch.
Now you have to plan a network from scratch! In an earlier chapter, you essentially reran some cables and put in some trays.
But the challenge here is to plan all aspects of  a network on a building that, at this point, is just a rough floor plan.
This is the best possible point to get going with your network design, when there is not even a blueprint yet, just an idea.
You can make sure that the network you plan will meet the needs of the building’s occupants and accomodate future growth.
The most important thing to do at this early stage is to talk to people.
Talk to the future occupants, to the bosses, to the contractors, and to your IT people.
Armed with all this information, you can make informed decisions about your network design.
Physical layout of wire and network drops Network hardware configuration Logical network design An implementation plan.
Action Plan Magnets Let’s hit the ground running and create an action plan.
Drag each step for creating a network design into the correct slot.
Action Plan Magnets Solution Let’s hit the ground running and create an action plan.
Drag each step for creating a network design into the correct slot.
Write down at least two questions for each category that you need answered in order to develop a network design.
Hint: Use the floor plan above to think about the physical aspect of your design.
You have to know what the needs are before you can plan The first thing you need to do is gather requirements for your network.
You have to be thinking in terms of  network size, type, growth potential, equipment location, logical configuration, etc.
This means that you have to be asking a lot of  questions.
Questions to the people in charge, questions to the users, and questions to the architects.
Is there a basement? Can wires run in the walls? Where is the wiring closet to be located? Can we use cable trays in the basement?
Does the building need just a switch or does it need a router too? Do we need to put in a firewall? How does it connect to the outside network or Internet?
When does the network need to be ready? What is the budget? Are we responsible for running the cables?
Write down at least two questions for each category that you need answered in order to develop a network design.
Hint: Use the floor plan above to think about the physical aspect of your design.
So you’ve developed your questions, now what? You’ve got to ask them.
First thing is to find out who all the stakeholders in the building are.
This could include the people in charge, the users, the architects, and even the contractors.
OK, I now have a great big file folder of information.
Look at your action plan The next step is to draw up a physical network plan.
Your goal is to figure out where your cables are going to run and where your equipment is going to be located.
Use this symbol to represent a network connection or “drop.”
Use the network requirements to draw up a physical network diagram.
Room 108 will house a printer and a fax machine.
They will be in rows of 5 in the middle of the rooms.
It will have a fiber network connection run from the main building under the wiring closet.
The building will have an 8’ crawlspace, so trays and wiring can go down there.
The CIO wants at least 3 network drops in each office.
Use the network requirements to draw up a physical network diagram.
Use this symbol to represent a network connection or “drop.”
Room 108 will house a printer and a fax machine.
They will be in rows of 5 in the middle of the rooms.
It will have a fiber network connection run from the main building under the wiring closet.
The building will have an 8’ crawlspace, so trays and wiring can go down there.
The CIO wants at least 3 network drops in each office.
So you have a physical layout, what’s next? Well, our action plan is missing a step.
When you get your physical network diagram done, you need to compare it to the actual building to make sure everything will fit, but the building does not exist yet.
It’s much easier to put in extra wire and network equipment now.
Blueprints show everything in a building’s design A blueprint consists of  many pages.
They are generally broken down into sections corresponding to specific areas like framing, HVAC (heating, ventilation and air conditioning), plumbing, electrical, and surface covering, such as flooring.
The electrical section is where network stuff  usually is found.
You need to be familiar with all the pages to see how your design is impacted by the different parts of  the building.
Be sure you read the notes for each section of the blueprint.
Often these are located on the first page of the section.
Most of this ductwork will hang via hangers from the floor joists, hanging down about 2’
You may have to modify your network design based on what you see in the blueprints! Many times, after reviewing blueprints, you will find that aspects of  your network design conflict with parts of  the building design.
As construction of a building progresses, you will frequently find the blueprints have changed.
You need to watch for these, and adjust your design accordingly.
Below are several areas that will be on a blueprint.
Write down two things for each area that you need to check on the blueprint to assure that there are no conflicts with your plan.
Below are several areas that will be on a blueprint and should match network your design.
Write down two things for each area that need to be checked on the blueprint to assure they match your design to could cause your design issues.
The correct number of network drops All the drops are in the correct location The drops are accessible from below and not blocked by HVAC or plumbing.
There is no HVAC ducting or equipment that is in the path of the cable trays and runs There is no plumbing in the path of the cable trays or runs.
There is adequate electrical power in the wiring closet There is good lighting in the basement to facilitate cable tray installation and running the cable.
Q: So, if I work for a big company, there could be a lot of people that are going to use the new building.
A: No, but it is important to talk to a good cross section of people.
The people at the top don’t always know the nitty-gritty details of how stuff is working.
Q: But can’t I rely on the architect and her engineers to design the network?
A: Sure, if you are willing to pay them lots of money.
Often they have an idea of how things are, but only you and the people working with the network really know.
The more time an architect and engineer spend interviewing people and gathering requirements, the more it costs you.
Usually you terminate all the cables coming into wall boxes into a patch panel, regardless of whether a phone or computer gets connected to it.
Then at the patch panel end, you connect it to either a phone system or a network switch.
Q: Aren’t there phones that work on the network? Do I do anything different with those as far as cabling?
The only caveat is that certain phones require a voltage on the network cable to actually run.
You can purchase special Ethernet switches that put power out over the network cable for these types of phones.
Q: You did not really mention how I should document my network plan.
When you are gathering requirements, you will collect information from all sorts of sources, including different types of documents such as speadsheets, memos, and emails.
When you are collecting the information, it is best to keep a folder on your computer as well as a paper folder with all your information.
When you are ready to start documenting the plan, use a good word processor that can include graphics and tables so you can document all of your information nicely and professionally.
Q: What about network diagrams? How do I produce those?
A: There are a lot of graphics programs out there, including Microsoft Visio and OmniGroup OmniGraffle.
These programs have the icons and tools to create professional diagrams.
Whatever you do, do NOT try to use Word or some other word processing program to create diagrams.
It will only end in disaster as your diagrams get more complex.
Q: What is the difference between a floorplan and a blueprint?
A: A floorplan is generally a rough idea of what a building should be.
It is not used for anything except large scope planning, and maybe some space planning.
A blueprint is the actual guide for the various contractors on how to put the building together.
As such, it has to be very detailed and specific.
Review the HVAC plans below and your physical network diagram to the left.
Circle problems areas and write a list of problems that the HVAC system will cause your network design.
This is an air exchanger, and there is no room over the top of it.
Review the HVAC plans below and your physical network diagram to the left.
Circle problems areas and write a list of problems that the HVAC system will cause your network design.
This is an air exchanger, and there is no room over the top of it.
Problems: All the cable trays appeared to be in the same area as HVAC ducting and equipment.
Some of the office network drops may be hard to access from below because of HVAC ducts.
The area under the central office area is filled up with an air exchanger, not leaving any room for cable trays.
Solutions: The cable tray can be moved to one side or the other and hung down below the HVAC ducts.
The call centers on the top of the floor plan could be run straight into the wiring closet.
The flex tube from the wall boxes can be run out past the ductwork to ensure access.
So you’ve got your physical network layout, what’s next? The next thing on the list is to develop an equipment list, but we think you can do that on your own.
Just look at your physical layout and list the equipment you are going to need.
Let’s move onto the next thing: a logical network diagram.
Using the physical network design on the left, complete the logical network design.
The IP addresses use the office number and have the network address of 172.10
Using the physical network design on the left, draw a logical network design.
Remember to include all the network nodes and the external connection.
The IP address use the office number and have the network address of 172.10
You have got several options to segment this into two networks.
You could put a firewall in to segment off the administrative computers.
You could get another external connection and disconnect the two switches from one another.
Why wouldn’t putting the call center machines behind a firewall solve your problem?
To decide between the choices, you have to look at cost of  equipment, ongoing costs, ease of  installation, and ease of  maintenance.
Can you segment the network? You need to make sure that the call center computers can’t see the admin computers.
Redesign the network below and add a router in the appropriate place in the network.
Also, use the third interface on the router to connect to the external connection.
Finally fill out the tables to the left with the appropriate information to complete the router configuration.
You’ll have to use a network address that does not use the room number for these, since they will be subnetted.
Redesign the network below and add a router in the appropriate place in the network.
Also, use the third interface on the router to connect to the external connection.
Finally fill out the tables to the left with the appropriate information to complete the router configuration.
Finally, you need an implementation plan Now that you’ve come up with a complete network diagram, you can move onto the final stage in designing a network.
Your implementation plan is comprised of  all the pieces needed to actually install your network.
Write down at least four things that you will need to get this network installed.
Write down at least four things that you will need to get this network installed.
People needed for installation Installation timeline including deadline Need to purchase the network equipment and other hardware Installation process, who does what and order of installation.
That design shows that you are a real network pro now.
If you’ve stuck it out this far, then you are on your way to being a true network professional!
We’re sad to see you leave, but there’s nothing like taking what you’ve learned and putting it to use.
You’re just beginning your networking journey, and we’ve put you in the.
We’re dying to here how things go, so drop us a line at the Head First Labs.
Networking is such a huge subject, we couldn’t hope to cover everything in just one book.
But before we turn you loose on the world, we want to add a few more things to your.
Some of these things are in all the network books, so we thought we could.
Some of these things are higher level, and we want you to at least.
Oh my, look at all the things that are left...
Network topologies The topology of  a network is the logical structure of  the connections in a network.
Star topology When we talked about designing and wiring networks, we assumed that we were working with an Ethernet switch or hub in the middle.
The topology or shape of  this network is called a star.
A star is called that because all the network clients talk to the hub or switch in the middle.
It was designed by IBM and is a proprietary technology, so it wasn’t as widely adopted as Ethernet.
Token Ring uses a “token” packet that is sent from client to client.
The client holding the token is allowed to send network traffic.
All the network nodes are connected to a shared cable, so there is no central device.
Each node on the network deals with all the traffic.
Installing Wireshark The first thing you need to do to get Wireshark running is download the appropriate package for your system.
The Windows installer starts, and you basically keep clicking on Next through the screens.
The first is the specific parts of Wireshark to be installed.
You should leave the defaults checked unless you’re confident you know what you’re doing.
The second screen to pay attention to is the WinPcap installation screen.
This is a program used to capture network data, and you must install it.
If  you don’t, Wireshark will not be able to capture traffic.
First you just drag the GUI portion of  the application to your Applications folder.
Second, you have to install a couple of  command-line utilities.
Finally, you need to change the permissions on some links that allow access to the network drivers.
A big caveat with the Mac OS X installation is that you need to have X11 installed.
These can be found on the optional installs on your Mac OS X Installation DVD.
Linux Install (Ubuntu) To install Wireshark on Linux, you have a few choices.
First, you can download the source code and compile it yourself.
If  you can do this, you don’t need any more help from us.
The second choice is to download a pre-compiled package and install that.
The third choice available for Ubuntu is to use the Add/Remove Software application located on the Applications menu.
Do a search for Wireshark, making sure to select Show All available applications from the dropdown menu.
You’ll get a warning about community maintained software, but just click OK.
It will ask you a few more things, but just click OK to those as well.
The Terminal application is within Utilities; just double-click on it to run it.
Linux On Ubuntu, the Terminal application is accessed via the Accessories menu located under the Applications menu.
On Fedora, it’s located under the System Tools menu under the Application menu.
Windows To get to the Windows command line, click on the Start button, and then select Run.
In the text box, type cmd, and a command line window will open up.
The TCP Stack You may have spent the whole book wondering “When are we going to get to the TCP stack?” Well, here it is.
The TCP/IP stack is the model of  the protocols used in TCP/IP networking.
It’s called a stack because it’s usually represented in a vertical stack of protocols.
We covered several of  these protocols, but we didn’t put them in the context of  the TCP/IP stack.
Many books start off  by introducing the TCP/IP stack, but we chose to be different.
The reason we did not present this is that there is no absolute model for TCP/IP, and we see this as a problem.
The model below is based on RFC 1122, but you’ll see many models that are slightly different.
If  you look back at Chapter 4, you will see how an Ethernet frame is built from all these parts.
The Link layer corresponds to the frame parts; the Internet layer corresponds to the IP part of  the frame; the TCP part of  a packet corresponds to the TCP part of  the frame.
Frames holding ICMP packets will only have the bottom two layers.
This is just a way of  viewing how the various parts of  the TCP/IP protocol work together.
It also gives guidelines to developers on how to write network applications and drivers that use TCP/IP.
Application Layer The application layer is where TCP/IP applications work.
This is to guarantee communications between two network nodes by providing error checking.
This is the layer that connects the software to the hardware.
This allows a network administrator to virtually separate hosts on the network as if  they were on separate physical networks.
A network administrator would want to separate traffic for security and performance reasons.
For security, you might want to keep certain servers from being accessed from certain parts of  your network.
As an example, a college might not want computers that students use to have access to administrative servers.
A VLAN would allow those servers to be spread around campus, but wouldn’t allow the student computers to see the traffic coming and going to those administrative servers.
Splitting up the broadcast domains would reduce the amount of  broadcast traffic on a given VLAN port.
The packets created by hosts on VLANs are tagged by the switch that has VLANs setup.
That way, other switches know which VLAN ports to send those packets out to.
Cisco IOS Simulators We know that not everyone has a Cisco or other brand of  router sitting on their desk.
You can obtain a cheaper used Cisco router for a few hundred dollars.
This class of  router would allow you to do most everything in this book and would allow you to work towards a Cisco Certification.
There are also software IOS simulators available, either for free or for purchase.
Wouldn’t it be great if  you could just hook up to your companies network to do that work? Well, VPNs allow you to do that.
It has two parts, a special network configuration on the client computer and a VPN gateway on the network that you wish to connect into.
A VPN allows a remotely located client to gain secure access to an internal network.
The communication between a VPN client and gateway is encrypted to protect the communications.
It is unique in that it uses ASNs (Autonomous System Numbers) to route traffic instead of  IP network addresses.
The ASNs used by BGP are actually registered with one of  the Internet registries such as arin.net.
This aggregation of  IP network addresses enables routers using BPG to hold the entire ASN route table of the Internet.
In other words, if  you get to the big leagues and manage a router using BGP, that router will have a route table of  the entire Internet.
You have to enter these neighbors yourself, and those neighbors have to setup your router as a neighbor as well.
Entities that have multiple Internet connections and/or large blocks of  IP network addresses are likely to be using BGP.
It then puts those encrypted packets into the data section of  a regular TCP packet, sends that packet across the public network, and then the VPN gateway removes the encrypted packet, decodes it and sends it into the internal network.
There are also VPN Gateway to VPN Gateway connections which allow a small office to have internal network access to a parent company’s network using a VPN gateway.
Intrusion Detection Systems With all the problems of  people trying to get into your systems, wouldn’t it be nice to be able to detect this type and activity and have it reported to you or, even better, take some kind of  action?
These are generally special purpose servers that have the proper software to listen on your network for anomalous traffic.
This could include scanning behavior, incorrect data on registered ports, or even denialof-service attacks.
Snort is similar to wireshark in that it can sniff  network traffic.
The difference is that it filters this traffic using various rules to look for this anomalous traffic using different patterns.
There are many rules developed by network administrator in order to capture this bad traffic.
Some IDSs also allow actions to take place based on this kind of  traffic.
This action usually consists of  implementing access lists on a router or firewall which block ports and/or IP addresses of  the hosts creating the anomalous network traffic.
IDSs are great to have, but like anything, you can’t just set it up and let it run.
You have to actively manage and monitor it for it to be at its most effective on your network.
Cisco Certification The last big thing we didn’t cover was network certifications.
The biggest in terms of  people with these certifications are the Cisco certifications.
There are two main ones, CCNA and CCNP, with CCNA being the entry level network certification.
Both of  these certifications are obtained by taking one or more tests.
In the case of  the CCNP, there are three or four tests to take (two of  the tests can be taken as a combined test)
The CCNA requires that you know a little more information than this book provides.
The CCNP requires the same type of  knowledge but in much greater depth.
It also requires a lot more knowledge of  switched networking and wide area networking using various telco technologies such as ISDN and T-1 lines.
There are other vendor specific certifications, but these two are the heavy hitters in the network cert world.
In this appendix, you’ll find a whole bunch of ASCII codes.
I wish he wouldn’t keep writing to me in binary...
And the most commonly used DNS server on the Internet is BIND.
Enter a password for your service and hit the Install Button.4
Walking on Wires Coconut Airways has a network problem The booking system network cable is busted.
How do we fix the cable? But how do we do this?
So what’s with all the colors? Test Drive Let’s fix the broken CAT-5 cable Where you put each wire is important.
A closer look at the RJ-45 connector So which wire goes where?
So what are the physical steps? You fixed the CAT-5 cable Coconut Airways has more than one network Introducing the coaxial cable Coaxial networks are bus networks So can we fix the cable? The network’s still not working So what goes on inside a coaxial cable? But what if there’s a break in the conductor?
What about connectors and terminators? Use toner-tracer sets to listen to electrons No sound means no electrons So how do we find the continuity break?
Cablecross You’ve fixed the coaxial cable Introducing fiber-optic cables Fiber-optics have connectors too.
The Coconut Airways cable’s over-bent So what’s a fusion splicer?
How to fix fiber-optics with afusion splicer A fiber-optic connector needs fitting too We’re nearly ready to fix the connector There are two types of fiber Single mode fiber Multimode fiber.
Which mode fiber should you use? Let’s fit the connector on the fiber-optic Coconut Airways is sky high.
Networking in the Dark Ghost Watch needs your help! Every good network needs a good plan So how does the device list help usplan a network? How to plan a network layout Let’s plan the cabling with a floorplan Ready to plot some network cables? So where have we got to? We need to decide on the cable management hardware Uh oh! The cabling is a mess Ghost Watch needs cable management hardware Things that go bump...
You’ve really cleaned up that noise and straightened out MOST of the cables! Let’s start by labeling the cables But there are still lots of cables So what’s a patch panel? Behind the scenes of a patch panel The wires go into a punch down block Roll the cameras!
Into the Wire Mighty Gumball won the Super Bowl contract A toner and tracer can check for a signal...
So what’s resistance? When resistance is low When resistance is high.
So how well did the multimeter do? An oscilloscope shows voltage changes Voltage is really electrical pressure Where does noise on network cables come from? So how well did the oscilloscope perform for Mighty Gumball? A logical analyzer uses voltage too When is a logical analyzer useful? So which tool is best? The Mighty Gumball bonus went to Jill A LAN analyzer combines the functions of all the other tools A LAN analyzer understands thenetwork traffic in the signal So which tool is best? The Mighty Gumball problems are fixed!
You’ve Been Framed What’s the secret message? So how do we extract a message from a signal?
Network cards handle encoding So how does the NIC encode the data?
To get the message, reverse the encoding So how do we decode the signal?
The Ethernet standard tells hardwarehow to encode the data A quick guide to binary So how do we convert a binary to decimal?
Computers read numbers, humans read letters But isn’t there an easier way?
Hexadecimal to the rescue So how do we convert a hexadecimal to decimal?
We can convert to ASCII using hex Back at the spy agency...
The packet information tells us where the packet came from So who’s the mole? There’s more to networks than computers Hubs are dumb Hubs don’t change the MAC address So which device sent the packet to the hub?
A hub sends signals, and sends them everywhere Hubs think in terms of electricity.
So what passed the signal to the hub? A switch sends frames, and only sends them where they need to go Switches think in terms of frames.
Switches are smart Switches store MAC addresses in a lookup table to keep the frames flowing smoothly The switch has the information...
We can use software to monitor packets Let’s hook Wireshark up to the switch Wireshark gives us traffic information Routers have MAC addresses too Network ports Routers are really smart We’re closing in! You’ve found the mole!
Bringing Things Together Networking on the moon We need to connect two networks together The light’s on, but nobody’s home What do you think the flashing LEDs have to do with traffic on the network?
Let’s see what traffic is on our network! MAC address versus IP address IP addresses give our networks a sense of location, and network nodes a sense of belonging to that location We retrieve IP addresses using the MAC address and the Address Resolution Protocol (ARP) So what’s the problem with the Moonbase? How do we get network traffic to move between networks? How the router moves data across networks Back to the Moonbase problem The secret of IP numbers is...
Are you ready to program the router? You just created this router config file! Let the router tell us what’s wrong...
It’s a Matter of Protocol Houston, we have a problem...
Routing tables tell routers where to send packets We can see routes in the table using the show command.
Each line represents a different route So how do we enter routes? Routes help routers figure out where to send network traffic So are the moonbases now connected? Back on the moon...
So how do we troubleshoot bad routes? We can start with the ping command.
The traceroute command is useful too So what’s the problem with the network connection? The network address changes keepon coming...
Use RIP to get routes to update themselves So what does this mean for Moonbase 1?
So how do we set up RIP? But there’s still a problem...
There are too many hops RIP can only use the hop count to find the best route.
So how do we setup EIGRP? We have lift off!
Let’s go buy a domain name Uh-oh! We’re in trouble And she’s not the only one.
Introducing the DNS The DNS relies on name servers How the DNS sees your domain So how does this affect the Health Club? First install a DNS name server...
The Health Club can’t send emails So what’s the problem? Email servers use RDNS to fight SPAM Check your sources with reverse DNS The dig command can do a reverse DNS lookup Your name server has another important zone file...
So where would you start troubleshooting a misfiring network? Start troubleshooting your network problems by checking in with your network devices Troubleshoot network connectivity with the ping command If you can ping, you get timings But what if you can’t ping?
If the ping fails, check the cables Get started with the show interface command The interface’s network statistics are a goldmine of troubleshooting information Cisco Show Command Exposed The ticket network’s still not fixed How can we quickly troubleshoot networks without SSH or telnet?
How to configure SNMP on a Cisco device One hour to go...
Get devices to send you their problems How to configure syslogd on a Cisco device How do you tell what’s in the logs? syslogd lets you fix problems before they’re problems.
Too much information can be just as bad as not enough What you need is relevant information.
How do you know which events are important? Pajama Death’s a sell-out!
Wireless access points create networks using radio waves Let’s fit the wireless access point What about the network configuration? Maybe she has a point.
So what’s DHCP? DHCP allocates IP addresses First make sure the client has DHCP turned on...
Get Defensive The bad guys are everywhere And it’s not just the NETWORK that gets hurt...
The big four in network security Defend your network against MAC address spoofing So how do we defend against MAC address spoofing? Defend your network against ARP poisoning attacks So what can we do about ARP poisoning attacks? It’s all about the access, baby! If an attacker can get past your router, then he’s on your network!
Set up your router’s Access Control Lists to keep attackers out So how do we configure the Access Control List? Firewalls filter packets between networks Packet-filtering rules! Get smart with stateful packet-filters Master the static packet filter Humans are the weakest link in your security chain So how do social engineers operate? Smash social engineering with a clear and concise security policy You’ve hardened your network.
You Gotta Have a Plan! Now you have to plan a network from scratch! You have to know what the needs are before you can plan So you’ve developed your questions, now what? Look at your action plan So you have a physical layout, what’s next? Blueprints show everything in a building’s design You may have to modify your network design based on what you see in the blueprints! So you’ve got your physical network layout, what’s next? You have got several options to segment this into two networks Finally, you need an implementation plan Congratulations, you’ve designed an awesome network from scratch.
